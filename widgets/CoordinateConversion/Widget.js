// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/CoordinateConversion/CoordinateControl":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/dom-attr dojo/dom-class dojo/dom-style dojo/string dojo/topic dojo/keys dojo/Deferred dojo/dom dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Tooltip dijit/TooltipDialog dijit/popup dojo/text!./CoordinateControl.html esri/geometry/webMercatorUtils esri/graphic esri/geometry/Point esri/request esri/SpatialReference esri/tasks/ProjectParameters ./util jimu/dijit/Message ./EditOutputCoordinate ./dialogConfirm ./ConfirmNotation dijit/form/TextBox dijit/form/Textarea dijit/form/Select dijit/InlineEditBox".split(" "),
function(l,k,d,h,c,e,b,a,g,q,w,m,u,x,v,p,y,r,z,C,I,A,D,G,E,n,J,K,F,L,M,N){return l([x,v,p],{templateString:I,baseClass:"jimu-widget-cc",input:!0,inputFromText:!1,hasCustomLabel:!1,addSign:!1,widgetInfo:null,constructor:function(a){l.safeMixin(this,a);this.uid=a.id||y.getUniqueId("cc")},parentStateDidChange:function(a){a.isActive?this.mapclickhandler.resume():this.mapclickhandler.pause();this.widgetInfo={widgetState:a.state,themeName:a.themeName,isActive:a.isActive}},postCreate:function(){this._frmtdlg=
new z({id:this.uid+"_formatCoordinateTooltip",content:new L({nls:this.nls,ct:this.type}),style:"width: 400px",onClose:d.hitch(this,this.popupDidClose)});"DartTheme"===this.parentWidget.appConfig.theme.name&&e.add(this._frmtdlg.domNode,"dartThemeClaroDijitTooltipContainerOverride");this.defaultFormat&&(this._frmtdlg.content.formats[this.type].defaultFormat=this.defaultFormat);this.setConfig();this.initUI()},setConfig:function(){this.util=new K({appConfig:this.parentWidget.appConfig,nls:this.nls});
this.geomsrvc=this.util.geomService;this.zoomScale=this.parentWidget.config.coordinateconversion.zoomScale||5E4},initUI:function(){this.input?(this.setHidden(this.expandButton,!0),this.setHidden(this.removeControlBtn,!0),this.setHidden(this.coordNameContainer,!1),this.setHidden(this.addNewCoordinateNotationBtn,!0),e.add(this.cpbtn,"inputCopyBtn"),c.set(this.cpbtn,"title",this.nls.copyAll)):(e.remove(this.domNode,"coordinateContainer"),e.add(this.domNode,"outputCoordinateContainer"),e.add(this.cpbtn,
"outputCopyBtn"),this.setHidden(this.addNewCoordinateNotationBtn,!0),this.setHidden(this.zoomButton,!0),this.coordtext.readOnly=!0);this.currentClickPoint=this.parentWidget.map.extent.getCenter();this.getDDPoint(this.currentClickPoint).then(d.hitch(this,function(a){this.currentClickPointDDDD=this.currentClickPointDD=a;this.formatButton.title=this.nls.formatInput;this.updateDisplay()}),d.hitch(this,function(a){console.error(a)}));this.setUIListeners()},setUIListeners:function(){g.subscribe("CRDWIDGETSTATEDIDCHANGE",
d.hitch(this,this.parentStateDidChange));g.subscribe("INPUTPOINTDIDCHANGE",d.hitch(this,this.mapWasClicked));g.subscribe("INPUTERROR",d.hitch(this,this.inputError));this.own(h(this.expandButton,"click",d.hitch(this,this.expandButtonWasClicked)));this.own(h(this.addNewCoordinateNotationBtn,"click",d.hitch(this,this.newCoordnateBtnWasClicked)));this.own(h(this.zoomButton,"click",d.hitch(this,this.zoomButtonWasClicked)));this.own(this.coordName.on("blur",d.hitch(this,this.coordNameDidChange)));this.cpbtn.addEventListener("click",
d.hitch(this,this.cpBtnWasClicked));this.subVal1CpBtn.addEventListener("click",d.hitch(this,this.cpSubBtnWasClicked));this.subVal2CpBtn.addEventListener("click",d.hitch(this,this.cpSubBtnWasClicked));this.subVal3CpBtn.addEventListener("click",d.hitch(this,this.cpSubBtnWasClicked));this.subVal3CpBtn.addEventListener("click",d.hitch(this,this.cpSubBtnWasClicked));this.mapclickhandler=h.pausable(this.parentWidget.map,"click",d.hitch(this,this.mapWasClicked));this.own(h(this.formatButton,"click",d.hitch(this,
this.formatButtonWasClicked)));this.own(h(this._frmtdlg.content.applyButton,"click",d.hitch(this,function(){this.type=this._frmtdlg.content.ct;this.updateDisplay();this.hasCustomLabel||this._frmtdlg.content.formats[this._frmtdlg.content.ct].useCustom||this.coordName.set("value",this._frmtdlg.content.ct);C.close(this._frmtdlg)})));this.own(h(this._frmtdlg.content.cancelButton,"click",d.hitch(this,function(){C.close(this._frmtdlg)})));this.own(h(this.coordtext,"keyup",d.hitch(this,this.coordTextInputKeyWasPressed)));
this.own(this.geomsrvc.on("error",d.hitch(this,this.geomSrvcDidFail)))},popupDidClose:function(){if(this._frmtdlg.content.isCanceled)this.addSign!==this._frmtdlg.content.addSignChkBox.checked&&(this._frmtdlg.content.addSignChkBox.checked=this.addSign);else{this.addSign=this._frmtdlg.content.addSignChkBox.checked;var a=this._frmtdlg.content.ct;this.type!==a&&(this.type=a,this.updateDisplay())}},coordNameDidChange:function(){this.hasCustomLabel=!0},cpSubBtnWasClicked:function(a){var b;this[a.currentTarget.id.split("~")[0]].select();
try{b=document.execCommand("copy")}catch(t){b=!1}this.showToolTip(a.currentTarget.id,b?this.nls.copySuccessful:this.nls.copyFailed)},cpBtnWasClicked:function(a){a.preventDefault();var b,c;if(this.input){a=y.toArray().filter(function(a){return"jimu-widget-cc"===a.baseClass&&!a.input});a.reverse();c=a.map(function(a){return a.coordtext.value}).join("\r\n");a=this.coordtext.value;this.coordtext.value=a+"\r\n"+c;this.coordtext.select();try{b=document.execCommand("copy")}catch(H){b=!1}this.coordtext.value=
a}else{this.coordtext.select();try{b=document.execCommand("copy")}catch(H){b=!1}}this.showToolTip(this.cpbtn.id,b?this.nls.copySuccessful:this.nls.copyFailed)},cpCoordPart:function(){},showToolTip:function(a,b){var c=m.byId(a);r.show(b,c);setTimeout(function(){r.hide(c)},1E3)},geomSrvcDidComplete:function(a){0>=a[0].length?(new F({message:this.nls.parseCoordinatesError}),g.publish("INPUTERROR")):(this.currentClickPointDD=new G(a[0][0],a[0][1],new n({wkid:4326})),this.input&&(this.parentWidget.map.centerAt(this.currentClickPointDD),
g.publish("INPUTPOINTDIDCHANGE",{mapPoint:this.currentClickPointDD,inputFromText:!0})))},geomSrvcDidFail:function(){new F({message:this.nls.parseCoordinatesError});g.publish("INPUTERROR")},coordTextInputKeyWasPressed:function(a){if(a.keyCode===q.ENTER){var b=this.util.getCleanInput(a.currentTarget.value);this.util.getCoordinateType(b).then(d.hitch(this,function(a){if(a)if(1===a.length){var c=this.processCoordTextInput(b,a[0],!1);this.util.getXYNotation(c,a[0].conversionType).then(d.hitch(this,function(a){0<
a[0].length?this.geomSrvcDidComplete(a):this.geomSrvcDidFail()}))}else{var f=new M({title:this.nls.comfirmInputNotation,content:new N(a,this.nls),style:"width: 400px",hasSkipCheckBox:!1,nls:this.nls});f.show().then(d.hitch(this,function(){var c=k.filter(a,function(a){return a.name===f.content.comboOptions.get("value")}),H=this.processCoordTextInput(b,c[0],!1);this.util.getXYNotation(H,c[0].conversionType).then(d.hitch(this,function(a){0<a[0].length?this.geomSrvcDidComplete(a):this.geomSrvcDidFail()}))},
function(){}))}else new F({message:this.nls.parseCoordinatesError}),g.publish("INPUTERROR")}));c.set(this.coordtext,"value",b);this.currentClickPoint=null}},processCoordTextInput:function(a,b,c){var f=b.pattern.exec(a),e,g,d,n,t,h,p,B,q,m,l=!1,k=b.name;switch(b.name){case "DD":e=f[2];g=f[7];d=f[10];n=f[16];t=f[3].replace(/[,:]/,".");h=f[11].replace(/[,:]/,".");k="DD";break;case "DDrev":e=f[11];g=f[16];d=f[2];n=f[8];t=f[12].replace(/[,:]/,".");h=f[3].replace(/[,:]/,".");k="DD";break;case "DDM":e=f[2];
g=f[7];d=f[10];n=f[15];t=f[3];p=f[4].replace(/[,:]/,".");h=f[11];B=f[12].replace(/[,:]/,".");k="DDM";break;case "DDMrev":e=f[10];g=f[15];d=f[2];n=f[7];t=f[11];p=f[12].replace(/[,:]/,".");h=f[3];B=f[4].replace(/[,:]/,".");k="DDM";break;case "DMS":e=f[2];g=f[8];d=f[11];n=f[17];t=f[3];p=f[4];q=f[5].replace(/[,:]/,".");h=f[12];B=f[13];m=f[14].replace(/[,:]/,".");k="DMS";break;case "DMSrev":e=f[11],g=f[17],d=f[2],n=f[8],t=f[12],p=f[13],q=f[14].replace(/[,:]/,"."),h=f[3],B=f[4],m=f[5].replace(/[,:]/,"."),
k="DMS"}e&&g?(l=!0,e=(new RegExp(/[Ss-]/)).test(e)?"-":"+"):e=e&&(new RegExp(/[Ss-]/)).test(e)?"-":g&&(new RegExp(/[Ss-]/)).test(g)?"-":"+";d&&n?(l=!0,d=(new RegExp(/[Ww-]/)).test(d)?"-":"+"):d=d&&(new RegExp(/[Ww-]/)).test(d)?"-":n&&(new RegExp(/[Ww-]/)).test(n)?"-":"+";l&&(c||new F({message:this.nls.latLongWarningMessage}));switch(k){case "DD":a=e+t+","+d+h;break;case "DDM":a=e+t+" "+p+","+d+h+" "+B;break;case "DMS":a=e+t+" "+p+" "+q+","+d+h+" "+B+" "+m}return a},zoomButtonWasClicked:function(){this.input&&
(this.parentWidget.map.getZoom()<this.zoomScale?this.parentWidget.map.centerAt(this.currentClickPointDD).then(d.hitch(this,function(){this.parentWidget.map.setScale(this.zoomScale)})):this.parentWidget.map.centerAt(this.currentClickPointDD))},typeSelectDidChange:function(){this.currentClickPointDD&&this.updateDisplay()},newCoordnateBtnWasClicked:function(a){var b={};b.notation=this.type;b.defaultFormat=this.defaultFormat;this.showToolTip(a.currentTarget.id,this.nls.notationAddedMessage);g.publish("ADDNEWNOTATION",
b)},setHidden:function(a,c){b.set(a,"display","none");c&&u.destroy(a.parentNode)},setVisible:function(a){b.set(a,"display","inline-flex")},remove:function(){g.publish("REMOVECONTROL",this)},mapWasClicked:function(a){var b=!1;"active"!==this.widgetInfo.widgetState&&"opened"!==this.widgetInfo.widgetState||!this.widgetInfo.isActive||"DashboardTheme"!==this.widgetInfo.themeName||(b=!0);"active"!==this.widgetInfo.widgetState&&"opened"!==this.widgetInfo.widgetState||"DashboardTheme"===this.widgetInfo.themeName||
(b=!0);this.widgetInfo.isActive&&"DashboardTheme"===this.widgetInfo.themeName&&(b=!0);b&&(this.currentClickPoint=a.mapPoint,this.getDDPoint(a.mapPoint).then(d.hitch(this,function(b){this.currentClickPointDD=b;this.inputFromText=a.inputFromText?!0:!1;this.updateDisplay()}),d.hitch(this,function(a){console.error(a)})))},getDDPoint:function(a){var b=new w,c=new n(3857);A.canProject(a,c)?b.resolve(A.webMercatorToGeographic(A.project(a,c))):(c={url:this.geomsrvc.url+"/findTransformations",content:{f:"json",
inSR:a.spatialReference.wkid,outSR:4326,extentOfInterest:JSON.stringify(this.parentWidget.map.extent)},handleAs:"json",callbackParamName:"callback"},(new E(c,{usePost:!1})).then(d.hitch(this,function(c){c=(c=c&&c.transformations?c.transformations:void 0)&&0<c.length?c[0].wkid:void 0;var f=new J;f.outSR=new n(4326);f.geometries=[a];f.transformForward=!0;f.transformation=c;this.geomsrvc.project(f,d.hitch(this,function(a){b.resolve(a[0])}),function(a){b.reject(a)})}),d.hitch(this,function(a){b.reject(a)})));
return b},getProjectedPoint:function(a){var b=new w;if(A.canProject(a,this.parentWidget.map))b.resolve(A.geographicToWebMercator(a));else{var c={url:this.geomsrvc.url+"/findTransformations",content:{f:"json",inSR:4326,outSR:this.parentWidget.map.spatialReference.wkid,extentOfInterest:JSON.stringify(this.parentWidget.map.extent)},handleAs:"json",callbackParamName:"callback"};(new E(c,{usePost:!1})).then(d.hitch(this,function(c){c=(c=c&&c.transformations?c.transformations:void 0)&&0<c.length?c[0].geoTransforms[0].wkid:
void 0;var f=new J;f.outSR=new n(this.parentWidget.map.spatialReference);f.geometries=[a];f.transformForward=!0;f.transformation=c;this.geomsrvc.project(f,d.hitch(this,function(a){b.resolve(a[0])}),function(a){b.reject(a)})}),d.hitch(this,function(a){b.reject(a)}))}return b},expandButtonWasClicked:function(){e.toggle(this.coordcontrols,"expanded");e.contains(this.coordcontrols,"expanded")?(e.remove(this.expandButton,"expandBtn"),e.add(this.expandButton,"collapseBtn")):(e.remove(this.expandButton,
"collapseBtn"),e.add(this.expandButton,"expandBtn"));this.setSubCoordUI(e.contains(this.coordcontrols,"expanded"))},formatButtonWasClicked:function(){this._frmtdlg.content.setCt(this.type);C.open({popup:this._frmtdlg,around:this.formatButton})},setSubCoordUI:function(a){if(a){a="165px";switch(this.type){case "DD":case "DMS":case "DDM":this.sub1label.innerHTML="Lat";this.sub2label.innerHTML="Lon";this.setHidden(this.sub3,!1);this.setHidden(this.sub4,!1);a="90px";break;case "GARS":this.sub1label.innerHTML=
"Lon";this.sub2label.innerHTML="Lat";this.sub3label.innerHTML="Quadrant";this.sub4label.innerHTML="Key";this.setVisible(this.sub3);this.setVisible(this.sub4);break;case "GEOREF":this.sub1label.innerHTML="15\u00b0 Quad";this.sub2label.innerHTML="1\u00b0 Quad";this.sub3label.innerHTML="Easting";this.setVisible(this.sub3);this.sub4label.innerHTML="Northing";this.setVisible(this.sub4);break;case "USNG":case "MGRS":this.sub1label.innerHTML="GZD";this.sub2label.innerHTML="Grid Sq";this.sub3label.innerHTML=
"Easting";this.sub4label.innerHTML="Northing";this.setVisible(this.sub3);this.setVisible(this.sub4);break;case "UTM":this.sub1label.innerHTML="Zone";this.sub2label.innerHTML="Band";this.sub3label.innerHTML="Easting";this.sub4label.innerHTML="Northing";this.setVisible(this.sub3);this.setVisible(this.sub4);break;case "UTM (H)":this.sub1label.innerHTML="Zone",this.sub2label.innerHTML="Hemisphere",this.sub3label.innerHTML="Easting",this.sub4label.innerHTML="Northing",this.setVisible(this.sub3),this.setVisible(this.sub4)}b.set(this.coordcontrols,
"height",a);b.set(this.coordcontrols,"width","300px")}else b.set(this.coordcontrols,"height","0px")},setCoordUI:function(b){var g;if(b){var d=this.uid.split("_")[1];if(!this["cc_"+d+"sub1val"]||this.input&&this.inputFromText)return;var f;f=this._frmtdlg.content.formats[this.type];f=f.useCustom?f.customFormat:f.defaultFormat;switch(this.type){case "DD":b=this.util.getFormattedDDStr(b,f,this.addSign);this["cc_"+d+"sub1val"].value=a.substitute("${xcrd}",{xcrd:b.latdeg});this["cc_"+d+"sub2val"].value=
a.substitute("${ycrd}",{ycrd:b.londeg});g=b.formatResult;break;case "DDM":b=this.util.getFormattedDDMStr(b,f,this.addSign);this["cc_"+d+"sub1val"].value=a.substitute("${latd} ${latm}",{latd:b.latdeg,latm:b.latmin});this["cc_"+d+"sub2val"].value=a.substitute("${lond} ${lonm}",{lond:b.londeg,lonm:b.lonmin});g=b.formatResult;break;case "DMS":b=this.util.getFormattedDMSStr(b,f,this.addSign);this["cc_"+d+"sub1val"].value=a.substitute("${latd} ${latm} ${lats}",{latd:b.latdeg,latm:b.latmin,lats:b.latsec});
this["cc_"+d+"sub2val"].value=a.substitute("${lond} ${lonm} ${lons}",{lond:b.londeg,lonm:b.lonmin,lons:b.lonsec});g=b.formatResult;break;case "USNG":b=this.util.getFormattedUSNGStr(b,f,!1);this["cc_"+d+"sub1val"].value=b.gzd;this["cc_"+d+"sub2val"].value=b.grdsq;this["cc_"+d+"sub3val"].value=b.easting;this["cc_"+d+"sub4val"].value=b.northing;g=b.formatResult;break;case "MGRS":b=this.util.getFormattedMGRSStr(b,f,!1);this["cc_"+d+"sub1val"].value=b.gzd;this["cc_"+d+"sub2val"].value=b.grdsq;this["cc_"+
d+"sub3val"].value=b.easting;this["cc_"+d+"sub4val"].value=b.northing;g=b.formatResult;break;case "GARS":b=this.util.getFormattedGARSStr(b,f,!1);this["cc_"+d+"sub1val"].value=b.lon;this["cc_"+d+"sub2val"].value=b.lat;this["cc_"+d+"sub3val"].value=b.quadrant;this["cc_"+d+"sub4val"].value=b.key;g=b.formatResult;break;case "GEOREF":b=this.util.getFormattedGEOREFStr(b,f,!1);this["cc_"+d+"sub1val"].value=b.lon+b.lat;this["cc_"+d+"sub2val"].value=b.quadrant15lon+b.quadrant15lat;this["cc_"+d+"sub3val"].value=
b.quadrant1lon;this["cc_"+d+"sub4val"].value=b.quadrant1lat;g=b.formatResult;break;case "UTM":b=this.util.getFormattedUTMStr(b,f,!1);b.bandLetter.match(/^[AaBbYyZz]/)?(this["cc_"+d+"sub1val"].value="",this["cc_"+d+"sub2val"].value="",this["cc_"+d+"sub3val"].value="",this["cc_"+d+"sub4val"].value="",b.formatResult=""):(this["cc_"+d+"sub1val"].value=b.zone,this["cc_"+d+"sub2val"].value=b.bandLetter,this["cc_"+d+"sub3val"].value=b.easting,this["cc_"+d+"sub4val"].value=b.westing);g=b.formatResult;break;
case "UTM (H)":b=this.util.getFormattedUTMHStr(b,f,!1),b.hemisphere.match(/^[AaBbYyZz]/)?(this["cc_"+d+"sub1val"].value="",this["cc_"+d+"sub2val"].value="",this["cc_"+d+"sub3val"].value="",this["cc_"+d+"sub4val"].value="",b.formatResult=""):(this["cc_"+d+"sub1val"].value=b.zone,this["cc_"+d+"sub2val"].value=b.hemisphere,this["cc_"+d+"sub3val"].value=b.easting,this["cc_"+d+"sub4val"].value=b.westing),g=b.formatResult}}else g="";this.setSubCoordUI(e.contains(this.coordcontrols,"expanded"));this.coordtext&&
c.set(this.coordtext,"value",g)},getFormattedCoordinates:function(){this.util.getCoordValues(this.currentClickPointDD,this.type,4).then(d.hitch(this,function(a){this.setCoordUI(a)}),d.hitch(this,function(a){console.log(a)}))},updateDisplay:function(){this.getFormattedCoordinates(this.currentClickPointDD);this.input&&(this.parentWidget.coordGLayer.clear(),this.currentClickPoint.spatialReference.wkid===this.parentWidget.map.spatialReference.wkid?this.parentWidget.coordGLayer.add(new D(this.currentClickPoint)):
this.getProjectedPoint(this.currentClickPointDD).then(d.hitch(this,function(a){this.parentWidget.coordGLayer.add(new D(a))}),d.hitch(this,function(a){console.error(a)})))},inputError:function(){this.setCoordUI()}})})},"widgets/CoordinateConversion/util":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Deferred","esri/tasks/GeometryService"],function(l,k,d,h){return l(null,{constructor:function(c){this.appConfig=c.appConfig;this.nls=c.nls;(c=this.appConfig.geometryService)||(c=
"//utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer");this.geomService=new h(c)},getCleanInput:function(c){c=c.replace(/\n/g,"");c=c.replace(/\s+/g," ").trim();return c.toUpperCase()},getCoordValues:function(c,e,b){var a=new d;c={sr:4326,coordinates:[[c.x,c.y]],conversionType:e.name?e.name:e,numOfDigits:b||6,rounding:!0,addSpaces:!1};switch(e){case "DD":c.numOfDigits=6;break;case "USNG":c.numOfDigits=5;break;case "MGRS":c.conversionMode="mgrsDefault";c.numOfDigits=5;break;case "UTM (H)":c.conversionType=
"utm";c.conversionMode="utmNorthSouth";c.addSpaces=!0;break;case "UTM":c.conversionType="utm";c.conversionMode="utmDefault";c.addSpaces=!0;break;case "GARS":c.conversionMode="garsDefault"}this.geomService.toGeoCoordinateString(c).then(function(b){a.resolve(b)},function(){a.resolve(null)});return a.promise},getXYNotation:function(c,e){var b=new d,a;a=e.name?e.name:e;var g={sr:4326,conversionType:a,strings:[]};switch(a){case "DD":case "DDM":case "DMS":g.numOfDigits=2;a=c.replace(/[\u00b0\u02da\u00ba^~*"'\u2032\u00a8\u02dd]/g,
"");g.strings.push(a);break;case "DDrev":g.conversionType="DD";g.numOfDigits=2;a=c.replace(/[\u00b0\u02da\u00ba^~*"'\u2032\u00a8\u02dd]/g,"");g.strings.push(a);break;case "DDMrev":g.conversionType="DDM";g.numOfDigits=2;a=c.replace(/[\u00b0\u02da\u00ba^~*"'\u2032\u00a8\u02dd]/g,"");g.strings.push(a);break;case "DMSrev":g.conversionType="DMS";g.numOfDigits=2;a=c.replace(/[\u00b0\u02da\u00ba^~*"'\u2032\u00a8\u02dd]/g,"");g.strings.push(a);break;case "USNG":g.strings.push(c);g.addSpaces="false";break;
case "MGRS":g.conversionMode="mgrsNewStyle";g.strings.push(c);g.addSpaces="false";break;case "UTM (H)":g.conversionType="utm";g.conversionMode="utmNorthSouth";g.strings.push(c);break;case "UTM":g.conversionType="utm";g.conversionMode="utmDefault";g.strings.push(c);break;case "GARS":g.conversionMode="garsCenter";g.strings.push(c);break;case "GEOREF":g.strings.push(c)}this.geomService.fromGeoCoordinateString(g).then(function(a){b.resolve(a)},function(){b.resolve(null)});return b.promise},getNotations:function(){return[{name:"DD",
pattern:/^(([NS\+\-\s])*([0-8]?\d([,.]\d*)?|90([,.]0*)?)([\u00b0\u02da\u00ba^~*]*)([NS\+\-\s])*)([,:;\s|\/\\]+)(([EW\+\-\s])*([0]?\d?\d([,.]\d*)?|1[0-7]\d([,.]\d*)?|180([,.]0*)?)([\u00b0\u02da\u00ba^~*]*)([EW\+\-\s])*)$/,notationType:this.nls.DDLatLongNotation,conversionType:"DD"},{name:"DDrev",pattern:/^(([EW\+\-\s])*([0]?\d?\d([,.]\d*)?|1[0-7]\d([,.]\d*)?|180([,.]0*)?)([\u00b0\u02da\u00ba^~*]*)([EW\+\-\s])*)([,:;\s|\/\\]+)(([NS\+\-\s])*([0-8]?\d([,.]\d*)?|90([,.]0*)?)([\u00b0\u02da\u00ba^~*]*)([NS\+\-\s])*)$/,
notationType:this.nls.DDLongLatNotation,conversionType:"DD"},{name:"DDM",pattern:/^(([NS\+\-\s])*([0-8]?\d|90)[\u00b0\u02da\u00ba^~*\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)['\u2032\s_]*([NS\+\-\s])*)([,:;\s|\/\\]+)(([EW\+\-\s])*([0]?\d?\d|1[0-7]\d|180)[\u00b0\u02da\u00ba^~*\s\-_]+(([0-5]\d|\d)([,.]\d*)?)['\u2032\s_]*([EW\+\-\s])*)[\s]*$/,notationType:this.nls.DDMLatLongNotation,conversionType:"DDM"},{name:"DDMrev",pattern:/^(([EW\+\-\s])*([0]?\d?\d|1[0-7]\d|180)[\u00b0\u02da\u00ba^~*\s\-_]+(([0-5]\d|\d)([,.]\d*)?)['\u2032\s_]*([EW\+\-\s])*)([,:;\s|\/\\]+)(([NS\+\-\s])*([0-8]?\d|90)[\u00b0\u02da\u00ba^~*\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)['\u2032\s_]*([NS\+\-\s])*)[\s]*$/,
notationType:this.nls.DDMLongLatNotation,conversionType:"DDM"},{name:"DMS",pattern:/^(([NS\+\-\s])*([0-8]?\d|90)[\u00b0\u02da\u00ba^~*\s\-_]+([0-5]?\d|\d)['\u2032\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)["\u00a8\u02dd\s_]*([NS\+\-\s])*)([,:;\s|\/\\]+)(([EW\+\-\s])*([0]?\d?\d|1[0-7]\d|180)[\u00b0\u02da\u00ba^~*\s\-_]+([0-5]\d|\d)['\u2032\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)["\u00a8\u02dd\s_]*([EW\+\-\s])*)[\s]*$/,notationType:this.nls.DMSLatLongNotation,conversionType:"DMS"},{name:"DMSrev",pattern:/^(([EW\+\-\s])*([0]?\d?\d|1[0-7]\d|180)[\u00b0\u02da\u00ba^~*\s\-_]+([0-5]\d|\d)['\u2032\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)["\u00a8\u02dd\s_]*([EW\+\-\s])*)([,:;\s|\/\\]+)(([NS\+\-\s])*([0-8]?\d|90)[\u00b0\u02da\u00ba^~*\s\-_]+([0-5]?\d|\d)['\u2032\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)["\u00a8\u02dd\s_]*([NS\+\-\s])*)[\s]*$/,
notationType:this.nls.DMSLongLatNotation,conversionType:"DMS"},{name:"GARS",pattern:/^\d{3}[a-zA-Z]{2}[1-4]?[1-9]?$/,notationType:this.nls.GARSNotation,conversionType:"GARS"},{name:"GEOREF",pattern:/^[a-zA-Z]{4}\d{1,8}$/,notationType:this.nls.GEOREFNotation,conversionType:"GEOREF"},{name:"MGRS",pattern:/^\d{1,2}[-,;:\s]*[C-HJ-NP-X][-,;:\s]*[A-HJ-NP-Z]{2}[-,;:\s]*(\d[-,;:\s]+\d|\d{2}[-,;:\s]+\d{2}|\d{3}[-,;:\s]+\d{3}|\d{4}[-,;:\s]+\d{4}|\d{5}[-,;:\s]+\d{5})$|^(\d{1,2}[-,;:\s]*[C-HJ-NP-X][-,;:\s]*[A-HJ-NP-Z]{2}[-,;:\s]*)(\d{2}|\d{4}|\d{6}|\d{8}|\d{10})?$|^[ABYZ][-,;:\s]*[A-HJ-NP-Z]{2}[-,;:\s]*(\d[-,;:\s]+\d|\d{2}[-,;:\s]+\d{2}|\d{3}[-,;:\s]+\d{3}|\d{4}[-,;:\s]+\d{4}|\d{5}[-,;:\s]+\d{5})$|^[ABYZ][-,;:\s]*[A-HJ-NP-Z]{2}[-,;:\s]*(\d{2}|\d{4}|\d{6}|\d{8}|\d{10})?$/,
notationType:this.nls.MGRSNotation,conversionType:"MGRS"},{name:"UTM",pattern:/^\d{1,2}[-,;:\s]*[c-hj-np-xC-HJ-NP-X][-,;:\s]*\d{1,6}\.?\d*[mM]?[-,;:\s]?\d{1,7}\.?\d*[mM]?$/,notationType:this.nls.UTMBandNotation,conversionType:"UTM"},{name:"UTM (H)",pattern:/^\d{1,2}[-,;:\s]*[NnSs][-,;:\s]*\d{1,6}\.?\d*[mM]?[-,;:\s]+\d{1,7}\.?\d*[mM]?$/,notationType:this.nls.UTMHemNotation,conversionType:"UTM (H)"}]},getCoordinateType:function(c){var e=this.getCleanInput(c);c=new d;var b=this.getNotations(),e=k.filter(b,
function(a){return a.pattern.test(this.v)},{v:e});0<e.length?c.resolve(e):c.resolve(null);return c.promise},getFormattedDDStr:function(c,d,b){var a={};a.sourceValue=c;a.sourceFormatString=d;c=c[0].split(/[ ,]+/);a.latdeg=c[0].replace(/[nNsS]/,"");a.londeg=c[1].replace(/[eEwW]/,"");b&&("N"===c[0].slice(-1)?a.latdeg="+"+a.latdeg:a.latdeg="-"+a.latdeg,"W"===c[1].slice(-1)?a.londeg="-"+a.londeg:a.londeg="+"+a.londeg);d=d.replace(/X/,a.londeg);d=d.replace(/[eEwW]/,c[1].slice(-1));d=d.replace(/[nNsS]/,
c[0].slice(-1));d=d.replace(/Y/,a.latdeg);a.formatResult=d;return a},getFormattedDDMStr:function(c,d,b){var a={};a.sourceValue=c;a.sourceFormatString=d;a.parts=c[0].split(/[ ,]+/);a.latdeg=a.parts[0];a.latmin=a.parts[1].replace(/[nNsS]/,"");a.londeg=a.parts[2];a.lonmin=a.parts[3].replace(/[eEwW]/,"");b&&("N"===a.parts[1].slice(-1)?a.latdeg="+"+a.latdeg:a.latdeg="-"+a.latdeg,"W"===a.parts[3].slice(-1)?a.londeg="-"+a.londeg:a.londeg="+"+a.londeg);c=d.replace(/[EeWw]/,a.parts[3].slice(-1));c=c.replace(/Y/,
a.lonmin);c=c.replace(/X/,a.londeg);c=c.replace(/[NnSs]/,a.parts[1].slice(-1));c=c.replace(/B/,a.latmin);c=c.replace(/A/,a.latdeg);a.formatResult=c;return a},getFormattedDMSStr:function(c,d,b){var a={};a.sourceValue=c;a.sourceFormatString=d;a.parts=c[0].split(/[ ,]+/);a.latdeg=a.parts[0];a.latmin=a.parts[1];a.latsec=a.parts[2].replace(/[NnSs]/,"");a.londeg=a.parts[3];a.lonmin=a.parts[4];a.parts[5]&&(a.lonsec=a.parts[5].replace(/[EWew]/,""));b&&("N"===a.parts[2].slice(-1)?a.latdeg="+"+a.latdeg:a.latdeg=
"-"+a.latdeg,"W"===a.parts[5].slice(-1)?a.londeg="-"+a.londeg:a.londeg="+"+a.londeg);c=d.replace(/A/,a.latdeg);c=c.replace(/B/,a.latmin);c=c.replace(/C/,a.latsec);c=c.replace(/X/,a.londeg);c=c.replace(/Y/,a.lonmin);c=c.replace(/Z/,a.lonsec);c=c.replace(/[NnSs]/,a.parts[2].slice(-1));a.parts[5]&&(c=c.replace(/[EeWw]/,a.parts[5].slice(-1)));a.formatResult=c;return a},getFormattedUSNGStr:function(c,d){var b={};b.sourceValue=c;b.sourceFormatString=d;c[0].match(/^[ABYZ]/)?b.gzd=c[0].match(/[ABYZ]/)[0].trim():
b.gzd=c[0].match(/\d{1,2}[C-HJ-NP-X]/)[0].trim();c[0].replace(b.gzd,"").match(/[a-hJ-zA-HJ-Z]{2}/)&&(b.grdsq=c[0].replace(b.gzd,"").match(/[a-hJ-zA-HJ-Z]{2}/)[0].trim());c[0].replace(b.gzd+b.grdsq,"").match(/^\d{1,5}/)&&(b.easting=c[0].replace(b.gzd+b.grdsq,"").match(/^\d{1,5}/)[0].trim());c[0].replace(b.gzd+b.grdsq,"").match(/\d{1,5}$/)&&(b.northing=c[0].replace(b.gzd+b.grdsq,"").match(/\d{1,5}$/)[0].trim());var a=d.replace(/Y/,b.northing),a=a.replace(/X/,b.easting),a=a.replace(/S/,b.grdsq),a=a.replace(/Z/,
b.gzd);b.formatResult=a;return b},getFormattedMGRSStr:function(c,d){var b={};b.sourceValue=c;b.sourceFormatString=d;c[0].match(/^[ABYZ]/)?b.gzd=c[0].match(/[ABYZ]/)[0].trim():b.gzd=c[0].match(/\d{1,2}[C-HJ-NP-X]/)[0].trim();b.grdsq=c[0].replace(b.gzd,"").match(/[a-hJ-zA-HJ-Z]{2}/)[0].trim();b.easting=c[0].replace(b.gzd+b.grdsq,"").match(/^\d{1,5}/)[0].trim();b.northing=c[0].replace(b.gzd+b.grdsq,"").match(/\d{1,5}$/)[0].trim();var a=d.replace(/Y/,b.northing),a=a.replace(/X/,b.easting),a=a.replace(/S/,
b.grdsq),a=a.replace(/Z/,b.gzd);b.formatResult=a;return b},getFormattedGARSStr:function(c,d){var b={};b.sourceValue=c;b.sourceFormatString=d;b.lon=c[0].match(/\d{3}/);b.lat=c[0].match(/[a-zA-Z]{2}/);var a=c[0].match(/\d*$/);b.quadrant=a[0][0];b.key=a[0][1];a=d.replace(/K/,b.key);a=a.replace(/Q/,b.quadrant);a=a.replace(/Y/,b.lat);a=a.replace(/X/,b.lon);b.formatResult=a;return b},getFormattedGEOREFStr:function(c,d){var b={};b.sourceValue=c;b.sourceFormatString=d;b.lon=c[0].match(/[a-zA-Z]{1}/)[0].trim();
b.lat=c[0].replace(b.lon,"").match(/[a-zA-Z]{1}/)[0].trim();b.quadrant15lon=c[0].replace(b.lon+b.lat,"").match(/[a-zA-Z]{1}/)[0].trim();b.quadrant15lat=c[0].replace(b.lon+b.lat+b.quadrant15lon,"").match(/[a-zA-Z]{1}/)[0].trim();var a=c[0].replace(b.lon+b.lat+b.quadrant15lon+b.quadrant15lat,"");b.quadrant1lon=a.substr(0,a.length/2);b.quadrant1lat=a.substr(a.length/2,a.length);a=d.replace(/Y/,b.quadrant1lat);a=a.replace(/X/,b.quadrant1lon);a=a.replace(/D/,b.quadrant15lat);a=a.replace(/C/,b.quadrant15lon);
a=a.replace(/B/,b.lat);a=a.replace(/A/,b.lon);b.formatResult=a;return b},getFormattedUTMStr:function(c,d){var b={};b.sourceValue=c;b.sourceFormatString=d;b.parts=c[0].split(/[ ,]+/);b.zone=b.parts[0].replace(/[A-Z]/,"");b.bandLetter=b.parts[0].slice(-1);b.easting=b.parts[1];b.westing=b.parts[2];var a=d.replace(/Y/,b.westing),a=a.replace(/X/,b.easting),a=a.replace(/B/,b.bandLetter),a=a.replace(/Z/,b.zone);b.formatResult=a;return b},getFormattedUTMHStr:function(c,d){var b={};b.sourceValue=c;b.sourceFormatString=
d;b.parts=c[0].split(/[ ,]+/);b.zone=b.parts[0].replace(/[A-Z]/,"");b.hemisphere=b.parts[0].slice(-1);b.easting=b.parts[1];b.westing=b.parts[2];var a=d.replace(/Y/,b.westing),a=a.replace(/X/,b.easting),a=a.replace(/H/,b.hemisphere),a=a.replace(/Z/,b.zone);b.formatResult=a;return b}})})},"widgets/CoordinateConversion/EditOutputCoordinate":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/on dojo/dom-attr dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./EditOutputCoordinate.html dijit/form/Select jimu/dijit/CheckBox".split(" "),
function(l,k,d,h,c,e,b,a,g){return l([e,b,a],{templateString:g,isCanceled:!1,formats:{},setCt:function(a){this.ct=a;c.set(this.frmtSelect,"value",this.ct)},postCreate:function(){this.formats={DD:{defaultFormat:"YN XE",customFormat:null,useCustom:!1},DDM:{defaultFormat:"A\u00b0 B'N X\u00b0 Y'E",customFormat:null,useCustom:!1},DMS:{defaultFormat:"A\u00b0 B' C\"N X\u00b0 Y' Z\"E",customFormat:null,useCustom:!1},GARS:{defaultFormat:"XYQK",customFormat:null,useCustom:!1},GEOREF:{defaultFormat:"ABCDXY",
customFormat:null,useCustom:!1},MGRS:{defaultFormat:"ZSXY",customFormat:null,useCustom:!1},USNG:{defaultFormat:"ZSXY",customFormat:null,useCustom:!1},UTM:{defaultFormat:"ZB X Y",customFormat:null,useCustom:!1},"UTM (H)":{defaultFormat:"ZH X Y",customFormat:null,useCustom:!1}};c.set(this.frmtVal,"value",this.formats[this.ct].defaultFormat);this.own(h(this.frmtSelect,"change",k.hitch(this,this.frmtSelectValueDidChange)));this.own(h(this.frmtVal,"change",k.hitch(this,this.formatValDidChange)));this.own(h(this.cancelButton,
"click",k.hitch(this,function(){this.isCanceled=!0})));this.own(h(this.applyButton,"click",k.hitch(this,function(){this.isCanceled=!1})));this.displayPrefixContainer()},formatValDidChange:function(){var a=c.get(this.frmtVal,"value"),b=this.frmtSelect.options[this.frmtSelect.selectedIndex].value;this.formats[b].customFormat=a;this.formats[b].useCustom=!0},frmtSelectValueDidChange:function(){var a=this.frmtSelect.options[this.frmtSelect.selectedIndex].value,b=this.formats[a].useCustom?this.formats[a].customFormat:
this.formats[a].defaultFormat;this.ct=a;c.set(this.frmtVal,"value",b);this.displayPrefixContainer()},displayPrefixContainer:function(){switch(this.ct){case "DD":case "DDM":case "DMS":d.set(this.prefixContainer,{display:""});break;default:d.set(this.prefixContainer,{display:"none"})}}})})},"widgets/CoordinateConversion/dialogConfirm":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/Deferred dojo/dom-construct dijit/Dialog dijit/form/Button dijit/form/CheckBox".split(" "),function(l,
k,d,h,c,e,b){return k(c,{okButton:null,cancelButton:null,skipCheckBox:null,hasOkButton:!0,hasCancelButton:!0,hasSkipCheckBox:!0,hasUnderlay:!0,dfd:null,buttonNode:null,constructor:function(a){l.mixin(this,a)},postCreate:function(){this.inherited("postCreate",arguments);var a,c=!1;a=h.create("div",{className:"dijitDialogPaneContent dialogConfirm"},this.domNode,"last");this.hasSkipCheckBox&&(this.skipCheckBox=new b({checked:!1},h.create("div")),a.appendChild(this.skipCheckBox.domNode),h.create("label",
{"for":this.skipCheckBox.id,innerHTML:this.nls.rememberDecisionLabel},a));this.hasOkButton&&(this.okButton=new e({label:this.nls.applyButtonLabel,onClick:l.hitch(this,function(){c=this.hasSkipCheckBox?this.skipCheckBox.get("checked"):!1;this.hide();this.dfd.resolve(c)})},h.create("div")),a.appendChild(this.okButton.domNode));this.hasCancelButton&&(this.cancelButton=new e({label:this.nls.cancelButtonLabel,onClick:l.hitch(this,function(){c=this.hasSkipCheckBox?this.skipCheckBox.get("checked"):!1;this.hide();
this.dfd.cancel(c)})},h.create("div")),a.appendChild(this.cancelButton.domNode));this.buttonNode=a},show:function(){this.inherited("show",arguments);this.hasUnderlay||h.destroy(this.id+"_underlay");return this.dfd=new d}})})},"widgets/CoordinateConversion/ConfirmNotation":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/text!./ConfirmNotation.html".split(" "),function(l,k,d,h,c,e){return l([k,d,h],{templateString:e,numberOfInputs:0,
selectOptions:{},nls:{},constructor:function(b,a){c.mixin(this.nls,a);this.numberOfInputs=b.length;this.selectOptions=b},postCreate:function(){this.label1.innerHTML=this.numberOfInputs+" "+this.nls.multipleNotationLabel;for(var b=0;b<this.selectOptions.length;b++)this.comboOptions.addOption({value:this.selectOptions[b].name,label:this.selectOptions[b].notationType})}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],
function(l,k,d,h){return l("dijit.form.Textarea",[h,d],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);k.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),
function(l,k,d,h,c,e,b){d.add("textarea-needs-help-shrinking",function(){var a=e.body(),b=k.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},a,"last"),c=b.scrollHeight>=b.clientHeight;a.removeChild(b);return c});return l("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var a=this.textbox;a.style.overflowY="hidden";this.own(c(a,"focus, resize",h.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(b.on("resize",h.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(a){this.inherited(arguments);this.resize()},_estimateHeight:function(){var a=this.textbox;a.rows=(a.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function a(){var a=!1;""===b.value&&(b.value=" ",a=!0);var c=b.scrollHeight;a&&(b.value="");return c}var b=this.textbox;"hidden"==b.style.overflowY&&(b.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(a()||b.offsetHeight){var c=a()+Math.max(b.offsetHeight-b.clientHeight,0),e=c+"px";e!=b.style.height&&(b.style.height=e,b.rows=1);if(d("textarea-needs-help-shrinking")){var h=a(),k=b.style.minHeight,l=4,v=b.scrollTop;b.style.minHeight=e;for(b.style.height="auto";0<c;){b.style.minHeight=
Math.max(c-l,4)+"px";e=a();h-=e;c-=h;if(h<l)break;h=e;l<<=1}b.style.height=c+"px";b.style.minHeight=k;b.scrollTop=v}b.style.overflowY=a()>b.clientHeight?"auto":"hidden";"hidden"==b.style.overflowY&&(b.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(l,k,d,h,c,e,b,a,g,q,w,m,u,x,v,p,y,r,z,C,I,A,D,G,E){z=h("dijit._InlineEditor",[r,z,C],{templateString:E,contextRequire:l,postMixInProperties:function(){this.inherited(arguments);this.messages=g.getLocalization("dijit","common",this.lang);k.forEach(["buttonSave","buttonCancel"],function(a){this[a]||(this[a]=this.messages[a])},this)},buildRendering:function(){this.inherited(arguments);var c="string"==typeof this.editor?m.getObject(this.editor)||l(this.editor):this.editor,d=this.sourceStyle,
e="line-height:"+d.lineHeight+";",g=a.getComputedStyle(this.domNode);k.forEach(["Weight","Family","Size","Style"],function(a){g["font"+a]!=d["font"+a]&&(e+="font-"+a+":"+d["font"+a]+";")},this);k.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(a){this.domNode.style[a]=d[a]},this);var h=this.inlineEditBox.width;"100%"==h?(e+="width:100%;",this.domNode.style.display="block"):e+="width:"+(h+(Number(h)==h?"px":""))+";";h=m.delegate(this.inlineEditBox.editorParams,
{style:e,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new c(h,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,b.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var a=this.editWidget;this.inlineEditBox.autoSave?this.own(d.after(a,"onChange",m.hitch(this,"_onChange"),!0),u(a,"keydown",m.hitch(this,"_onKeyDown"))):"intermediateChanges"in a&&(a.set("intermediateChanges",
!0),this.own(d.after(a,"onChange",m.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var a=this.editWidget;return String(a.get("displayedValue"in a||"_getDisplayedValueAttr"in a?"displayedValue":
"value"))},_onKeyDown:function(a){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&!a.altKey&&!a.ctrlKey&&(a.keyCode==w.ESCAPE?(a.stopPropagation(),a.preventDefault(),this.cancel(!0)):a.keyCode==w.ENTER&&"INPUT"==a.target.tagName&&(a.stopPropagation(),a.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
this.inlineEditBox.editing&&this.enableSave()&&y.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(y._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){D.selectInputText(this.editWidget.focusNode)}))}});r=h("dijit.InlineEditBox"+(x("dojo-bidi")?"_NoBidi":""),r,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:G,editorWrapper:z,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=x("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(u(this.displayNode,p,m.hitch(this,"_onClick")),u(this.displayNode,"mouseover, focus",m.hitch(this,"_onMouseOver")),u(this.displayNode,"mouseout, blur",m.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);this.value||"value"in this.params||(this.value=m.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);e.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(a){q.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.domNode.setAttribute("aria-disabled",a?"true":"false");a?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);e.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",a);this._set("disabled",a)},_onMouseOver:function(){this.disabled||e.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){e.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(a){this.disabled||(a&&(a.stopPropagation(),a.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
c.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var d=b.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?m.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:a.getComputedStyle(this.displayNode),save:m.hitch(this,"save"),cancel:m.hitch(this,"cancel"),
textDir:this.textDir},d);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var g=this.wrapperWidget;e.add(this.displayNode,"dijitOffScreen");e.remove(g.domNode,"dijitOffScreen");a.set(g.domNode,{visibility:"visible"});c.set(this.displayNode,"tabIndex","-1");var h=g.editWidget,p=this;v(h.onLoadDeferred,m.hitch(g,function(){h.set("displayedValue"in h||"_setDisplayedValueAttr"in h?"displayedValue":"value",p.value);this.defer(function(){g.saveButton&&g.saveButton.set("disabled",
"intermediateChanges"in h);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(b){var d=this.wrapperWidget;a.set(d.domNode,{visibility:"hidden"});e.add(d.domNode,"dijitOffScreen");e.remove(this.displayNode,"dijitOffScreen");c.set(this.displayNode,"tabIndex",this._savedTabIndex);b&&
y.focus(this.displayNode)},save:function(a){if(!this.disabled&&this.editing){this._set("editing",!1);var b=this.wrapperWidget.getValue();this.set("value",b);this._showText(a)}},setValue:function(a){q.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(a){a=m.trim(a);var b=this.renderAsHtml?a:a.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=this.editorParams&&"password"===this.editorParams.type?"********":b||this.noValueIndicator;this._set("value",a);this._started&&this.defer(function(){this.onChange(a)})},getValue:function(){q.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(a){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(a))}});x("dojo-bidi")&&(r=h("dijit.InlineEditBox",
r,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.displayNode)}}));r._InlineEditor=z;return r})},"widgets/CoordinateConversion/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/CoordinateConversion/CoordinateControl.html":"\x3cdiv class\x3d'coordinateContainer'\x3e\r\n    \x3cdiv class\x3d'add-with-icon coordLabel' data-dojo-attach-point\x3d'coordNameContainer'\x3e\r\n      \x3cspan data-dojo-type\x3d'dijit/InlineEditBox' width\x3d'75px' data-dojo-props\x3d\"editor:'dijit/form/TextBox', autoSave:true\" data-dojo-attach-point\x3d'coordName'\x3e${type}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr /\x3e\r\n    \x3cdiv class\x3d'add-with-icon'\x3e\r\n        \x3ctextarea id\x3d'${uid}' type\x3d'text' rows\x3d'1' class\x3d'ta' data-dojo-attach-point\x3d'coordtext' placeholder\x3d'${nls.coordinateInputLabel}'\x3e\x3c/textarea\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d'coordactions'\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan id\x3d'${uid}_cpbtn' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d'cpbtn' class\x3d'cpbtn'\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan title\x3d\"${nls.formatOutput}\" class\x3d'settingBtn' data-dojo-attach-point\x3d'formatButton' \x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan id\x3d'${uid}_ntbtn' title\x3d'${nls.addNewNotation}' data-dojo-attach-point\x3d\"addNewCoordinateNotationBtn\" class\x3d\"jimu-icon jimu-icon-add jimu-state-disabled\"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan title\x3d'${nls.zoomLabel}' class\x3d'zoomBtn' data-dojo-attach-point\x3d'zoomButton'\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan title\x3d'${nls.removeCoordinate}' class\x3d'jimu-icon jimu-icon-close' data-dojo-attach-point\x3d'removeControlBtn' \r\n                    data-dojo-attach-event\x3d'onclick: remove'\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan title\x3d\"${nls.expandOutput}\" class\x3d'expandBtn' data-dojo-attach-point\x3d'expandButton'\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv data-dojo-attach-point\x3d'coordcontrols' class\x3d'coordarea'\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d'sub1' class\x3d'coordformat'\x3e\r\n            \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n                \x3cspan data-dojo-attach-point\x3d'sub1label' /\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput readonly data-dojo-attach-point\x3d'${uid}sub1val' class\x3d'jimu-input crds'\x3e\x3c/input\x3e\r\n            \x3cdiv class\x3d'add-with-icon'\x3e\r\n                \x3cspan id\x3d'${uid}sub1val~cpbtn' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d 'subVal1CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d'sub2' class\x3d'coordformat'\x3e\r\n            \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n                \x3cspan data-dojo-attach-point\x3d'sub2label' /\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput readonly data-dojo-attach-point\x3d'${uid}sub2val' class\x3d'jimu-input crds'\x3e\x3c/input\x3e\r\n             \x3cdiv class\x3d'add-with-icon'\x3e\r\n                \x3cspan id\x3d'${uid}sub2val~cpbtn' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d 'subVal2CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d'sub3' class\x3d'coordformat sub3'\x3e\r\n            \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n                 \x3cspan data-dojo-attach-point\x3d'sub3label' /\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput readonly data-dojo-attach-point\x3d'${uid}sub3val' class\x3d'jimu-input crds'\x3e\r\n\r\n            \x3c/input\x3e\r\n             \x3cdiv class\x3d'add-with-icon'\x3e\r\n                \x3cspan id\x3d'${uid}sub3val~cpbtn' title\x3d'$${nls.copyToClipboard}' data-dojo-attach-point\x3d 'subVal3CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d'sub4' class\x3d'coordformat sub4'\x3e\r\n            \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n                \x3cspan data-dojo-attach-point\x3d'sub4label' /\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput readonly data-dojo-attach-point\x3d'${uid}sub4val' class\x3d'jimu-input crds'\x3e\r\n\r\n            \x3c/input\x3e\r\n             \x3cdiv class\x3d'add-with-icon'\x3e\r\n                \x3cspan id\x3d'${uid}sub4val~cpbtn' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d'subVal4CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d\"line-separator\"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n",
"url:widgets/CoordinateConversion/EditOutputCoordinate.html":'\x3cdiv\x3e\r\n    \x3cspan class\x3d\'formatText\'\x3e${nls.editCoordinateDialogTitle}\x3c/span\x3e\r\n    \x3cdiv class\x3d"controlContainer"\x3e\r\n        \x3cselect tabindex\x3d1 class\x3d"selectFormat" name\x3d"test" data-dojo-attach-point\x3d"frmtSelect"\x3e\r\n            \x3coption value\x3d"DD"\x3e${nls.DD}\x3c/option\x3e\r\n            \x3coption value\x3d"DDM"\x3e${nls.DDM}\x3c/option\x3e\r\n            \x3coption value\x3d"DMS"\x3e${nls.DMS}\x3c/option\x3e\r\n            \x3coption value\x3d"GARS"\x3e${nls.GARS}\x3c/option\x3e\r\n            \x3coption value\x3d"GEOREF"\x3e${nls.GEOREF}\x3c/option\x3e\r\n            \x3coption value\x3d"MGRS"\x3e${nls.MGRS}\x3c/option\x3e\r\n            \x3coption value\x3d"USNG"\x3e${nls.USNG}\x3c/option\x3e\r\n            \x3coption value\x3d"UTM"\x3e${nls.UTM}\x3c/option\x3e\r\n            \x3coption value\x3d"UTM (H)"\x3e${nls.UTM_H}\x3c/option\x3e\r\n        \x3c/select\x3e\r\n\r\n        \x3cinput tabindex\x3d2 type \x3d"text" data-dojo-attach-point\x3d"frmtVal" class\x3d"formatInput"\x3e\x3c/input\x3e\r\n        \r\n        \x3cdiv class\x3d\'settingsContainer\' data-dojo-attach-point\x3d"prefixContainer"\x3e\r\n            \x3c!--\x3cdiv data-dojo-attach-point\x3d\'addDirChkBox\' data-dojo-props\x3d\'checked:true\' data-dojo-type\x3d\'jimu/dijit/CheckBox\'\x3eAdd "N,S,E,W" suffix based on latitude/longitude\x3c/div\x3e--\x3e\r\n            \x3cinput data-dojo-attach-point\x3d\'addSignChkBox\' type\x3d"checkbox" /\x3e\r\n            \x3clabel class\x3d"formatText"\x3e${nls.posNegPrefixLabel}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"btnContainer"\x3e\r\n        \x3cdiv tabindex\x3d3 data-dojo-attach-point\x3d"applyButton" class\x3d\'jimu-btn\'\x3e${nls.applyButtonLabel}\x3c/div\x3e\r\n        \x3cdiv tabindex\x3d4 data-dojo-attach-point\x3d"cancelButton" class\x3d\'jimu-btn\'\x3e${nls.cancelButtonLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/CoordinateConversion/ConfirmNotation.html":'\x3cdiv class\x3d\'coordinateContainer\'\x3e\r\n    \x3cspan class\x3d\'jimu-widget-subtitle\' data-dojo-attach-point\x3d\'label1\'\x3e\x3c/span\x3e\r\n    \x3cdiv class\x3d"controlGroup"\x3e\r\n        \x3cdiv class\x3d"controlItem" style\x3d"padding-top: 10px;"\x3e\r\n            \x3cselect style\x3d"width: 225px" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"comboOptions"\x3e\r\n            \x3c/select\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\r\n\t\x3e\x3c/span\r\n\x3e\x3c/span\x3e\r\n',
"url:widgets/CoordinateConversion/Widget.html":"\x3cdiv\x3e\r\n    \x3cdiv class\x3d'inputcontainer' data-dojo-attach-point\x3d'inputcoordcontainer'\x3e\r\n        \x3cspan class\x3d'jimu-widget-subtitle'\x3e${nls.inputLabel}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d'outputcontainer' data-dojo-attach-point\x3d'outputtablecontainer'\x3e\r\n        \x3cspan class\x3d'jimu-widget-subtitle' data-dojo-attach-point\x3d'outputtablesubtitle'\x3e${nls.outputLabel}\x3c/span\x3e\r\n        \x3cdiv class\x3d'addNewNotationContainer'\x3e\r\n            \x3cdiv id\x3d'${uid}_ntbtn' \r\n                 class\x3d'addNewNotation' \r\n                 title\x3d'${nls.addNewNotation}' \r\n                 data-dojo-attach-point\x3d'addNewNotation'\r\n                 data-dojo-attach-event\x3d'onclick:addNotation'\x3e\x3c/div\x3e\r\n                \x3cdiv class\x3d'addNewNotationLabel'\x3e${nls.addLabel}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e",
"url:widgets/CoordinateConversion/css/style.css":".jimu-widget-cw {overflow: hidden;}.jimu-widget-cw .jimu-input {border: 1px solid #999999; font-size: 12px; height: 30px; background-color: transparent; background: white; color: #d9dde0; padding: 5px; margin: 0; border-radius: 2px;}.jimu-widget-cw .jimu-widget-subtitle {font-size: 14px; letter-spacing: 0.39px; line-height: 19px}.jimu-widget-cw .addNewNotationContainer {display: inline-flex; padding-top: 3px; padding-left: 20px;}.jimu-widget-cw .addNewNotationContainer .addNewNotation {background: url('../images/add_black.png'); background-repeat: no-repeat; background-color: transparent; width: 12px; height: 12px;}.jimu-widget-cw .addNewNotationContainer .addNewNotation:hover {background: url('../images/add_black_hover.png'); background-repeat: no-repeat; background-color: transparent; cursor: pointer;}.jimu-widget-cw .addNewNotationContainer .addNewNotationLabel {color: #7f7f7f; font-size: 12px; padding-left: 3px;}.jimu-widget-cw .addNewNotationContainer .addNewNotationLabel:hover {color: #000000;}.jimu-widget-cw textarea {font-family: 'Avenir Medium'; font-size: 12px; resize: none; width: 240px; height: 35px; background-color: transparent; background: #FFFFFF; border: 1px solid #999999; color: #000000; padding: 10px 0px 10px 14px; margin: 0; letter-spacing: 0px; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;}.jimu-widget-cw textarea:active {border: 1px solid #15a4fa;}.jimu-widget-cw .inputcontainer {margin: 3px; width: 100%; padding: 6px;}.jimu-widget-cw .coordNameContainer {margin-bottom: 6px;}.jimu-widget-cw .outputcontainer {margin: 3px; width: 310px; padding: 6px;}.jimu-widget-cw .coordinateContainer {padding-top: 5px; width: 95%;}.jimu-widget-cw .outputCoordinateContainer {margin: 0 3px; width: 100%; padding: 0 6px;}.jimu-widget-cw .coordarea {height: 0px; overflow: hidden;}.jimu-widget-cw .cpbtn {display: inline-block; background: url('../images/copy_black.png'); background-repeat: no-repeat; background-color: transparent; width: 14px; height: 16px;}.jimu-widget-cw .settingBtn {display: inline-block; background: url('../images/settings_black.png'); background-repeat: no-repeat; background-color: transparent; width: 15px; height: 15px;}.jimu-widget-cw .settingBtn:hover {background: url('../images/settings_black_hover_black.png');}.jimu-widget-cw .cpbtn:hover {background: url('../images/copy_black_hover.png');}.jimu-widget-cw .zoomBtn {display: inline-block; background: url('../images/zoom_to_black.png'); background-repeat: no-repeat; background-color: transparent; width: 15.4px; height: 15.2px;}.jimu-widget-cw .zoomBtn:hover {background: url('../images/zoom_to_black_hover.png');}.jimu-widget-cw .expandBtn {display: inline-block; background: url('../images/arrow-right_black.png'); background-repeat: no-repeat; background-color: transparent; width: 5px; height: 10px; vertical-align: text-top;}.jimu-widget-cw .expandBtn:hover {background: url('../images/arrow-right_black_hover.png');}.jimu-widget-cw .collapseBtn {display: inline-block; background: url('../images/arrow-down.png'); background-repeat: no-repeat; background-color: transparent; width: 10px; height: 5px; vertical-align: text-top;}.jimu-widget-cw .collapseBtn:hover {background: url('../images/arrow-down_black_hover.png'); background-repeat: no-repeat; background-color: transparent;}.jimu-widget-cw .crdfrmtlabel {display: inline-block; height: 16px; font-size: 12px; color: #000000; width: 100px; padding-left: 5px;}.jimu-widget-cw .coordfrmt {width:50%;}.jimu-widget-cw .coordformat {display: inline-flex; align-items: center;}.jimu-widget-cw .crds {display: inline-block; width: 130px; margin-right: 10px;}.jimu-widget-cw .coordarea.expanded {margin-top: 0px;}.jimu-widget-cw .coordarea.collapsed {}.jimu-widget-cw .coordactions {display:inline-block; padding-left: 10px;}.jimu-widget-cw .add-with-icon {display: inline-block; height: 40px; line-height:40px; color: #000000; padding-right: 5px;} .jimu-widget-cw .add-with-icon.coordLabel {width: 75px;}.jimu-widget-cw .add-output {margin-bottom: 7px; cursor: pointer; display: inline-block;}.jimu-widget-cw .add-output-coordinate-icon {background-image: url(../../../jimu.js/css/images/add_default.png); background-repeat: no-repeat; background-position: center; width: 14px; height: 14px; display: inline-block; vertical-align: middle;}.jimu-widget-cw .add-output-coordinate-label {font-size: 14px; color: #518dca; margin-left: 10px; display: inline-block; height: 100%; text-decoration: underline;}.jimu-widget-cw .line-separator {height: 2px; border-bottom: 1px solid #666666; width: 320px; margin-top: 3px;}.formatInput {width: 200px; height: 40px; opacity: 0.99; background: #FFFFFF; border: 1px solid #9999999; color: #000000; padding-left: 4px;}.selectFormat {width: 160px; height: 40px; opacity: 0.99; background: #FFFFFF; border: 1px solid #999999; color: #000000; padding-left: 4px;}.btnContainer {text-align: right; margin-top: 6px; padding-right: 10px;}.settingsContainer {margin-top: 6px;}.controlContainer {margin-top: 6px;}.formatText {font-size: 12px; letter-spacing: 0.39px; line-height: 19px; color: #000000; padding-left: 3px;}",
"*now":function(l){l(['dojo/i18n!*preload*widgets/CoordinateConversion/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dijit/_WidgetsInTemplateMixin jimu/BaseWidget dojo/_base/lang dojo/topic dojo/_base/array dojo/dom dijit/Tooltip dijit/registry esri/layers/GraphicsLayer esri/renderers/SimpleRenderer esri/symbols/PictureMarkerSymbol esri/symbols/SimpleMarkerSymbol jimu/utils ./CoordinateControl".split(" "),function(l,k,d,h,c,e,b,a,g,q,w,m,u,x,v){return l([d,k],{baseClass:"jimu-widget-cw",name:"CW",uid:null,postCreate:function(){this.uid=g.getUniqueId("cc");c.subscribe("REMOVECONTROL",h.hitch(this,
this.removeControl));c.subscribe("ADDNEWNOTATION",h.hitch(this,this.addOutputSrBtn));this.coordTypes=[];var a=null;this.config&&(this.config.symbols&&(this.config.symbols.graphicLocationSymbol?a=this.config.symbols.graphicLocationSymbol.hasOwnProperty("imageData")?new m(this.config.symbols.graphicLocationSymbol):new u(this.config.symbols.graphicLocationSymbol):(a=new m(this.folderUrl+"images/CoordinateLocation.png",26,26),a.setOffset(0,13))),this.config.initialCoords?e.forEach(this.config.initialCoords,
h.hitch(this,function(a){this.coordTypes.push(a)})):this.coordTypes=[{notation:"DD",defaultFormat:"Y: N X: E"},{notation:"DDM",defaultFormat:"A\u00b0 B'N X\u00b0 Y'E"},{notation:"DMS",defaultFormat:"A\u00b0 B' C\"N X\u00b0 Y' Z\"E"},{notation:"GARS",defaultFormat:"XYQK"},{notation:"GEOREF",defaultFormat:"ABCDXY"},{notation:"MGRS",defaultFormat:"ZSXY"},{notation:"USNG",defaultFormat:"ZSXY"},{notation:"UTM",defaultFormat:"ZH X Y"},{notation:"UTM (H)",defaultFormat:"ZH X Y"}]);this.coordGLayer||(a=new w(a),
this.coordGLayer=new q,this.coordGLayer.spatialReference=this.map.spatialReference,this.coordGLayer.setRenderer(a),this.map.addLayer(this.coordGLayer))},removeControl:function(a){a.destroyRecursive()},addOutputSrBtn:function(a){a||(a.notation="DD",a.defaultFormat="YN XE");a=new v({parentWidget:this,input:!1,currentClickPoint:this.inputControl.currentClickPoint,type:a.notation,defaultFormat:a.defaultFormat,nls:this.nls});a.placeAt(this.outputtablecontainer,"after",this.outputtablesubtitle);a.startup();
c.publish("CRDWIDGETSTATEDIDCHANGE",{state:this.state,themeName:this.appConfig.theme.name,isActive:!0})},startup:function(){this.inputControl=new v({parentWidget:this,input:!0,type:"DD",nls:this.nls});this.inputControl.placeAt(this.inputcoordcontainer);this.inputControl.startup();this._setTheme();e.forEach(this.coordTypes,function(a){this.addOutputSrBtn(a)},this)},onOpen:function(){this.widgetManager.activateWidget(this)},onClose:function(){this.setWidgetSleep(!0)},onActive:function(){this.setWidgetSleep(!1)},
onDeActive:function(){this.setWidgetSleep(!0)},setWidgetSleep:function(a){this.coordGLayer&&(this.coordGLayer.setVisibility(!a),this.map.setInfoWindowOnClick(a));c.publish("CRDWIDGETSTATEDIDCHANGE",{state:this.state,themeName:this.appConfig.theme.name,isActive:!a})},addNotation:function(c){this.addOutputSrBtn({notation:this.inputControl.type,defaultFormat:this.inputControl.defaultFormat});var d=b.byId(c.currentTarget.id);a.defaultPosition=["above","below"];a.show(this.nls.notationAddedMessage,d);
setTimeout(function(){a.hide(d)},2E3)},_removeStyleFile:function(a,b){for(var c=null,c="js"===b?"src":"css"===b?"href":"none",d=document.getElementsByTagName("js"===b?"script":"css"===b?"link":"none"),e=d.length;0<=e;e--)d[e]&&null!==d[e].getAttribute(c)&&-1!==d[e].getAttribute(c).indexOf(a)&&d[e].parentNode.removeChild(d[e])},_setTheme:function(){"DartTheme"===this.appConfig.theme.name?x.loadStyleLink("darkOverrideCSS",this.folderUrl+"css/darkTheme.css",null):this._removeStyleFile("darkTheme.css",
"css")}})});