// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/GridOverlay/GridSetting":function(){define("dojo/_base/declare dojo/dom-class dojo/json dojo/_base/array dojo/_base/lang dojo/_base/Color dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry ./lib/GridOverlay jimu/dijit/Message dojo/i18n!./setting/nls/strings dojo/text!./GridSetting.html dijit/form/HorizontalSlider dijit/form/NumberSpinner jimu/dijit/ColorPicker jimu/dijit/CheckBox".split(" "),function(n,e,d,m,h,a,c,b,g,k,l,f,t,D){var q=function(b,
c){c instanceof a||(c=new a(c));var g=c.toHex(),w=128<.2126*c.r+.7152*c.g+.0722*c.b?new a([0,0,0]):new a([255,255,255]);b.innerHTML="\x3cdiv class\x3d'grid-overlay-setting-color-picker-text' style\x3d'"+("color:"+w+";")+"'\x3e"+g+"\x3c/div\x3e"},y=function(b,a,c,g){isNaN(g)?(b.value=5,b.setDisplayedValue(5)):4<g&&73>g&&a.setFontSize(c,g)},F=function(b,a,c,g){isNaN(g)?(b.value=1,b.setDisplayedValue(1)):0<g&&11>g&&a.setLineWidth(c,g)};return n([c,b,g],{templateString:D,baseClass:"grid-overlay-setting",
verticalLabelsClicked:!1,horizontalLabelsClicked:!1,map:null,config:null,nls:null,gridOverlayCtrl:null,constructor:function(b){this.map=b.map;this.config=b.config;this.nls=t},postCreate:function(){this.setConfig(this.config);var b=this,a=new l(h.mixin({map:this.map,enabled:!0},this.config));this.gridOverlayCtrl=a;this.minIntervalSpacing.onChange=h.hitch(this,function(b){this.minIntervalSpacingVal.innerHTML=b+"px";a.setMinIntervalSpacing(b)});this.lineOpacity.onChange=h.hitch(this,function(b){this.lineOpacityVal.innerHTML=
Math.round(100*b)+"%";a.setLineOpacity(b)});this.labelOpacity.onChange=h.hitch(this,function(b){this.labelOpacityVal.innerHTML=Math.round(100*b)+"%";a.setLabelOpacity(b)});this.colorPicker0.onChange=function(b){q(this.domNode,b);a.setColor(0,b.toHex())};this.colorPicker1.onChange=function(b){q(this.domNode,b);a.setColor(1,b.toHex())};this.colorPicker2.onChange=function(b){q(this.domNode,b);a.setColor(2,b.toHex())};this.colorPicker3.onChange=function(b){q(this.domNode,b);a.setColor(3,b.toHex())};this.colorPicker4.onChange=
function(b){q(this.domNode,b);a.setColor(4,b.toHex())};this.colorPicker5.onChange=function(b){q(this.domNode,b);a.setColor(5,b.toHex())};this.fontSize0.onChange=function(b){y(this,a,0,b)};this.fontSize1.onChange=function(b){y(this,a,1,b)};this.fontSize2.onChange=function(b){y(this,a,2,b)};this.fontSize3.onChange=function(b){y(this,a,3,b)};this.fontSize4.onChange=function(b){y(this,a,4,b)};this.fontSize5.onChange=function(b){y(this,a,5,b)};this.lineSize0.onChange=function(b){F(this,a,0,b)};this.lineSize1.onChange=
function(b){F(this,a,1,b)};this.lineSize2.onChange=function(b){F(this,a,2,b)};this.lineSize3.onChange=function(b){F(this,a,3,b)};this.lineSize4.onChange=function(b){F(this,a,4,b)};this.lineSize5.onChange=function(b){F(this,a,5,b)};this.verticalLabels.onclick=function(){b.verticalLabelsClicked=!0;b.horizontalLabelsClicked=!1;b._toggleHorzVertOptions(!1);a.setVerticalLabels(b.verticalLabelsClicked)};this.horizontalLabels.onclick=function(){b.verticalLabelsClicked=!1;b.horizontalLabelsClicked=!0;b._toggleHorzVertOptions(!0);
a.setVerticalLabels(!b.horizontalLabelsClicked)}},startup:function(){this.inherited(arguments)},setConfig:function(b){this.config=void 0!==b?b:this._setConfig();this.minIntervalSpacing.set("value",this.config.minIntervalSpacing);this.minIntervalSpacingVal.innerHTML=this.config.minIntervalSpacing+"px";this.lineOpacity.set("value",this.config.lineOpacity);this.lineOpacityVal.innerHTML=Math.round(100*this.config.lineOpacity)+"%";this.labelOpacity.set("value",this.config.labelOpacity);this.labelOpacityVal.innerHTML=
Math.round(100*this.config.labelOpacity)+"%";for(b=0;6>b;b++)this["colorPicker"+b].setColor(new a(this.config.colors[b])),this["colorPicker"+b].picker.setColor(this.config.colors[b]),q(this["colorPicker"+b].domNode,this.config.colors[b]);this.fontSize0.setValue(this.config.fontSizes[0]);this.fontSize1.setValue(this.config.fontSizes[1]);this.fontSize2.setValue(this.config.fontSizes[2]);this.fontSize3.setValue(this.config.fontSizes[3]);this.fontSize4.setValue(this.config.fontSizes[4]);this.fontSize5.setValue(this.config.fontSizes[5]);
this.lineSize0.setValue(this.config.lineWidths[0]);this.lineSize1.setValue(this.config.lineWidths[1]);this.lineSize2.setValue(this.config.lineWidths[2]);this.lineSize3.setValue(this.config.lineWidths[3]);this.lineSize4.setValue(this.config.lineWidths[4]);this.lineSize5.setValue(this.config.lineWidths[5]);this._toggleHorzVertOptions(!this.config.verticalLabels);this.config.enableGridOnClose?this.cbxShowGrid.check():this.cbxShowGrid.uncheck()},getConfig:function(){if(this._checkValidValues())return new f({message:this.nls.errorMessage}),
!1;this.config=this.gridOverlayCtrl.getSettings();this.config.enableGridOnClose=this.cbxShowGrid.getValue();return this.config},showCheckbox:function(b){this.trShowGrid.style.display=b?"block":"none"},_saveConfig:function(){window.localStorage.setItem("storedGridSettings",d.stringify(this.getConfig()))},_setConfig:function(){var b=d.parse(window.localStorage.getItem("storedGridSettings"));return null!==b?b:this.config},_checkValidValues:function(){return m.some([this.fontSize0,this.fontSize1,this.fontSize2,
this.fontSize3,this.fontSize4,this.fontSize5,this.lineSize0,this.lineSize1,this.lineSize2,this.lineSize3,this.lineSize4,this.lineSize5],function(b){if((b=k.byId(b))&&(b.value<b.constraints.min||b.value>b.constraints.max))return!0},this)},_toggleHorzVertOptions:function(b){b?(e.remove(this.horizontalLabels,"image-labels horizontalLabel"),e.add(this.horizontalLabels,"image-labels horizontalLabelClicked"),e.remove(this.verticalLabels,"image-labels verticalLabelClicked"),e.add(this.verticalLabels,"image-labels verticalLabel")):
(e.remove(this.horizontalLabels,"image-labels horizontalLabelClicked"),e.add(this.horizontalLabels,"image-labels horizontalLabel"),e.remove(this.verticalLabels,"image-labels verticalLabel"),e.add(this.verticalLabels,"image-labels verticalLabelClicked"))},_toggleLabelPlacement:function(b,a){if(b){var c=b.className.replace("image-labels","").trim();if(a)e.remove(b,"image-labels "+c),e.add(b,"image-labels "+c+"Clicked");else{var g=c.substring(0,c.indexOf("Clicked"));e.remove(b,"image-labels "+c);e.add(b,
"image-labels "+g)}}}})})},"widgets/GridOverlay/lib/GridOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array ./mgrs-utils esri/layers/GraphicsLayer esri/Color esri/geometry/webMercatorUtils xstyle/css!./GridOverlay.css".split(" "),function(n,e,d,m,h,a,c){Math.log10||(Math.log10=function(b){return Math.log(b)/Math.LN10});return n(null,{minIntervalSpacing:150,currentInterval:0,levelOfDetail:"default",labelPlacement:null,verticalLabels:!0,cornerLabelXOffset:10,cornerLabelYOffset:10,
intervalLabelXOffset:30,intervalLabelYOffset:30,colors:null,lineWidths:null,fontSizes:null,lineOpacity:.8,labelOpacity:1,centerLabelOpacity:.4,centerLabelScaleFactor:3,fontFamily:"Arial, Helvetica, sans-serif",map:null,_lineGraphics:null,_labelGraphics:null,constructor:function(b){b=b||{};b.map||console.warn("Before the grid will draw, you must use the 'setMap' method to define which map object to draw on");b.hasOwnProperty("enabled")?this.enabled=b.enabled:this.enabled=!0;this._lineGraphicsLayer=
new h;this._labelGraphicsLayer=new h({className:"gridOverlay"});this._centerLabelGraphicsLayer=new h({className:"gridOverlay"});this.enable=e.hitch(this,this.enable);this.disable=e.hitch(this,this.disable);this.clearGrid=e.hitch(this,this.clearGrid);this.drawGrid=e.hitch(this,this.drawGrid);this.getLayers=e.hitch(this,function(){return[this._lineGraphicsLayer,this._labelGraphicsLayer,this._centerLabelGraphicsLayer]});this.labelPlacement={lowerLeft:!0,lowerRight:!0,upperLeft:!0,upperRight:!0,center:!0};
this.colors="#FA5858 #F7FE2E #2EFE2E #2EFEF7 #FFF #BDBDBD #000".split(" ");this.lineWidths=[3,2,1,1,1,1,1];this.fontSizes=[29,27,19,16,15,13,11];this.map=b.map||{};this._lineGraphics=[];this._labelGraphics=[];this._lineGraphicsLayer.setOpacity(this.lineOpacity);this._labelGraphicsLayer.setOpacity(this.labelOpacity);this._centerLabelGraphicsLayer.setOpacity(this.centerLabelOpacity);for(var c=0;c<this.colors.length;c++)this.colors[c]=new a(this.colors[c]);this.setProperties(b)},setProperties:function(b){b.lineWidths&&
this.setLineWidths(b.lineWidths);b.minIntervalSpacing&&this.setMinIntervalSpacing(b.minIntervalSpacing);b.levelOfDetail&&this.setLevelOfDetail(b.levelOfDetail);b.labelPlacement&&this.setLabelPlacement(b.labelPlacement);b.hasOwnProperty("verticalLabels")&&this.setVerticalLabels(b.verticalLabels);b.cornerLabelXOffset&&this.setCornerLabelXOffset(b.cornerLabelXOffset);b.cornerLabelYOffset&&this.setCornerLabelYOffset(b.cornerLabelYOffset);b.intervalLabelXOffset&&this.setIntervalLabelXOffset(b.intervalLabelXOffset);
b.intervalLabelYOffset&&this.setIntervalLabelYOffset(b.intervalLabelYOffset);b.colors&&this.setColors(b.colors);b.lineWidths&&this.setLineWidths(b.lineWidths);b.fontSizes&&this.setFontSizes(b.fontSizes);b.lineOpacity&&this.setLineOpacity(b.lineOpacity);b.labelOpacity&&this.setLabelOpacity(b.labelOpacity);b.centerLabelOpacity&&this.setCenterLabelOpacity(b.centerLabelOpacity);b.centerLabelScaleFactor&&this.setCenterLabelScaleFactor(b.centerLabelScaleFactor);b.fontFamily&&this.setFontFamily(b.fontFamily);
if(this.enabled&&this.map.loaded)this.enable();else if(this.enabled&&this.map.on)this.map.on("load",e.hitch(this,this.enable))},getMinIntervalSpacing:function(){return this.minIntervalSpacing},setMinIntervalSpacing:function(b){"number"===typeof b&&(this.minIntervalSpacing=b,this.drawGrid())},setLevelOfDetail:function(b){if("string"!==typeof b)return null;b=b.toLowerCase();switch(b){case "more":case "best":case "high":case "maximum":case "max":this.levelOfDetail="more";break;case "less":case "low":case "minimum":case "mim":this.levelOfDetail=
"less";break;default:this.levelOfDetail="default"}this.drawGrid()},getLevelOfDetail:function(){return this.levelOfDetail},getLabelPlacement:function(){return this.labelPlacement},setLabelPlacement:function(b,a){if("object"===typeof b&&b.length){this.labelPlacement={lowerLeft:!1,lowerRight:!1,upperLeft:!1,upperRight:!1,center:!1};for(var c=0;c<b.length;c++)this.setLabelPlacement(b[c],!0)}else if("object"===typeof b)this.labelPlacement=b;else if("undefined"===typeof a?(this.labelPlacement={lowerLeft:!1,
lowerRight:!1,upperLeft:!1,upperRight:!1,center:!1},a=!0):a=!0===a,b.toLowerCase){switch(b.toLowerCase()){case "center":case "middle":this.labelPlacement.center=a;break;case "top":case "upper":this.labelPlacement.upperLeft=a;this.labelPlacement.upperRight=a;break;case "bottom":case "lower":this.labelPlacement.lowerLeft=a;this.labelPlacement.lowerRight=a;break;case "left":this.labelPlacement.lowerLeft=a;this.labelPlacement.upperLeft=a;break;case "right":this.labelPlacement.lowerRight=a;this.labelPlacement.upperRight=
a;break;case "lower-left":case "bottom-left":this.labelPlacement.lowerLeft=a;break;case "upper-left":case "top-left":this.labelPlacement.upperLeft=a;break;case "lower-right":case "bottom-right":this.labelPlacement.lowerRight=a;break;case "upper-right":case "top-right":this.labelPlacement.upperRight=a;break;case "all":this.labelPlacement.lowerLeft=a;this.labelPlacement.lowerRight=a;this.labelPlacement.upperLeft=a;this.labelPlacement.upperRight=a;this.labelPlacement.center=a;break;default:this.labelPlacement.lowerLeft=
a,this.labelPlacement.lowerRight=a,this.labelPlacement.upperLeft=a,this.labelPlacement.upperRight=a}this.drawGrid()}},getVerticalLabels:function(){return this.verticalLabels},setVerticalLabels:function(b){"boolean"===typeof b&&(this.verticalLabels=b,this.drawGrid())},getCornerLabelXOffset:function(){return this.cornerLabelXOffset},setCornerLabelXOffset:function(b){"number"===typeof b&&(this.cornerLabelXOffset=b,this.drawGrid())},getCornerLabelYOffset:function(){return this.cornerLabelYOffset},setCornerLabelYOffset:function(b){"number"===
typeof b&&(this.cornerLabelYOffset=b,this.drawGrid())},getIntervalLabelXOffset:function(){return this.intervalLabelXOffset},setIntervalLabelXOffset:function(b){"number"===typeof b&&(this.intervalLabelXOffset=b,this.drawGrid())},getIntervalLabelYOffset:function(){return this.intervalLabelYOffset},setIntervalLabelYOffset:function(b){"number"===typeof b&&(this.intervalLabelYOffset=b,this.drawGrid())},getColor:function(b){return"number"!==typeof b||0>b||b>this.colors.length-1?null:this.colors[b]},setColor:function(b,
c){if("number"!==typeof b||0>b||b>this.colors.length-1)return null;this.colors[b]=new a(c);this.drawGrid()},setColors:function(b){if("object"!==typeof b||!b.length)return null;for(var c,d=0;d<this.colors.length;d++)c=b.length>d?d:b.length-1,this.colors[d]=new a(b[c]);this.drawGrid()},getLineWidth:function(b){return"number"!==typeof b||0>b||b>this.lineWidths.length-1?null:this.lineWidths[b]},setLineWidth:function(b,a){if("number"!==typeof b||"number"!==typeof a||0>b||b>this.lineWidths.length-1)return null;
this.lineWidths[b]=a;this.drawGrid()},setLineWidths:function(b){if("object"!==typeof b||!b.length)return null;for(var a,c=0;c<this.lineWidths.length;c++)a=b.length>c?c:b.length-1,"number"===typeof b[a]&&(this.lineWidths[c]=b[a]);this.drawGrid()},getFontSize:function(b){return"number"!==typeof b||0>b||b>this.fontSizes.length-1?null:this.fontSizes[b]},setFontSize:function(b,a){if("number"!==typeof b||"number"!==typeof a||0>b||b>this.fontSizes.length-1)return null;this.fontSizes[b]=a;this.drawGrid()},
setFontSizes:function(b){if("object"!==typeof b||!b.length)return null;for(var a,c=0;c<this.fontSizes.length;c++)a=b.length>c?c:b.length-1,"number"===typeof b[a]&&(this.fontSizes[c]=b[a]);this.drawGrid()},getCenterLabelScaleFactor:function(){return this.centerLabelScaleFactor},setCenterLabelScaleFactor:function(b){"number"===typeof b&&(this.centerLabelScaleFactor=b,this.drawGrid())},getCenterLabelOpacity:function(){return this.centerLabelOpacity},setCenterLabelOpacity:function(b){"number"===typeof b&&
(this.centerLabelOpacity=b,this._centerLabelGraphicsLayer.setOpacity(b),this.drawGrid())},getFontFamily:function(){return this.fontFamily},setFontFamily:function(b){"string"===typeof b&&(this.fontFamily=b,this.drawGrid())},getInterval:function(){return this.currentInterval},setInterval:function(){this.currentInterval=m.getInterval(this.getMinIntervalSpacing(),this.map,this.getLevelOfDetail())},getMap:function(){return this.map},setMap:e.hitch(this,function(b){this.map.loaded&&this.clearGrid();this.map=
b;if(this.enabled&&this.map.loaded)this.enable();else if(this.enabled)this.map.on("load",e.hitch(this,this.enable))}),getLineOpacity:function(){return this.lineOpacity},setLineOpacity:function(b){"number"===typeof b&&(this.lineOpacity=b,this._lineGraphicsLayer.setOpacity(b))},getLabelOpacity:function(){return this.labelOpacity},setLabelOpacity:function(b){"number"===typeof b&&(this.labelOpacity=b,this._labelGraphicsLayer.setOpacity(b))},getSettings:function(){return{minIntervalSpacing:this.minIntervalSpacing,
levelOfDetail:this.levelOfDetail,labelPlacement:this.labelPlacement,verticalLabels:this.verticalLabels,cornerLabelXOffset:this.cornerLabelXOffset,cornerLabelYOffset:this.cornerLabelYOffset,intervalLabelXOffset:this.intervalLabelXOffset,intervalLabelYOffset:this.intervalLabelYOffset,colors:d.map(this.colors,function(b){return b.toHex()}),lineWidths:this.lineWidths,fontSizes:this.fontSizes,lineOpacity:this.lineOpacity,labelOpacity:this.labelOpacity,centerLabelOpacity:this.centerLabelOpacity,centerLabelScaleFactor:this.centerLabelScaleFactor,
fontFamily:this.fontFamily}},enable:function(){var b=this.getMap();this.enabled=!0;b.addLayers(this.getLayers());this._drawEvent=b.on("extent-change",e.hitch(this,function(){this._drawGrid()}));this._drawGrid()},disable:function(){var b=this.getMap();this.enabled=!1;this._drawEvent&&(this._drawEvent.remove(),this._drawEvent=null);this.clearGrid();for(var a=this.getLayers(),c=0;c<a.length;c++)b.removeLayer(a[c])},clearGrid:function(){var b=this.getMap();if(!b.loaded)var a=b.on("load",e.hitch(this,
function(){a.remove();this.clearGrid()}));this._lineGraphicsLayer.clear();this._labelGraphicsLayer.clear();this._centerLabelGraphicsLayer.clear();this._lineGraphics=[];this._labelGraphics=[];this._centerLabelGraphics=[]},drawGrid:function(){this._drawing&&this._drawGrid()},_drawGrid:function(){var b=this.getMap(),a,h;this._drawing&&clearTimeout(this._drawing);this._drawing=setTimeout(e.hitch(this,function(){if(b.loaded&&this.enabled){h=m.zonesFromExtent(this);this._zoneCount=h.length;this.clearGrid();
this.setInterval();this._lineGraphics=[];this._lineGraphics0=[];this._lineGraphics1=[];this._lineGraphics2=[];this._lineGraphics3=[];this._lineGraphics4=[];this._lineGraphics5=[];m.processZonePolygons(h,this);for(a=0;a<this._centerLabelGraphics.length;a++)this._centerLabelGraphicsLayer.add(this._centerLabelGraphics[a]);d.forEach([this._lineGraphics5,this._lineGraphics4,this._lineGraphics3,this._lineGraphics2,this._lineGraphics1,this._lineGraphics0],function(b){this._lineGraphics=this._lineGraphics.concat(b)},
this);for(a=0;a<this._lineGraphics.length;a++)this._lineGraphics[a].geometry=c.project(this._lineGraphics[a].geometry,this._lineGraphicsLayer.spatialReference),this._lineGraphicsLayer.add(this._lineGraphics[a]);for(a=0;a<this._labelGraphics.length;a++){this._labelGraphics[a].geometry=c.project(this._labelGraphics[a].geometry,this._lineGraphicsLayer.spatialReference);this._labelGraphicsLayer.add(this._labelGraphics[a]);var g=this._labelGraphics[a].getNode();if(g){var f=this._labelGraphics[a].symbol.color;
g.classList.add("text-symbol-halo-"+(128<.2126*f.r+.7152*f.g+.0722*f.b?"black":"white"))}}delete this._lineGraphics;delete this._lineGraphics0;delete this._lineGraphics1;delete this._lineGraphics2;delete this._lineGraphics3;delete this._lineGraphics4;delete this._lineGraphics5}}),50)}})})},"widgets/GridOverlay/lib/mgrs-utils":function(){define("dojo/json ./constants ./geometry-utils ./labeling-utils ./mgrs ./NonPolarGridZone ./VisibleGridZone ./GridPolygon esri/geometry/geometryEngine esri/graphic esri/geometry/Point esri/geometry/Polyline esri/geometry/Polygon esri/symbols/SimpleLineSymbol esri/symbols/TextSymbol esri/symbols/Font esri/Color".split(" "),
function(n,e,d,m,h,a,c,b,g,k,l,f,t,D,q,y,F){return{_ZonesDictionary:function(){var b,c,d,f="CDEFGHJKLMNPQRSTUVWX".split(""),g={};for(b=1;60>=b;b++)for(c=0;c<f.length;c++){var h=d=d=void 0,l=void 0,k=void 0,m=b+f[c];"32X"===m||"34X"===m||"36X"===m?d=null:("31V"===m?d={xmin:0,ymin:56,xmax:3,ymax:64,id:m}:"32V"===m?d={xmin:3,ymin:56,xmax:12,ymax:64,id:m}:"31X"===m?d={xmin:0,ymin:72,xmax:9,ymax:84,id:m}:"33X"===m?d={xmin:9,ymin:72,xmax:21,ymax:84,id:m}:"35X"===m?d={xmin:21,ymin:72,xmax:33,ymax:84,id:m}:
"37X"===m?d={xmin:33,ymin:72,xmax:42,ymax:84,id:m}:(d=(b-1)*e.ZONE_WIDTH_DEGREES-180,h=b*e.ZONE_WIDTH_DEGREES-180,l=c*e.ZONE_HEIGHT_DEGREES+e.MIN_MGRS_LATITUDE,k=(c+1)*e.ZONE_HEIGHT_DEGREES+e.MIN_MGRS_LATITUDE,d=180===d?e.POSITIVE_180:d,d=-180===d?e.NEGATIVE_180:d,h=180===h?e.POSITIVE_180:h,h=-180===h?e.NEGATIVE_180:h,80===k&&(k=e.MAX_MGRS_LATITUDE),d={xmin:d,ymin:l,xmax:h,ymax:k,id:m}),d=new a(d));d&&(g[d.id]=d)}return g}(),getInterval:function(b,a,c){var d,f,g,e=0;d=a.getResolutionInMeters()*b;
f=a.extent.getCenter();g=a.toMap(a.toScreen(f).offset(0,b/2));for(d=a.toMap(a.toScreen(f).offset(0,-b/2));84<=g.getLatitude()||84<=d.getLatitude();)e++,g=a.toMap(a.toScreen(f).offset(0,b/2+e*b)),d=a.toMap(a.toScreen(f).offset(0,-b/2+e*b));for(;-80>=g.getLatitude()||-80>=d.getLatitude();)e++,g=a.toMap(a.toScreen(f).offset(0,b/2-e*b)),d=a.toMap(a.toScreen(f).offset(0,-b/2-e*b));b=g.getLatitude();a=g.getLongitude();g=d.getLatitude();e=d.getLongitude();d=h.getZoneNumber(b,a);d=Math.abs(h.LLtoUTM(b,a,
d)[1]-h.LLtoUTM(g,e,d)[1]);b=Math.log10(d);switch(c){case "more":c=Math.floor(b);break;case "less":case "strict":c=Math.ceil(b);break;default:c=Math.round(b)}c=Math.pow(10,c);d>2*c&&(c*=10);return 1E5<c?!1:c},zonesFromExtent:function(b){var a,h,k,m,w,q,y,D,B,F,z,r;h=b.map.extent;var x=h.spatialReference.isWebMercator()?e.WEBMERCATOR_360:e.GEOGRAPHIC_360,u={xOffset:b.getCornerLabelXOffset(),yOffset:b.getCornerLabelYOffset(),rotation:0,color:b.getColor(0),fontFamily:b.getFontFamily(),fontSize:b.getFontSize(0)},
v="CDEFGHJKLMNPQRSTUVWX".split(""),A=[];if(h.xmax-h.xmin>x)return A;var x=d.extentToPolygon(h),x=d.toWebMercator(x),C=d.pointToGeographic(new l([h.xmin,h.ymin],h.spatialReference)),G=d.pointToGeographic(new l([h.xmax,h.ymax],h.spatialReference));h=C.y;m=G.y;z=C.offsetX;r=G.offsetX;for(var E=z;E<=r;E++)for(a=E>z?e.NEGATIVE_180:C.x,k=E<r?e.POSITIVE_180:G.x,w=Math.min(Math.max(Math.floor((h+80)/e.ZONE_HEIGHT_DEGREES),0),19),q=Math.min(Math.floor((m+80)/e.ZONE_HEIGHT_DEGREES),19),a=Math.floor((a+180)/
e.ZONE_WIDTH_DEGREES),k=Math.min(Math.floor((k+180)/e.ZONE_WIDTH_DEGREES)+2,60);a<=k;a++)for(var I=w;I<=q;I++)if(y=v[I],y=a+y,this._ZonesDictionary[y]){D=n.parse(n.stringify(this._ZonesDictionary[y]._rings));for(B=0;B<D[0].length;B++)D[0][B][0]+=E*e.GEOGRAPHIC_360;B=new t({rings:D});F=new f({paths:D});if(D=g.intersect(d.toWebMercator(B),x))B=g.intersect(d.toWebMercator(F),x),A.push(new c({map:b.map,polyline:B,polygon:D,offset:E,nonPolarGridZone:this._ZonesDictionary[y],labelParameters:u}))}return A},
processZonePolygons:function(b,a){for(var c={},f=a.getInterval(),e=0;e<b.length;e++){var l=b[e];l&&(this.handleZonePolygon(l,a),f&&(c[l.nonPolarGridZone.utmZone]?c[l.nonPolarGridZone.utmZone].polygon=g.union([d.toWebMercator(l.polygon),c[l.nonPolarGridZone.utmZone].polygon]):c[l.nonPolarGridZone.utmZone]={polygon:d.toWebMercator(l.polygon),offset:l.offset}))}if(f)for(e=Object.keys(c),l=0;l<e.length;l++){var k=e[l],m=c[k].polygon,w=c[k].offset,q=d.toGeographic(m.getExtent()),n=h.LLtoUTM(q.ymin,q.xmin,
k),t=h.LLtoUTM(q.ymin,q.xmax,k),r=h.LLtoUTM(q.ymax,q.xmax,k),q=h.LLtoUTM(q.ymax,q.xmin,k),k={minE:Math.min(n[0],t[0],r[0],q[0]),maxE:Math.max(n[0],t[0],r[0],q[0]),minN:Math.min(n[1],t[1],r[1],q[1]),maxN:Math.max(n[1],t[1],r[1],q[1]),utmZone:k,polygon:m,offset:w,grid:a};this.handle100kGrids(k);1E5>f&&this.handleIntervals(k)}},handleZonePolygon:function(b,a){var c,d,f;c=b.polyline;d=a.getColor(0);f=a.getLineWidth(0);a._lineGraphics0.push(new k(c,new D(D.STYLE_SOLID,new F(d),f)));if(!(4>a.map.getZoom()))if(5>=
a.map.getZoom())a._labelGraphics.push(b.getCenterLabel());else for(c=b.getLabels(),d=0;d<c.length;d++)a._labelGraphics.push(c[d])},handle100kGrids:function(a){var c=a.polygon,f=a.offset,l=a.utmZone,m=a.minE,q=a.maxE,w=a.minN,n=a.maxN;a=a.grid;for(var y=a.getColor(1),B=a.getLineWidth(1),J=a.getMap(),z,r,x,u,v,w=1E5*Math.floor(w/1E5);w<n;w+=1E5)for(z=1E5*Math.floor(m/1E5);z<q;z+=1E5){v=h.findGridLetters(l,0>w+5E4?1E7+(w+5E4):w+5E4,z+5E4);x=[];for(r=z;r<=z+1E5;r+=1E4)u=h.UTMtoLL(w,r,l),x.push([u.lon,
u.lat]);for(r=w;r<w+1E5;r+=1E4)u=h.UTMtoLL(r,z+1E5,l),x.push([u.lon,u.lat]);for(r=z+1E5;r>=z;r-=1E4)u=h.UTMtoLL(w+1E5,r,l),x.push([u.lon,u.lat]);for(r=w+1E5;r>=w;r-=1E4)u=h.UTMtoLL(r,z,l),x.push([u.lon,u.lat]);for(r=0;r<x.length;r++)x[r][0]+=f*e.GEOGRAPHIC_360;x=new t([x]);r=d.polygonToPolyline(x);u=g.intersect(d.toWebMercator(x),d.toWebMercator(c));r=g.intersect(d.toWebMercator(r),d.toWebMercator(c));if(u&&(v={clippedPolygon:u,unclippedPolygon:x,map:J,xmin:z%1E6,ymin:w%1E6,xmax:(z+1E5)%1E6,ymax:(w+
1E5)%1E6,minMaxType:"utm",utmZone:l,text:v,labelParameters:{xOffset:10,yOffset:10,rotation:0,color:a.getColor(1),fontFamily:a.getFontFamily(),fontSize:a.getFontSize(1)}},v=new b(v),!(7>a.map.getZoom())))for(v=9>J.getZoom()?[v.getCenterLabel(!0)]:v.getLabels(),r&&a._lineGraphics1.push(new k(r,new D(D.STYLE_SOLID,new F(y),B))),r=0;r<v.length;r++)a._labelGraphics.push(v[r])}},handleIntervals:function(a){var b=a.polygon,c=a.utmZone,n=a.offset,t=a.minE,w=a.maxE,K=a.minN,M=a.maxN;a=a.grid;var N=a.getFontFamily(),
B=a.getIntervalLabelXOffset(),J=a.getIntervalLabelYOffset(),z=a.getInterval(),r=a.getMap(),x=a.getVerticalLabels(),u,v,A,C,G,E,I,H,p,L;for(u=Math.floor(K/z)*z;u<=M;u+=z)if(0!==u%1E5){0===u%1E4?(A=2,C=a._lineGraphics2):0===u%1E3?(A=3,C=a._lineGraphics3):0===u%100?(A=4,C=a._lineGraphics4):(A=5,C=a._lineGraphics5);G=a.getColor(A);E=a.getLineWidth(A);A=a.getFontSize(A);I=new y(A,y.STYLE_NORMAL,y.VARIANT_NORMAL,y.WEIGHT_BOLD,N);p=[];v=h.UTMtoLL(u,t,c);H=h.UTMtoLL(u,w,c);for(v=0;v<w;v+=1E4)L=h.UTMtoLL(u,
t+v,c),p.push([L.lon,L.lat]);p.push([H.lon,H.lat]);for(v=0;v<p.length;v++)p[v][0]+=n*e.GEOGRAPHIC_360;if(H=g.intersect(d.toWebMercator(new f([p])),d.toWebMercator(b))){E=new k(H,new D(D.STYLE_SOLID,new F(G),E));C.push(E);C=m.padZero((0>K?1E7+u:u)%1E5/z,5-Math.log10(z));p=H.paths[0];v=new l({x:p[0][0]+.001,y:p[0][1],spatialReference:H.spatialReference});H=new l({x:p[p.length-1][0]-.001,y:p[p.length-1][1],spatialReference:H.spatialReference});E=m.screenDistanceBetweenPoints(v,H,r).horizontal;p=m.distanceFromMapEdge(v,
r).horizontal;if(2>p||200<p&&300<E)p=(new q(C)).setAngle(0).setColor(G).setOffset(B,-(A/1.333)/2).setAlign("start").setFont(I),p=new k(v,p),a._labelGraphics.push(p);p=m.distanceFromMapEdge(H,r).horizontal;if(2>p||200<p&&300<E)p=(new q(C)).setAngle(0).setColor(G).setOffset(-B,-(A/1.333)/2).setAlign("end").setFont(I),p=new k(H,p),a._labelGraphics.push(p)}}for(t=Math.floor(t/z)*z;t<=w;t+=z)if(0!==t%1E5){0===t%1E4?(A=2,C=a._lineGraphics2):0===t%1E3?(A=3,C=a._lineGraphics3):0===t%100?(A=4,C=a._lineGraphics4):
(A=5,C=a._lineGraphics5);G=a.getColor(A);E=a.getLineWidth(A);A=a.getFontSize(A);I=new y(A,y.STYLE_NORMAL,y.VARIANT_NORMAL,y.WEIGHT_BOLD,N);p=[];u=h.UTMtoLL(K-1E4,t,c);B=h.UTMtoLL(M+1E4,t,c);p.push([u.lon,u.lat]);p.push([B.lon,B.lat]);for(v=0;v<p.length;v++)p[v][0]+=n*e.GEOGRAPHIC_360;if(B=g.intersect(d.toWebMercator(new f([p])),d.toWebMercator(b))){u=new k(B,new D(D.STYLE_SOLID,new F(G),E));C.push(u);C=m.padZero(t%1E5/z,5-Math.log10(z));p=B.paths[0];u=new l({x:p[0][0],y:p[0][1]+.001,spatialReference:{wkid:102100}});
B=new l({x:p[p.length-1][0],y:p[p.length-1][1]-.001,spatialReference:{wkid:102100}});E=m.screenDistanceBetweenPoints(u,B,r).vertical;p=m.distanceFromMapEdge(u,r).vertical;if(2>p||200<p&&300<E)p=(new q(C)).setAngle(x?90:0).setColor(G).setOffset(x?-(A/1.333)/2:0,J).setAlign(x?"end":"middle").setFont(I),p=new k(u,p),a._labelGraphics.push(p);p=m.distanceFromMapEdge(B,r).vertical;if(2>p||200<p&&300<E)p=(new q(C)).setAngle(x?90:0).setColor(G).setOffset(x?-(A/1.333)/2:0,x?-J:-J-A/1.333).setAlign(x?"start":
"middle").setFont(I),p=new k(B,p),a._labelGraphics.push(p)}}}}})},"widgets/GridOverlay/lib/constants":function(){define([],function(){return{ZONE_WIDTH_DEGREES:6,ZONE_HEIGHT_DEGREES:8,MIN_MGRS_LATITUDE:-80,MAX_MGRS_LATITUDE:84,POSITIVE_180:179.99999999,NEGATIVE_180:-179.99999999,WEST_GEOGRAPHIC_LIMIT:-180,EAST_GEOGRAPHIC_LIMIT:180,GEOGRAPHIC_360:360,WEST_WEBMERCATOR_LIMIT:-2.0037508342789244E7,EAST_WEBMERCATOR_LIMIT:2.0037508342789244E7,WEBMERCATOR_360:4.007501668557849E7,DEGREES_PER_RADIAN:57.29577951308232,
RADIANS_PER_DEGREE:.017453292519943295,WGS84_EQUATORIAL_RADIUS:6378137,WGS84_HALF_EQUATORIAL_RADIUS:3189068.5,HALF_PI:1.5707963267948966}})},"widgets/GridOverlay/lib/geometry-utils":function(){define(["./constants","esri/geometry/webMercatorUtils","esri/geometry/Polyline","esri/geometry/Polygon"],function(n,e,d,m){return{toGeographic:function(d){return d.spatialReference.isWebMercator()?e.webMercatorToGeographic(d):d},toWebMercator:function(d){return d.spatialReference.isWebMercator()?d:e.geographicToWebMercator(d)},
_latitudeToWebMercatorY:function(d){return n.GEOGRAPHIC_360/2*(n.HALF_PI-2*Math.atan(Math.exp(-1*d/n.WGS84_EQUATORIAL_RADIUS)))/Math.PI},_longitudeToWebMercatorX:function(d){var a=n.GEOGRAPHIC_360,c=n.GEOGRAPHIC_360/2,b=n.WGS84_EQUATORIAL_RADIUS;return d/b*c/Math.PI-Math.floor((d/b*c/Math.PI+c)/a)*a},pointToGeographic:function(d){for(var a=d.x,c=d.y,b=(d=d.spatialReference.isWebMercator())?n.WEST_WEBMERCATOR_LIMIT:n.WEST_GEOGRAPHIC_LIMIT,g=d?n.EAST_WEBMERCATOR_LIMIT:n.EAST_GEOGRAPHIC_LIMIT,e=d?n.WEBMERCATOR_360:
n.GEOGRAPHIC_360,l=0;a<=b;)a+=e,--l;for(;a>g;)a-=e,l+=1;d&&(a=this._longitudeToWebMercatorX(a),c=this._latitudeToWebMercatorY(c));return{x:a,y:c,offsetX:l}},extentToPolygon:function(d){return new m({rings:[[[d.xmin,d.ymin],[d.xmax,d.ymin],[d.xmax,d.ymax],[d.xmin,d.ymax],[d.xmin,d.ymin]]],spatialReference:d.spatialReference})},polygonToPolyline:function(e){return new d({paths:e.rings,spatialReference:{wkid:e.spatialReference.wkid}})}}})},"widgets/GridOverlay/lib/labeling-utils":function(){define(["./mgrs",
"esri/geometry/Point"],function(n,e){var d=document.createElement("canvas").getContext("2d");return{getWidthOfText:function(e,h,a){d.font=a+"px "+h;return d.measureText(e).width},padZero:function(d,e){for(d=d.toString();d.length<e;)d="0"+d;return d},getScreenSize:function(d,h){var a=d.getExtent(),c=new e([a.xmin,a.ymin],a.spatialReference),a=new e([a.xmax,a.ymax],a.spatialReference),c=h.toScreen(c),a=h.toScreen(a);return{width:Math.abs(a.x-c.x),height:Math.abs(a.y-c.y)}},distanceFromMapEdge:function(d,
e){var a,c,b;c=e.toScreen(d);"undefined"===typeof n&&(n=!0);a=Math.min(Math.abs(e.width-c.x),Math.abs(c.x));c=Math.min(Math.abs(e.height-c.y),Math.abs(c.y));n&&(b=Math.round(1E4*d.getLatitude())/1E4,84===b||-80===b)&&(c=0);return{horizontal:a,vertical:c,total:Math.sqrt(a*a+c*c)}},screenDistanceBetweenPoints:function(d,e,a){d=a.toScreen(d);a=a.toScreen(e);e=Math.abs(d.x-a.x);d=Math.abs(d.y-a.y);return{horizontal:e,vertical:d,total:Math.sqrt(e*e+d*d)}}}})},"widgets/GridOverlay/lib/mgrs":function(){define(["esri/geometry/Point"],
function(n){var e,d,m;e=6378137;d=.00669437999;m=d/(1-d);var h=(1-Math.sqrt(1-d))/(1+Math.sqrt(1-d));return{setSpheroid:function(a){a=a.toUpperCase();switch(a){case "AIRY 1830":e=6377563.396;d=.00667053999998536;break;case "AIRY MODIFIED":e=6377340.189;d=.00667053999998536;break;case "AVERAGE TERRESTRIAL SYSTEM 1977":e=6378135;d=.00669438499958795;break;case "AUSTRALIAN NATIONAL":e=6378160;d=.00669454185458764;break;case "BESSEL 1841":e=6377397.155;d=.00667437223180214;break;case "BESSEL MODIFIED":e=
6377492.018;d=.00667437223180214;break;case "BESSEL NAMIBIA":e=6377483.865;d=.00667437223180214;break;case "CLARKE 1858":e=6378293.639;d=.00678514600473303;break;case "NAD27":case "CLARKE 1866":e=6378206.4;d=.00676865799760964;break;case "CLARKE 1866 MICHIGAN":e=6378450.047;d=.00676865830738507;break;case "CLARKE 1880":e=6378249.138;d=.00680348101883452;break;case "CLARKE 1880 (ARC)":e=6378249.145;d=.00680348101883452;break;case "CLARKE 1880 (BENOIT)":e=6378300.79;d=.00680348271028565;break;case "CLARKE 1880 (IGN)":e=
6378249.2;d=.00680348767623919;break;case "CLARKE 1880 (RGS)":e=6378249.145;d=.00680351128284906;break;case "CLARKE 1880 (SGA)":e=6378249.2;d=.00680348860198551;break;case "EVEREST 1830 (DEFINITION)":e=6377299.36;d=.00663784663019969;break;case "EVEREST 1830 (MODIFIED)":e=6377304.063;d=.00663784663019969;break;case "EVEREST (ADJUSTMENT 1937)":e=6377276.345;d=.00663784663019969;break;case "EVEREST (DEFINITION 1962)":e=6377301.243;d=.00663784606842344;break;case "EVEREST (DEFINITION 1967)":e=6377298.556;
d=.00663784663019969;break;case "EVEREST (DEFINITION 1975)":e=6377299.151;d=.00663784606842344;break;case "NAD83":case "GEM GRAVITY POTENTIAL MODEL":case "GRS 1980":e=6378137;d=.00669438002290079;break;case "GRS 1967 \x3d INTERNATIONAL 1967":e=6378160;d=.00669460532856765;break;case "HELMERT 1906":e=6378200;d=.00669342162296594;break;case "INDONESIAN NATIONAL":e=6378160;d=.0066946090804091;break;case "INTERNATIONAL 1924":e=6378388;d=.00672267002233332;break;case "INTERNATIONAL 1967":e=6378160;d=.00669454185458764;
break;case "KRASOVSKY 1940":e=6378245;d=.00669342162296594;break;case "TRANSIT PRECISE EPHEMERIS":e=6378145;d=.00669454185458764;break;case "OSU 1986 GEOIDAL MODEL":e=6378136.2;d=.00669438006997852;break;case "OSU 1991 GEOIDAL MODEL":e=6378136.3;d=.00669438006997852;break;case "PLESSIS 1817":e=6376523;d=.00646954373789485;break;case "STRUVE 1860":e=6378298.3;d=.00677435980080942;break;case "WAR OFFICE":e=6378300.583;d=.00674534331628926;break;case "NWL-10D \x3d\x3d WGS 1972":e=6378135;d=.00669431777826672;
break;case "WGS 1972":e=6378135;d=.00669431777826672;break;case "WGS84":case "WGS 1984":e=6378137;d=.00669437999014132;break;case "WGS 1966":e=6378145;d=.00669454185458764;break;case "FISCHER 1960":e=6378166;d=.00669342162296594;break;case "FISCHER 1968":e=6378150;d=.00669342162296594;break;case "FISCHER MODIFIED":e=6378155;d=.00669342162296594;break;case "HOUGH 1960":e=6378270;d=.00672267002233332;break;case "EVEREST MODIFIED 1969":e=6377295.664;d=.00663784663019969;break;case "WALBECK":e=6376896;
d=.00659454809414964;break;case "GRS 1967 TRUNCATED":e=6378160,d=.00669454185458764}m=d/(1-d);h=(1-Math.sqrt(1-d))/(1+Math.sqrt(1-d))},getSpheroidList:function(){return"AIRY 1830;AIRY MODIFIED;AUSTRALIAN NATIONAL;AVERAGE TERRESTRIAL SYSTEM 1977;BESSEL 1841;BESSEL MODIFIED;BESSEL NAMIBIA;CLARKE 1858;CLARKE 1866 MICHIGAN;CLARKE 1866;CLARKE 1880 (ARC);CLARKE 1880 (BENOIT);CLARKE 1880 (IGN);CLARKE 1880 (RGS);CLARKE 1880 (SGA);CLARKE 1880;EVEREST (ADJUSTMENT 1937);EVEREST (DEFINITION 1962);EVEREST (DEFINITION 1967);EVEREST (DEFINITION 1975);EVEREST 1830 (DEFINITION);EVEREST 1830 (MODIFIED);EVEREST MODIFIED 1969;FISCHER 1960;FISCHER 1968;FISCHER MODIFIED;GEM GRAVITY POTENTIAL MODEL;GRS 1967 \x3d INTERNATIONAL 1967;GRS 1967 TRUNCATED;GRS 1980;HELMERT 1906;HOUGH 1960;INDONESIAN NATIONAL;INTERNATIONAL 1924;INTERNATIONAL 1967;KRASOVSKY 1940;NWL-10D \x3d\x3d WGS 1972;OSU 1986 GEOIDAL MODEL;OSU 1991 GEOIDAL MODEL;PLESSIS 1817;STRUVE 1860;TRANSIT PRECISE EPHEMERIS;WALBECK;WAR OFFICE;WGS 1966;WGS 1972;WGS 1984".split(";")},
getZoneNumber:function(a,c){a=parseFloat(a);c=parseFloat(c);if(360<c||-180>c){for(;-180>c;)c+=360;for(;180<c;)c-=360}(360<c||-180>c||90<a||-90>a)&&console.error("Bad input. lat: "+a+" lon: "+c);var b=c+180-360*Math.floor((c+180)/360)-180,d=Math.floor((b+180)/6)+1;56<=a&&64>a&&3<=b&&12>b&&(d=32);72<=a&&84>a&&(0<=b&&9>b?d=31:9<=b&&21>b?d=33:21<=b&&33>b?d=35:33<=b&&42>b&&(d=37));return d},LLtoUTM:function(a,c,b){a=parseFloat(a);c=parseFloat(c);if(84<a||-80>a)return"undefined, ensure 84N \x3e Lat \x3e 80S";
if(360<c||-180>c){for(;-180>c;)c+=360;for(;180<c;)c-=360}(360<c||-180>c||90<a||-90>a)&&console.error("Bad input. lat: "+a+" lon: "+c);var g,k,l,f;g=c+180-360*Math.floor((c+180)/360)-180;k=a*Math.PI/180;g=g*Math.PI/180;c=b?b:this.getZoneNumber(a,c);b=(6*(c-1)-180+3)*Math.PI/180;this.UTMLetterDesignator(a);a=e/Math.sqrt(1-d*Math.sin(k)*Math.sin(k));l=Math.tan(k)*Math.tan(k);f=m*Math.cos(k)*Math.cos(k);g=Math.cos(k)*(g-b);return[.9996*a*(g+(1-l+f)*g*g*g/6+(5-18*l+l*l+72*f-58*m)*g*g*g*g*g/120)+5E5,.9996*
(e*((1-d/4-3*d*d/64-5*d*d*d/256)*k-(3*d/8+3*d*d/32+45*d*d*d/1024)*Math.sin(2*k)+(15*d*d/256+45*d*d*d/1024)*Math.sin(4*k)-35*d*d*d/3072*Math.sin(6*k))+a*Math.tan(k)*(g*g/2+(5-l+9*f+4*f*f)*g*g*g*g/24+(61-58*l+l*l+600*f-330*m)*g*g*g*g*g*g/720)),c]},LLtoUSNG:function(a,c,b,d){b=b||5;var e;e=d?d:this.getZoneNumber(a,c);a=parseFloat(a);c=parseFloat(c);var g=this.LLtoUTM(a,c,e);d=g[0];var f=g[1];0>a&&(f+=1E7);g=this.findGridLetters(e,f,d);e=Math.round(f)%1E5;d=Math.round(d)%1E5;e=Math.floor(e/Math.pow(10,
5-b));d=Math.floor(d/Math.pow(10,5-b));a=this.getZoneNumber(a,c)+this.UTMLetterDesignator(a)+" "+g+" ";for(c=String(d).length;c<b;c++)a+="0";a+=d+" ";for(c=String(e).length;c<b;c++)a+="0";return a+e},UTMLetterDesignator:function(a){a=parseFloat(a);return 84>=a&&72<=a?"X":72>a&&64<=a?"W":64>a&&56<=a?"V":56>a&&48<=a?"U":48>a&&40<=a?"T":40>a&&32<=a?"S":32>a&&24<=a?"R":24>a&&16<=a?"Q":16>a&&8<=a?"P":8>a&&0<=a?"N":0>a&&-8<=a?"M":-8>a&&-16<=a?"L":-16>a&&-24<=a?"K":-24>a&&-32<=a?"J":-32>a&&-40<=a?"H":-40>
a&&-48<=a?"G":-48>a&&-56<=a?"F":-56>a&&-64<=a?"E":-64>a&&-72<=a?"D":-72>a&&-80<=a?"C":"Z"},findSet:function(a){a=parseInt(a,10);switch(a%6){case 0:return 6;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return-1}},findGridLetters:function(a,c,b){a=parseInt(a,10);c=parseFloat(c);b=parseFloat(b);var d=1;for(c=Math.round(c);1E5<=c;)c-=1E5,d++;d%=20;c=0;for(b=Math.round(b);1E5<=b;)b-=1E5,c++;c%=8;return this.lettersHelper(this.findSet(a),d,c)},lettersHelper:function(a,
c,b){0===c?c=19:c--;0===b?b=7:b--;switch(a){case 1:return a="ABCDEFGHJKLMNPQRSTUV","ABCDEFGH".charAt(b)+a.charAt(c);case 2:return a="FGHJKLMNPQRSTUVABCDE","JKLMNPQR".charAt(b)+a.charAt(c);case 3:return a="ABCDEFGHJKLMNPQRSTUV","STUVWXYZ".charAt(b)+a.charAt(c);case 4:return a="FGHJKLMNPQRSTUVABCDE","ABCDEFGH".charAt(b)+a.charAt(c);case 5:return a="ABCDEFGHJKLMNPQRSTUV","JKLMNPQR".charAt(b)+a.charAt(c);case 6:return a="FGHJKLMNPQRSTUVABCDE","STUVWXYZ".charAt(b)+a.charAt(c)}},UTMtoLL:function(a,c,b){c=
parseFloat(c)-5E5;a=parseFloat(a);b=parseInt(b,10);a=a/.9996/(e*(1-d/4-3*d*d/64-5*d*d*d/256));a=a+(3*h/2-27*h*h*h/32)*Math.sin(2*a)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*a)+151*h*h*h/96*Math.sin(6*a);var g=e/Math.sqrt(1-d*Math.sin(a)*Math.sin(a)),k=Math.tan(a)*Math.tan(a),l=m*Math.cos(a)*Math.cos(a),f=c/(.9996*g);c=a-g*Math.tan(a)/(e*(1-d)/Math.pow(1-d*Math.sin(a)*Math.sin(a),1.5))*(f*f/2-(5+3*k+10*l-4*l*l-9*m)*f*f*f*f/24+(61+90*k+298*l+45*k*k-252*m-3*l*l)*f*f*f*f*f*f/720);c=180*c/Math.PI;a=(f-(1+
2*k+l)*f*f*f/6+(5-2*l+28*k-3*l*l+8*m+24*k*k)*f*f*f*f*f/120)/Math.cos(a);a=6*(b-1)-180+3+180*a/Math.PI;b={};b.lat=c;b.lon=a;return b},USNGtoUTM:function(a,c,b,d,e,l){b=1+"ABCDEFGHJKLMNPQRSTUVWXYZ".indexOf(b)%8;var f="CDEFGHJKLMNPQRSTUVWX".indexOf(c);d=a%2?"ABCDEFGHJKLMNPQRSTUV".indexOf(d):"FGHJKLMNPQRSTUVABCDE".indexOf(d);d=Number([0,2,2,2,4,4,6,6,8,8,0,0,0,2,2,4,4,6,6,6][f])+d/10;d<[1.1,2,2.9,3.8,4.7,5.6,6.5,7.3,8.2,9.1,0,.8,1.7,2.6,3.5,4.4,5.3,6.2,7,7.9][f]&&(d+=2);f={};f.N=1E6*d+Number(l)*Math.pow(10,
5-l.length);f.E=1E5*b+Number(e)*Math.pow(10,5-e.length);f.zone=a;f.letter=c;return f},USNGtoLL:function(a){a=this.parseUSNG_str(a);var c=this.USNGtoUTM(a.zone,a.ltr,a.sq1,a.sq2,a.east,a.north);"N">a.ltr&&(c.N-=1E7);c=this.UTMtoLL(c.N,c.E,a.zone);return[c.lat,c.lon]},parseUSNG_str:function(a){var c=[];a=a.toUpperCase();c=/%20/g;c=a.replace(c,"");c=/ /g;c=a.replace(c,"");if(7>c.length)return 0;a={};var b=0;a.zone=10*c.charAt(b++)+1*c.charAt(b++);a.ltr=c.charAt(b++);a.sq1=c.charAt(b++);a.sq2=c.charAt(b++);
a.precision=(c.length-b)/2;a.east="";a.north="";for(var d=0;d<a.precision;d++)a.east+=c.charAt(b++);" "===c[b]&&b++;for(d=0;d<a.precision;d++)a.north+=c.charAt(b++);return a},isUSNG:function(a){var c;a=a.toUpperCase();c=/%20/g;a=a.replace(c,"");c=/ /g;a=a.replace(c,"");if(15<a.length)return 0;c=/^[0-9]{2}[CDEFGHJKLMNPQRSTUVWX]$/;if(a.match(c))return 0;c=/^[0-9]{2}[CDEFGHJKLMNPQRSTUVWX][ABCDEFGHJKLMNPQRSTUVWXYZ][ABCDEFGHJKLMNPQRSTUV]([0-9][0-9]){0,5}/;return!a.match(c)||7>a.length?0:a},LLtoMGRS:function(a,
c,b){return this.LLtoUSNG(a,c,b||5).replace(/ /g,"")},USNGtoPoint:function(a){a=this.USNGtoLL(a);return new n(a[1],a[0])},pointToUSNG:function(a,c){var b=a.getLatitude(),d=a.getLongitude();return this.LLtoUSNG(b,d,c)},LLtoUSNG_nad27:function(a,c,b){return this.LLtoUSNG(a,c,b||5)+" (NAD27)"}}})},"widgets/GridOverlay/lib/NonPolarGridZone":function(){define("dojo/_base/declare dojo/json ./constants esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Extent".split(" "),function(n,e,d,m,h,a){return n(null,
{extent:null,id:null,utmZone:null,latitudeZone:null,_rings:[],constructor:function(c){var b=c.id.match(/(\d+)|([A-Za-z]+)/g);this.id=c.id;this.utmZone=1*b[0];this.latitudeZone=b[1];this.extent=new a({xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax,spatialReference:c.spatialReference||{wkid:4326}});c=[this.extent.xmin,this.extent.ymin];this._rings=[[c,[this.extent.xmax,this.extent.ymin],[this.extent.xmax,this.extent.ymax],[this.extent.xmin,this.extent.ymax],c]]},toPolygon:function(a){var b=e.parse(e.stringify(this._rings));
if(a)for(var c=0;c<b[0].length;c++)b[0][c][0]+=a*d.GEOGRAPHIC_360;return new m({rings:b,spatialReference:this.spatialReference})},toPolyline:function(a){var b=e.parse(e.stringify(this._rings));if(a)for(var c=0;c<b[0].length;c++)b[0][c][0]+=a*d.GEOGRAPHIC_360;return new h({paths:b,spatialReference:this.spatialReference})}})})},"widgets/GridOverlay/lib/VisibleGridZone":function(){define(["dojo/_base/declare","./GridPolygon"],function(n,e){return n(null,{polyline:null,polygon:null,offset:null,nonPolarGridZone:null,
map:null,constructor:function(d){this.offset=Math.round(d.offset);this.polyline=d.polyline;this.polygon=d.polygon;this.nonPolarGridZone=d.nonPolarGridZone;this.map=d.map;d={clippedPolygon:this.polygon,unclippedPolygon:this.nonPolarGridZone.toPolygon(d.offset),map:this.map,xmin:this.nonPolarGridZone.extent.xmin,ymin:this.nonPolarGridZone.extent.ymin,xmax:this.nonPolarGridZone.extent.xmax,ymax:this.nonPolarGridZone.extent.ymax,minMaxType:"degrees",utmZone:0,text:this.nonPolarGridZone.id,labelParameters:d.labelParameters};
this.gridPolygon=new e(d)},getLabels:function(){return this.gridPolygon.getLabels(!0)},getCenterLabel:function(){return this.gridPolygon.getCenterLabel()}})})},"widgets/GridOverlay/lib/GridPolygon":function(){define(["dojo/_base/declare","./mgrs","./labeling-utils","./LabelElement","esri/geometry/Point"],function(n,e,d,m,h){return n(null,{clippedPolygon:null,unclippedPolygon:null,map:null,xmin:0,ymin:0,xmax:0,ymax:0,minMaxType:"",utmZone:0,text:"",color:null,labelParameters:null,_centerLabelSet:!1,
_centerLabel:null,_labelsSet:!1,_labels:[],_cornerLabels:[],_borderLabels:[],_interiorLabels:[],candidatePoint:null,constructor:function(a){this.unclippedPolygon=a.unclippedPolygon;this.clippedPolygon=a.clippedPolygon;this.map=a.map;this.xmin=a.xmin;this.ymin=a.ymin;this.xmax=a.xmax;this.ymax=a.ymax;this.minMaxType=a.minMaxType;this.utmZone=Math.round(a.utmZone);this.text=a.text;this.labelParameters=a.labelParameters;this._cornerLabels=[];this._borderLabels=[];this._interiorLabels=[];this._centerLabel=
null;this._labelsSet=this._centerLabelSet=!1},getLabels:function(a){a=a||!1;this._labelsSet||(this._cornerLabels=this.setLabels(a),this._labelsSet=!0);a=0<this._cornerLabels.length?this._cornerLabels:0<this._borderLabels.length?this._borderLabels:this._interiorLabels;for(var c=0;c<a.length;c++)a[c]=a[c].getLabelGraphic();return a},getCenterLabel:function(a){this._centerLabelSet||(this.setCenterLabel(a),this._centerLabelSet=!0);return this._centerLabel.getLabelGraphic()},setCenterLabel:function(a){a=
a?this.clippedPolygon:this.unclippedPolygon;var c={xOffset:0,yOffset:0,rotation:0,color:this.labelParameters.color,fontFamily:this.labelParameters.fontFamily,fontSize:this.labelParameters.fontSize};this._centerLabel=new m({map:this.map,point:a.getCentroid(),labelParameters:c,text:this.text,verticalAlign:"middle",horizontalAlign:"middle"});c=new m({map:this._centerLabel.map,point:this._centerLabel.point,labelParameters:c,text:"utm"===this.minMaxType?"WW":"22W",verticalAlign:"middle",horizontalAlign:"middle"});
c.shrinkToFit(a,12);this._centerLabel.font.setSize(c.font.size);this._centerLabel.setExtent()},setLabels:function(a){a=a||!1;for(var c=this.clippedPolygon.rings,b=d.getScreenSize(this.clippedPolygon.getExtent(),this.map),e={xmin:Math.round(1E3*this.xmin)/1E3,ymin:Math.round(1E3*this.ymin)/1E3,xmax:Math.round(1E3*this.xmax)/1E3,ymax:Math.round(1E3*this.ymax)/1E3,map_xmin:this.map.extent.xmin,map_ymin:this.map.extent.ymin,map_xmax:this.map.extent.xmax,map_ymax:this.map.extent.ymax},k,l,f={"lower-left":{label:null,
priority:99,hidden:!1},"lower-right":{label:null,priority:99,hidden:!1},"upper-left":{label:null,priority:99,hidden:!1},"upper-right":{label:null,priority:99,hidden:!1}},t=0;t<c.length;t++){k=null;for(var n=0;n<c[t].length-1;n++){this.candidatePoint=new h(c[t][n],this.clippedPolygon.spatialReference);l=new h(c[t][n+1],this.clippedPolygon.spatialReference);if(0===n){var q=new h(c[t][c[t].length-2],this.clippedPolygon.spatialReference);k=this._findAngle(q,this.candidatePoint)}l=this._findAngle(this.candidatePoint,
l);if(l!==k&&(q="",0===l&&90===k?q="lower-right":270===l&&180===k?q="lower-right":0===l&&270===k?q="lower-left":90===l&&180===k?q="lower-left":90===l&&0===k?q="upper-left":180===l&&270===k?q="upper-left":180===l&&90===k?q="upper-right":270===l&&0===k&&(q="upper-right"),q)){k=this._findType(this.candidatePoint,e);var y=k.priority,F=new m({map:this.map,point:this.candidatePoint,labelParameters:this.labelParameters,text:this.text,verticalAlign:q.split("-")[0],horizontalAlign:q.split("-")[1]});f[q].priority>
y&&(f[q].label=F,f[q].priority=y,f[q].xOffset=k.xOffset,f[q].yOffset=k.yOffset)}k=l}}c=f["lower-left"];e=f["upper-left"];t=f["lower-right"];f=f["upper-right"];300>b.width&&(c.priority>t.priority&&(c.hidden=!0),t.priority>c.priority&&(t.hidden=!0),e.priority>f.priority&&(e.hidden=!0),f.priority>e.priority&&(f.hidden=!0));200>b.height&&(c.priority>e.priority&&(c.hidden=!0),t.priority>f.priority&&(t.hidden=!0),e.priority>c.priority&&(e.hidden=!0),f.priority>t.priority&&(f.hidden=!0));"utm"===this.minMaxType&&
(c.xOffset&&(c.label.xOffset=70),e.xOffset&&(e.label.xOffset=70),f.xOffset&&(f.label.xOffset=70),t.xOffset&&(t.label.xOffset=70),c.yOffset&&(c.label.yOffset=40),e.yOffset&&(e.label.yOffset=40),f.yOffset&&(f.label.yOffset=40),t.yOffset&&(t.label.yOffset=40));b=[];!c.hidden&&c.label&&b.push(c.label);!e.hidden&&e.label&&b.push(e.label);!f.hidden&&f.label&&b.push(f.label);!t.hidden&&t.label&&b.push(t.label);a=a?this.unclippedPolygon:this.clippedPolygon;for(f=0;f<b.length;f++)(new m({map:this.map,point:b[f].point,
labelParameters:this.labelParameters,text:"utm"===this.minMaxType?"WW":"22W",verticalAlign:b[f].verticalAlign,horizontalAlign:b[f].horizontalAlign})).fitsInPolygon(a)||(b.splice(f,1),f--);return b},_findXY:function(a){var c;c=a.getLongitude();a=a.getLatitude();"utm"===this.minMaxType?(a=e.LLtoUTM(a,c,this.utmZone),c=100*Math.round(a[0]/100),a=100*Math.round(a[1]/100),c%=1E6,a%=1E6):(c=Math.round(1E3*c)/1E3,a=Math.round(1E3*a)/1E3);return{x:c,y:a}},_findAngle:function(a,c){for(var b=-(180*Math.atan2(c.y-
a.y,c.x-a.x)/Math.PI)+90;0>b;)b+=360;for(;360<=b;)b-=360;15>b||345<b?b=0:105>b&&75<b?b=90:195>b&&165<b?b=180:285>b&&255<b&&(b=270);return b},_findType:function(a,c){var b=this._findXY(this.candidatePoint),d=b.x,b=b.y,e=!1,l=!1,f=0;a.x===c.map_xmin||a.x===c.map_xmax?(e=!0,f+=2):d===c.xmin||d===c.xmax?console.warn():f+=1;a.y===c.map_ymin||a.y===c.map_ymax?(l=!0,f+=2):b===c.ymin||b===c.ymax?console.warn():f+=1;return{priority:f,xOffset:e,yOffset:l}}})})},"widgets/GridOverlay/lib/LabelElement":function(){define("dojo/_base/declare ./geometry-utils ./labeling-utils esri/geometry/geometryEngine esri/geometry/screenUtils esri/graphic esri/geometry/Point esri/geometry/Extent esri/symbols/Font esri/symbols/TextSymbol".split(" "),
function(n,e,d,m,h,a,c,b,g,k){return n(null,{map:null,point:null,xOffset:0,yOffset:0,text:"",verticalAlign:"",horizontalAlign:"",rotation:0,color:null,fontFamily:"",fontSize:0,font:null,constructor:function(a){this.map=a.map;this.point=a.point;this.xOffset=a.labelParameters.xOffset||0;this.yOffset=a.labelParameters.yOffset||0;this.text=a.text;this.verticalAlign=a.verticalAlign||"bottom";this.verticalAlign.toLowerCase();this.horizontalAlign=a.horizontalAlign||"middle";this.horizontalAlign.toLowerCase();
this.rotation=a.labelParameters.rotation||0;this.rotation=90*Math.round(this.rotation/90);this.color=a.labelParameters.color;this.font=(new g).setFamily(a.labelParameters.fontFamily||"Arial, Helvetica, sans-serif").setSize(a.labelParameters.fontSize||0).setWeight(g.WEIGHT_BOLD)},getPixelWidth:function(){return 0!==this.rotation%180?this.font.size:d.getWidthOfText(this.text,this.font.family,this.font.size)},getPixelHeight:function(){return 0!==this.rotation%180?d.getWidthOfText(this.text,this.font.family,
this.font.size):this.font.size},decreaseFontSize:function(a){0!==this.font.size&&(this.font.setSize(this.font.size-(a||1)),this.setExtent())},setExtent:function(){var a=this.map,c=a.toScreen(this.point),d=this.getPixelWidth(),g=this.getPixelHeight()/1.3333,k,m,n,w;switch(this.horizontalAlign){case "left":c=c.offset(this.xOffset,0);k=c.x;n=c.x+d;break;case "middle":case "center":k=c.x-d/2;n=c.x+d/2;break;case "right":c=c.offset(-this.xOffset,0),k=c.x-d,n=c.x}switch(this.verticalAlign){case "bottom":case "lower":c=
c.offset(0,-this.yOffset);m=c.y;w=c.y-g;break;case "middle":case "center":m=c.y+g/2;w=c.y-g/2;break;case "upper":case "top":c=c.offset(0,this.yOffset),m=c.y+g,w=c.y}c=new b({xmin:k,ymin:m,xmax:n,ymax:w});this.extent=e.toWebMercator(h.toMapGeometry(a.extent,a.width,a.height,c))},getExtent:function(){this.extent||this.setExtent();return this.extent},fitsInPolygon:function(a){var b=this.getExtent(),b=e.toWebMercator(b);a=e.toWebMercator(a);return m.contains(a,b)},fitsInExtent:function(a){var b=this.getExtent(),
b=e.toWebMercator(b);a=e.toWebMercator(a);return m.contains(a,b)},shrinkToFit:function(a,b){b=b||0;!this.fitsInPolygon(a)&&0<this.font.size&&(this.font.setSize(this.font.size-1),this.font.size<b&&this.font.setSize(0),this.setExtent(),this.shrinkToFit(a,b))},getLabelGraphic:function(){var b=(new k(this.text)).setColor(this.color).setAlign(k.ALIGN_START).setFont(this.font),d=this.getExtent(),e=this.map.toScreen(this.point),d=this.map.toScreen(new c([d.xmin,d.ymin],d.spatialReference));b.setOffset(d.x-
e.x,-(d.y-e.y));return new a(this.point,b)}})})},"widgets/GridOverlay/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/GridOverlay/GridSetting.html":'\x3cdiv style\x3d"width:100%;height:100%;overflow:hidden;" class\x3d"nihilo"\x3e\r\n    \x3cdiv class\x3d\'neo\'\x3e\r\n        \x3ctable class\x3d"settings-section"\x3e\r\n            \x3ctbody\x3e\r\n                \x3ctr\x3e\r\n                    \x3ctd class\x3d\'sectionTitle\' colspan\x3d"2"\x3e${nls.minIntSpacingLabel}\x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr\x3e\r\n                    \x3ctd\x3e\r\n                        \x3cdiv class\x3d\'grid-overlay-setting-slider\' data-dojo-attach-point\x3d"minIntervalSpacing" data-dojo-type\x3d"dijit/form/HorizontalSlider" data-dojo-props\x3d"value:100, minimum: 50, maximum:250, discreteValues:41, intermediateChanges:true, showButtons:false"\x3e\x3c/div\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\r\n                        \x3cdiv class\x3d"grid-overlay-setting-slider-value"\x3e\x3cspan class\x3d\'sliderValue\' data-dojo-attach-point\x3d"minIntervalSpacingVal"\x3epx\x3c/span\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr\x3e\r\n                    \x3ctd class\x3d\'sectionTitle\' colspan\x3d"2"\x3e${nls.lineOpacityLabel}\x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr\x3e\r\n                    \x3ctd\x3e\r\n                        \x3cdiv class\x3d\'grid-overlay-setting-slider\' data-dojo-attach-point\x3d"lineOpacity" data-dojo-type\x3d"dijit/form/HorizontalSlider" data-dojo-props\x3d"value:100, minimum: 0.05, maximum:1, discreteValues:20, intermediateChanges:true, showButtons:false"\x3e\x3c/div\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\r\n                        \x3cdiv class\x3d"grid-overlay-setting-slider-value"\x3e\x3cspan class\x3d\'sliderValue\' data-dojo-attach-point\x3d"lineOpacityVal"\x3e%\x3c/span\x3e\x3c/div\x3e\r\n                    \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr\x3e\r\n                    \x3ctd class\x3d\'sectionTitle\'\x3e${nls.labelOpacityLabel}\x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr\x3e\r\n                    \x3ctd\x3e\r\n                        \x3cdiv class\x3d\'grid-overlay-setting-slider\' data-dojo-attach-point\x3d"labelOpacity" data-dojo-type\x3d"dijit/form/HorizontalSlider" data-dojo-props\x3d"value:100, minimum: 0.05, maximum:1, discreteValues:20, intermediateChanges:true, showButtons:false"\x3e\x3c/div\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\x3cdiv class\x3d"grid-overlay-setting-slider-value"\x3e\x3cspan class\x3d\'sliderValue\' data-dojo-attach-point\x3d"labelOpacityVal"\x3e%\x3c/span\x3e\x3c/div\x3e\x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr\x3e\r\n                    \x3ctd class\x3d\'sectionTitle\'\x3e${nls.verticalLineLabels}\x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr\x3e\r\n                    \x3ctd class\x3d\'verticalLineSection\'\x3e\r\n                        \x3cdiv class\x3d\'image-labels horizontalLabel\' title\x3d\'${nls.horizontalLabel}\' data-dojo-attach-point\x3d"horizontalLabels"\x3e\x3c/div\x3e\r\n                        \x3cdiv class\x3d\'image-labels verticalLabel\' title\x3d\'${nls.verticalLabel}\' data-dojo-attach-point\x3d"verticalLabels"\x3e\x3c/div\x3e\r\n                    \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr data-dojo-attach-point\x3d"trShowGrid"\x3e\r\n                    \x3ctd\x3e\r\n                        \x3cdiv class\x3d"table-options jimu-ellipsis"\x3e\r\n                            \x3cul\x3e\r\n                                \x3cli\x3e\r\n                                    \x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" checked data-dojo-attach-point\x3d"cbxShowGrid" label\x3d"${nls.checkBoxLabel}"\x3e\x3c/div\x3e\r\n                                \x3c/li\x3e\r\n                            \x3c/ul\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n            \x3c/tbody\x3e\r\n        \x3c/table\x3e\r\n        \x3cdiv class\x3d"grid-overlay-setting-style"\x3e\r\n            \x3cdiv class\x3d\'sectionTitle\'\x3e${nls.styleHeaderLabel}\x3c/div\x3e\r\n            \x3ctable\x3e\r\n                \x3cthead\x3e\r\n                    \x3ctr\x3e\r\n                        \x3cth\x3e${nls.indexHeaderLabel}\x3c/th\x3e\r\n                        \x3cth\x3e${nls.colorHeaderLabel}\x3c/th\x3e\r\n                        \x3cth\x3e${nls.fontSizeHeaderLabel}\x3c/th\x3e\r\n                        \x3cth\x3e${nls.lineWidthHeaderLabel}\x3c/th\x3e\r\n                    \x3c/tr\x3e\r\n                \x3c/thead\x3e\r\n                \x3ctbody\x3e\r\n                    \x3ctr\x3e\r\n                        \x3ctd\x3e0\x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv data-dojo-attach-point\x3d"colorPicker0" class\x3d"grid-overlay-setting-color-picker" data-dojo-type\x3d"jimu/dijit/ColorPicker"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"fontSize0" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:5,max:72}, value:15"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"lineSize0" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:1,max:10}, value:2"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                    \x3ctr\x3e\r\n                        \x3ctd\x3e1\x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv data-dojo-attach-point\x3d"colorPicker1" class\x3d"grid-overlay-setting-color-picker" data-dojo-type\x3d"jimu/dijit/ColorPicker"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"fontSize1" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:5,max:72}, value:15"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"lineSize1" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:1,max:10}, value:2"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                    \x3ctr\x3e\r\n                        \x3ctd\x3e2\x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv data-dojo-attach-point\x3d"colorPicker2" class\x3d"grid-overlay-setting-color-picker" data-dojo-type\x3d"jimu/dijit/ColorPicker"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"fontSize2" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:5,max:72}, value:15"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"lineSize2" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:1,max:10}, value:2"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                    \x3ctr\x3e\r\n                        \x3ctd\x3e3\x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv data-dojo-attach-point\x3d"colorPicker3" class\x3d"grid-overlay-setting-color-picker" data-dojo-type\x3d"jimu/dijit/ColorPicker"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"fontSize3" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:5,max:72}, value:15"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"lineSize3" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:1,max:10}, value:2"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                    \x3ctr\x3e\r\n                        \x3ctd\x3e4\x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv data-dojo-attach-point\x3d"colorPicker4" class\x3d"grid-overlay-setting-color-picker" data-dojo-type\x3d"jimu/dijit/ColorPicker"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"fontSize4" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:5,max:72}, value:15"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"lineSize4" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:1,max:10}, value:2"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                    \x3ctr\x3e\r\n                        \x3ctd\x3e5\x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv data-dojo-attach-point\x3d"colorPicker5" class\x3d"grid-overlay-setting-color-picker" data-dojo-type\x3d"jimu/dijit/ColorPicker"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"fontSize5" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:5,max:72}, value:15"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                        \x3ctd\x3e\r\n                            \x3cdiv class\x3d"font-size" data-dojo-attach-point\x3d"lineSize5" data-dojo-type\x3d"dijit/form/NumberSpinner"\r\n                            data-dojo-props\x3d"intermediateChanges:true, constraints:{min:1,max:10}, value:2"\x3e\x3c/div\x3e\r\n                        \x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/GridOverlay/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"gridOverlayNode" /\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"btnContainer"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"resetButton" class\x3d\'jimu-btn\' /\x3e\r\n  \x3c/div\x3e  \r\n\x3c/div\x3e',"url:widgets/GridOverlay/css/style.css":'.grid-overlay-setting .grid-overlay-setting-style table {color: #333333; width: 300px; border-collapse: collapse;}.grid-overlay-setting .grid-overlay-setting-style th {font-size: 13.5px; text-align: center; color: #000000;}.grid-overlay-setting .grid-overlay-setting-style tr {background-color: #ffffff;}.grid-overlay-setting .grid-overlay-setting-style td {padding: 8px;}.grid-overlay-setting .settings-section {padding-bottom: 0px;}.grid-overlay-setting .settings-section tr {vertical-align: middle;}.grid-overlay-setting .settings-section \x3e tbody \x3e tr \x3e td:first-child {width: 200px; padding-bottom: 10px;}.grid-overlay-setting .settings-section \x3e tbody \x3e tr:nth-child(2n) {padding-left: 5px; font-size: 12px; letter-spacing: 0.33px;}.grid-overlay-setting .settings-section \x3e tbody \x3e tr:nth-child(2n+1) {width: 100px; font-size: 14px; letter-spacing: 0.39px;}.grid-overlay-setting .font-size, .line-size {width: 70px; font-style: normal;}.grid-overlay-setting .grid-overlay-setting-color-picker {width: 70px;}.grid-overlay-setting .grid-overlay-setting-color-picker-text {text-align: center; position: relative; top: 50%; transform: translateY(-50%); font-size: 14px;}.grid-overlay-setting .grid-overlay-setting-interval-width {border-color: #000; border-style: hidden solid solid solid; border-width: 1px; height: 10px; margin: auto;}.grid-overlay-setting .grid-overlay-setting-style-map {width: 500px; height: 100%; float: left;}.grid-overlay-setting .grid-overlay-setting-slider {width: 200px;}.grid-overlay-setting .grid-overlay-setting-slider-value {width: 50px;}.grid-overlay-setting .neo {float: left; height: 100%; width: 440px; overflow-y: hidden; margin-right: 5px;}.grid-overlay-setting .sectionTitle {color: #353535; letter-spacing: 0.39px; padding-bottom: 7px;}.grid-overlay-setting .sliderValue {font-size: 14px; color: #353535; letter-spacing: 0.39px;}.grid-overlay-setting .gridPlacementSection {width: 80%; margin: auto; display: inline-flex;}.grid-overlay-setting .verticalLineSection {width: 80%; margin: auto; display: inline-flex;}.grid-overlay-setting .image-labels {background-repeat: no-repeat; background-color: transparent; width: 24px; height: 24px; margin-right: 10px; border: 1px solid #CCCCCC;}.grid-overlay-setting .horizontalLabel {background: url("../images/Horizontal.png");}.grid-overlay-setting .horizontalLabelClicked {background: url("../images/Horizontal_selected.png"); border: 1px solid #008B9C;}.grid-overlay-setting .horizontalLabel:hover {background: url("../images/Horizontal_selected.png"); border: 1px solid #008B9C; cursor: pointer;}.grid-overlay-setting .verticalLabel {background: url("../images/Vertical.png");}.grid-overlay-setting .verticalLabelClicked {background: url("../images/Vertical_selected.png"); border: 1px solid #008B9C;}.grid-overlay-setting .verticalLabel:hover {background: url("../images/Vertical_selected.png"); border: 1px solid #008B9C; cursor: pointer;}.grid-overlay-setting .upperLeftLabel {background: url("../images/Upper_Left.png");}.grid-overlay-setting .upperLeftLabelClicked, .upperLeftLabel:hover {background: url("../images/Upper_Left_selected.png"); border: 1px solid #008B9C; cursor: pointer;}.grid-overlay-setting .upperRightLabel {background: url("../images/Upper_Right.png");}.grid-overlay-setting .upperRightLabelClicked, .upperRightLabel:hover {background: url("../images/Upper_Right_selected.png"); border: 1px solid #008B9C; cursor: pointer;}.grid-overlay-setting .lowerLeftLabel {background: url("../images/Lower_Left.png");}.grid-overlay-setting .lowerLeftLabelClicked, .lowerLeftLabel:hover {background: url("../images/Lower_Left_selected.png"); border: 1px solid #008B9C; cursor: pointer;}.grid-overlay-setting .lowerRightLabel {background: url("../images/Lower_Right.png");}.grid-overlay-setting .lowerRightLabelClicked, .lowerRightLabel:hover {background: url("../images/Lower_Right_selected.png"); border: 1px solid #008B9C; cursor: pointer;}.grid-overlay-setting .centerLabel {background: url("../images/Center.png");}.grid-overlay-setting .centerLabelClicked, .centerLabel:hover {background: url("../images/Center_selected.png"); border: 1px solid #008B9C; cursor: pointer;}.grid-overlay-setting .table-options ul{list-style-type: none; padding: 0;}.grid-overlay-setting .jimu-checkbox{margin-right: 20px; width: 100%;}.grid-overlay-widget {position: relative;}.grid-overlay-widget .btnContainer {text-align: center; margin-top: 6px; padding-right: 10px;}',
"*now":function(n){n(['dojo/i18n!*preload*widgets/GridOverlay/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on jimu/BaseWidget jimu/utils ./GridSetting".split(" "),function(n,e,d,m,h,a,c){return n([h],{baseClass:"grid-overlay-widget",name:"GridOverlayWidget",postCreate:function(){this.inherited(arguments);this.gridSetting=new c({map:this.map,config:this.config});d.place(this.gridSetting.domNode,this.gridOverlayNode);this.gridSetting.showCheckbox("DashboardTheme"!==this.appConfig.theme.name);this.gridSetting.startup();this.resetButton.title=
window.jimuNls.common.reset;this.resetButton.innerText=window.jimuNls.common.reset;this.own(m(this.resetButton,"click",e.hitch(this,function(){this.gridSetting.setConfig(this.config)})))},destroy:function(){this.inherited(arguments);this.gridSetting.gridOverlayCtrl.disable()},startup:function(){this.inherited(arguments);this._setTheme()},onOpen:function(){this.gridSetting.gridOverlayCtrl.enable();this.gridSetting.setConfig()},onClose:function(){this.gridSetting._saveConfig();this.gridSetting.getConfig().enableGridOnClose||
this.gridSetting.gridOverlayCtrl.disable()},_removeStyleFile:function(a,c){for(var b=null,b="js"===c?"src":"css"===c?"href":"none",d=document.getElementsByTagName("js"===c?"script":"css"===c?"link":"none"),e=d.length;0<=e;e--)d[e]&&null!==d[e].getAttribute(b)&&-1!==d[e].getAttribute(b).indexOf(a)&&d[e].parentNode.removeChild(d[e])},_setTheme:function(){"DartTheme"===this.appConfig.theme.name?a.loadStyleLink("darkOverrideCSS",this.folderUrl+"css/dartTheme.css",null):this._removeStyleFile(this.folderUrl+
"css/dartTheme.css","css")}})});