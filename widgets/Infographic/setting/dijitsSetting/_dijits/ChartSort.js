// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/Infographic/setting/dijitsSetting/_dijits/ChartSort.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"otherSortContainer" class\x3d"radio-div"\x3e\r\n\t\t\r\n\t\t\x3cdiv class\x3d"axis-tr"\x3e\r\n\t\t\t\x3cdiv class\x3d"flex-left-center"\x3e\r\n\t\t\t\t\x3cinput type\x3d"radio" data-dojo-attach-point\x3d"xAxisRadio" data-dojo-attach-event\x3d"change:_onSortAxisChange" checked\x3d"true" name\x3d"sortaxis" data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n\t   \t\t\t\x3clabel class\x3d"marginleft10"\x3e${nls.labelAxis}\x3c/label\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"xAxisSortDiv"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv style\x3d"margin-top: 10px;" class\x3d"axis-tr"\x3e\r\n\t\t\t\x3cdiv class\x3d"flex-left-center"\x3e\r\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"yAxisRadio" type\x3d"radio" name\x3d"sortaxis" data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n   \t\t\t\t\x3clabel class\x3d"marginleft10"\x3e${nls.valueAxis}\x3c/label\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"yAxisSortDiv" class\x3d"flex-left-center"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"sortFieldDiv" style\x3d"margin-top: 14px;display: none;"\x3e\r\n\t\t\t\x3cselect data-dojo-attach-point\x3d"otherSortField" data-dojo-type\x3d"dijit/form/Select" class\x3d"restrict-select-width sort-filed"\x3e\x3c/select\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t \r\n\t\x3c/div\x3e\r\n\r\n\t\x3cdiv style\x3d"display: flex;" data-dojo-attach-point\x3d"featureSortContainer" class\x3d"feature-sort"\x3e\r\n\r\n\t    \x3cdiv class\x3d"select-div"\x3e\r\n        \t\x3cselect data-dojo-attach-point\x3d"featureSortField" data-dojo-type\x3d"dijit/form/Select" class\x3d"restrict-select-width sort-filed"\x3e\x3c/select\x3e\r\n        \x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"sort-div flex-left-center" data-dojo-attach-point\x3d"zAxisSortDiv"\x3e\r\n\t\t\t\x3cdiv style\x3d"width: 39px;" class\x3d"flex-sb-center" data-dojo-attach-event\x3d"onClick:_onAxisSortDivClick" data-dojo-attach-point\x3d"sortBtn"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"sort-icon asc selected"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"sort-icon desc"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\x3c/div\x3e\r\n\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/query dojo/on dojo/_base/lang dojo/_base/html dojo/text!./ChartSort.html dojo/Evented dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/RadioButton".split(" "),function(g,c,e,f,b,h,k,l,m,n){return g([l,m,n,k],{baseClass:"infographic-chart-sort",templateString:h,postCreate:function(){this.inherited(arguments);b.addClass(this.domNode,this.baseClass);this._initDom();this.own(e(this.otherSortField,"change",f.hitch(this,this._onUpdate)));this.own(e(this.featureSortField,
"change",f.hitch(this,this._onUpdate)));this._hasLoaded=!0;this.resetUI(this.config)},_initDom:function(){b.place(this.sortBtn,this.xAxisSortDiv)},_hideSortField:function(){b.setStyle(this.sortFieldDiv,"display","none")},_showSortField:function(){b.setStyle(this.sortFieldDiv,"display","")},clear:function(){this._allowShowSortField=!0;this._hideSortField();this.xAxisRadio.setChecked(!0);this._selectAscBtn();this._updateOptions(this.featureSortField,[]);this._updateOptions(this.otherSortField,[])},
switchMode:function(a,d){this._mode=a;b.setStyle(this.featureSortContainer,"display","flex");b.setStyle(this.otherSortContainer,"display","flex");"feature"===a?(b.place(this.sortBtn,this.zAxisSortDiv),b.setStyle(this.otherSortContainer,"display","none")):(this.xAxisRadio.checked?b.place(this.sortBtn,this.xAxisSortDiv):b.place(this.sortBtn,this.yAxisSortDiv),b.setStyle(this.featureSortContainer,"display","none"),this._handleSortFieldOfOtherMode(a,d))},_handleSortFieldOfOtherMode:function(a,b){"pie"===
b||"count"===a||"field"===a?(this._allowShowSortField=!1,this._hideSortField()):"category"===a&&(this._allowShowSortField=!0,this.yAxisRadio.checked&&this._showSortField())},resetUI:function(a){a&&(a.isAsc?this._selectAscBtn():this._selectDescBtn(),"undefined"!==typeof a.isLabelAxis?(this.xAxisRadio.setChecked(a.isLabelAxis),this.yAxisRadio.setChecked(!a.isLabelAxis),a.field&&this.otherSortField.set("value",a.field)):a.field&&this.featureSortField.set("value",a.field))},getSelectedField:function(a){return"feature"===
a?this.featureSortField.get("value"):this.otherSortField.get("value")},getConfig:function(){var a={};"feature"===this._mode?a.field=this.featureSortField.get("value"):(a.isLabelAxis=this.xAxisRadio.checked,!this.xAxisRadio.checked&&this._allowShowSortField&&(a.field=this.otherSortField.get("value")));a.isAsc=this._getSelectedSort();return a},_onUpdate:function(){this._hasLoaded&&this.emit("change")},setFields:function(a,b){if(Array.isArray(a))return this._updateOptions(this.otherSortField,a,b),this._updateOptions(this.featureSortField,
a,b),!0;console.log("Chart sort waring: Not vaild fieldOptions")},_onSortAxisChange:function(a){a?(this._hideSortField(),b.place(this.sortBtn,this.xAxisSortDiv)):(this._allowShowSortField&&this._showSortField(),b.place(this.sortBtn,this.yAxisSortDiv));this._onUpdate()},_onAxisSortDivClick:function(a){a.stopPropagation();a=a.target;b.hasClass(a,"asc")?this._selectAscBtn():b.hasClass(a,"desc")&&this._selectDescBtn();this._onUpdate()},_selectAscBtn:function(){var a=c(".asc",this.sortBtn)[0],d=c(".desc",
this.sortBtn)[0];b.removeClass(d,"selected");b.addClass(a,"selected")},_selectDescBtn:function(){var a=c(".asc",this.sortBtn)[0],d=c(".desc",this.sortBtn)[0];b.addClass(d,"selected");b.removeClass(a,"selected")},_getSelectedSort:function(){var a=c(".asc",this.sortBtn)[0];return b.hasClass(a,"selected")},_updateOptions:function(a,b,c){b?(a.removeOption(a.getOptions()),a.addOption(b)):b=[];!c&&0<b.length&&(c=b[0].value);c&&a.set("value",c)}})});