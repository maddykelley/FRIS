// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/SuitabilityModeler/WroContext":function(){define(["dojo/_base/declare","./wro/Context","jimu/dijit/Message"],function(a,g,e){return a([g],{showError:function(a,c){c&&c.message?this.showMessage(a,c.message):this.showMessage(a,c)},showMessage:function(a,c){new e({titleLabel:a,message:c})},showMessages:function(a,c,g){var h,p,v;h=document.createElement("div");"string"===typeof c&&0<c.length&&(p=document.createElement("p"),p.appendChild(document.createTextNode(c)),h.appendChild(p));
p=document.createElement("ul");h.appendChild(p);for(c=0;c<g.length;c++)v=document.createElement("li"),v.appendChild(document.createTextNode(g[c])),p.appendChild(v);new e({titleLabel:a,message:h})}})})},"widgets/SuitabilityModeler/wro/Context":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(a,g){return a([],{allowSaveAs:!0,i18n:null,constructor:function(a){g.mixin(this,a)},checkMixedContent:function(a){"string"===typeof window.location.href&&0===window.location.href.indexOf("https://")&&
"string"===typeof a&&0===a.indexOf("http://")&&(a="https:"+a.substring("5"));return a},generateRandomId:function(){var a=null,a="function"===typeof Date.now?Date.now():(new Date).getTime(),h=(""+Math.random()).replace("0.","r");return(a+""+h).replace(/-/g,"")},getMap:function(){return null},showError:function(a,h){console.warn("wro/Context.showError",a,h)},showMessage:function(a,h){console.warn("wro/Context.showMessage",a,h)},showMessages:function(a,h,c){console.warn("wro/Context.showMessages",a,
h,c)}})})},"widgets/SuitabilityModeler/wro/PortalUtil":function(){define(["dojo/_base/declare","dojo/_base/lang","esri/request"],function(a,g,e){return a([],{portal:!0,portalUser:null,userContentUrl:null,constructor:function(a){g.mixin(this,a)},getItemUrl:function(a){return this.portal.portalUrl+"/sharing/rest/content/items/"+encodeURIComponent(a)},getSaveItemUrl:function(a,c,e){e=this.getUserContentUrl(e);a?(c&&(e+="/"+encodeURIComponent(c)),e+="/items/"+encodeURIComponent(a)+"/update"):(c&&(e+=
"/"+encodeURIComponent(c)),e+="/addItem");return e},getUserContentUrl:function(){return this.userContentUrl},makeMultiPartFormData:function(a){var c,e,h=new FormData;for(c in a)a.hasOwnProperty(c)&&(e=a[c],"snippet"!==c&&"description"!==c&&"text"!==c||null!==e||(e=""),h.append(c,e));return h},saveItem:function(a,c,g,m){a=this.getSaveItemUrl(a,g,m);c.f="json";c=this.makeMultiPartFormData(c);return e({url:a,form:c,handleAs:"json"},{usePost:!0})},readItem:function(a){a=this.getItemUrl(a);return e({url:a,
content:{f:"json"},handleAs:"json"},{})},readItemJsonData:function(a){a=this.getItemUrl(a)+"/data";return e({url:a,content:{f:"json"},handleAs:"json"},{})}})})},"widgets/SuitabilityModeler/wro/WeightedOverlayWidget":function(){define("dojo/text!./templates/WeightedOverlayWidget.html dojo/_base/declare dojo/_base/array dojo/dom-class dojo/dom-attr dojo/Deferred dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./config ./WeightedOverlayService ./WeightedOverlayLayersSelector ./WeightedOverlayModelDesigner".split(" "),
function(a,g,e,h,c,p,m,r,v,u,z,y,A){var l=function(a,f){a&&(f?(a.setAttribute("disabled","disabled"),h.add(a,"jimu-state-disabled")):(a.removeAttribute("disabled"),h.remove(a,"jimu-state-disabled")))};return g([m,r,v],{context:null,i18n:null,templateString:a,baseClass:"weighted-overlay-widget",widgetsInTemplate:!0,isRTL:!1,postCreate:function(){this.inherited(arguments);var a=this,f=u.getOptions(this.i18n);this.isRTL="ltr"===document.dir?!1:!0;this.weightedOverlayService=new z(null,f);this.weightedOverlayService.context=
this.context;this.weightedOverlayService.i18n=this.i18n;this.selectLayersView=new y({context:this.context,i18n:this.i18n,parent:this},this.selectLayersView);this.designModelView=new A({context:this.context,i18n:this.i18n,parent:this},this.designModelView);this.own(this.selectLayersView.on("selection-changed",function(){a._updateDesignModelButton(a.weightedOverlayModel)}),this.designModelView.on("model-validated",function(b){b?(l(a.runModelButton,!1),l(a.saveAsButton,!1)):(l(a.runModelButton,!0),l(a.saveAsButton,
!0))}));this.context.allowSaveAs||(this.saveAsButton.style.display="none");this.setupConnections()},onClose:function(){this.selectLayersView&&this.selectLayersView.hidePreviewLayer()},_setImageServiceLayerAttr:function(a){var b=this;this.imageServiceLayer=a;this.weightedOverlayService.imageServiceLayer=this.imageServiceLayer;this._initModel();this.imageServiceLayer&&this.imageServiceLayer.url&&this.weightedOverlayService.initRasterLayers().then(function(){b._rasterLayersInitialized()})},_rasterLayersInitialized:function(){e.forEach(this.weightedOverlayModel.overlayLayers,
function(a){var b=this.weightedOverlayService.getRasterLayer(a.id);this.weightedOverlayService.setOverlayLayerDefaults(a,b)},this);this.selectLayersView.set("model",this.weightedOverlayModel);this.selectLayersView.set("weightedOverlayService",this.weightedOverlayService);this.selectLayersView.startup();this.designModelView.set("weightedOverlayService",this.weightedOverlayService);this.designModelView.set("model",this.weightedOverlayModel);this.designModelView.startup();this.weightedOverlayModel.overlayLayers&&
0<this.weightedOverlayModel.overlayLayers.length?this.showDesignModelView():this.showSelectOverlayLayersView()},_initModel:function(){this.weightedOverlayModel=this.imageServiceLayer&&this.imageServiceLayer.renderingRule?this.weightedOverlayService.imageServiceLayerToModel({renderingRule:this.imageServiceLayer.renderingRule.toJson()}):this.weightedOverlayService.createNewModel()},setupConnections:function(){var a=this;this.own(this.designModelView.on("model-clear",function(b){a.set("weightedOverlayModel",
b);a.selectLayersView.set("model",b)}));this.own(this.designModelView.on("model-validated",function(b){b?(c.remove(a.runModelButton,"disabled"),c.remove(a.saveAsButton,"disabled")):(c.set(a.runModelButton,"disabled","disabled"),c.set(a.saveAsButton,"disabled","disabled"))}))},showHideTransparencySlider:function(){if(this.selectLayersView&&this.selectLayersView.previewSlider){var a=this.transparentSliderToggle.getElementsByTagName("SPAN")[0];a&&(this.isTransparencySliderShow?(h.remove(this.selectLayersViewNode,
"transparency-slider-show"),h.replace(a,"esri-icon-down","esri-icon-up")):(h.add(this.selectLayersViewNode,"transparency-slider-show"),h.replace(a,"esri-icon-up","esri-icon-down")),this.isTransparencySliderShow=!this.isTransparencySliderShow)}},showSelectOverlayLayersView:function(a){a&&a.preventDefault();a=this.isRTL?"right":"left";this.selectLayersView.set("model",this.weightedOverlayModel);this.designModelViewNode.style[a]="100%";this.selectLayersViewNode.style[a]="0%";this._updateDesignModelButton(this.weightedOverlayModel)},
showDesignModelView:function(){var a=this.isRTL?"right":"left";this.selectLayersView.hidePreviewLayer();this.designModelView.set("model",this.weightedOverlayModel);this.designModelViewNode.style[a]="0%";this.selectLayersViewNode.style[a]="-100%"},showSavePanel:function(){var a=this.savePanelNode;a.style.display="block";h.add(a,"show-panel-animated");setTimeout(function(){h.remove(a,"show-panel-animated")},400)},hideSavePanel:function(){var a=this.savePanelNode,f=new p;setTimeout(function(){a.style.display=
"none";h.remove(a,"hide-panel-animated");f.resolve(!0)},400);h.add(a,"hide-panel-animated");return f},_onClearClick:function(a){this.clear();this.showSelectOverlayLayersView(a)},_onRunClick:function(){this.imageServiceLayer&&this.imageServiceLayer.xtnModeler&&(this.imageServiceLayer.xtnModeler.forSaveAs=!1);this.designModelView&&this.designModelView.runModel()},_onSaveAsClick:function(){this.imageServiceLayer&&this.imageServiceLayer.xtnModeler&&(this.imageServiceLayer.xtnModeler.forSaveAs=!0);this.designModelView&&
this.designModelView.runModel({saveAs:!0})},clear:function(){this.designModelView&&this.designModelView.weightedOverlayService&&(this._resetRemapRangeValues(),this.designModelView.clearModel())},_resetRemapRangeValues:function(){this.weightedOverlayService&&e.forEach(this.weightedOverlayService.rasterLayers,function(a){e.forEach(a.remapRanges,function(a){var b,d;try{d=a.originalOutputValue,b=typeof d,"undefined"!==b&&null!==d&&"number"===b&&!isNaN(d)&&isFinite(d)&&(a.outputValue=d)}catch(t){}})},
this)},_updateDesignModelButton:function(a){a&&a.overlayLayers&&a.overlayLayers.length?l(this.designModelButton,!1):l(this.designModelButton,!0)}})})},"widgets/SuitabilityModeler/wro/config":function(){define([],function(){return{getOptions:function(a){return{rasterFunctionName:"WeightedOverlay_7_1_9_colormap",histogramRasterFunctionName:"WeightedOverlay_7_0_9_histogram",rastersInFunction:15,colorMapArgName:"Colormap",colormapDefinitions:[{name:"1_9_green_yellow_red",label:a.wro.colorRampLabel["Green Yellow Red"],
colors:[{label:a.util.colorRamp["1"],value:1,rgb:[38,115,0]},{label:a.util.colorRamp["2"],value:2,rgb:[86,148,0]},{label:a.util.colorRamp["3"],value:3,rgb:[39,181,0]},{label:a.util.colorRamp["4"],value:4,rgb:[197,219,0]},{label:a.util.colorRamp["5"],value:5,rgb:[255,255,0]},{label:a.util.colorRamp["6"],value:6,rgb:[255,195,0]},{label:a.util.colorRamp["7"],value:7,rgb:[250,142,0]},{label:a.util.colorRamp["8"],value:8,rgb:[242,85,0]},{label:a.util.colorRamp["9"],value:9,rgb:[230,0,0]}]},{name:"1_9_red_yellow_green",
label:a.wro.colorRampLabel["Red Yellow Green"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[230,0,0]},{label:a.util.colorRamp["2"],value:2,rgb:[242,85,0]},{label:a.util.colorRamp["3"],value:3,rgb:[250,142,0]},{label:a.util.colorRamp["4"],value:4,rgb:[255,195,0]},{label:a.util.colorRamp["5"],value:5,rgb:[255,255,0]},{label:a.util.colorRamp["6"],value:6,rgb:[197,219,0]},{label:a.util.colorRamp["7"],value:7,rgb:[39,181,0]},{label:a.util.colorRamp["8"],value:8,rgb:[86,148,0]},{label:a.util.colorRamp["9"],
value:9,rgb:[38,115,0]}]},{name:"1_9_yellow_to_dark_red",label:a.wro.colorRampLabel["Yellow to Dark Red"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,255,128]},{label:a.util.colorRamp["2"],value:2,rgb:[252,233,106]},{label:a.util.colorRamp["3"],value:3,rgb:[250,209,85]},{label:a.util.colorRamp["4"],value:4,rgb:[247,190,67]},{label:a.util.colorRamp["5"],value:5,rgb:[242,167,46]},{label:a.util.colorRamp["6"],value:6,rgb:[207,122,31]},{label:a.util.colorRamp["7"],value:7,rgb:[173,83,19]},{label:a.util.colorRamp["8"],
value:8,rgb:[138,46,10]},{label:a.util.colorRamp["9"],value:9,rgb:[107,0,0]}]},{name:"1_9_dark_red_to_yellow",label:a.wro.colorRampLabel["Dark Red to Yellow"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[107,0,0]},{label:a.util.colorRamp["2"],value:2,rgb:[138,46,10]},{label:a.util.colorRamp["3"],value:3,rgb:[173,83,19]},{label:a.util.colorRamp["4"],value:4,rgb:[207,122,31]},{label:a.util.colorRamp["5"],value:5,rgb:[242,167,46]},{label:a.util.colorRamp["6"],value:6,rgb:[247,190,67]},{label:a.util.colorRamp["7"],
value:7,rgb:[250,209,85]},{label:a.util.colorRamp["8"],value:8,rgb:[252,233,106]},{label:a.util.colorRamp["9"],value:9,rgb:[255,255,128]}]},{name:"1_9_light_gray_to_dark_gray",label:a.wro.colorRampLabel["Light Gray to Dark Gray"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[219,219,219]},{label:a.util.colorRamp["2"],value:2,rgb:[196,196,196]},{label:a.util.colorRamp["3"],value:3,rgb:[176,176,176]},{label:a.util.colorRamp["4"],value:4,rgb:[156,156,156]},{label:a.util.colorRamp["5"],value:5,rgb:[135,
135,135]},{label:a.util.colorRamp["6"],value:6,rgb:[117,117,117]},{label:a.util.colorRamp["7"],value:7,rgb:[99,99,99]},{label:a.util.colorRamp["8"],value:8,rgb:[84,84,84]},{label:a.util.colorRamp["9"],value:9,rgb:[69,69,69]}]},{name:"1_9_dark_gray_to_light_gray",label:a.wro.colorRampLabel["Dark Gray to Light Gray"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[69,69,69]},{label:a.util.colorRamp["2"],value:2,rgb:[84,84,84]},{label:a.util.colorRamp["3"],value:3,rgb:[99,99,99]},{label:a.util.colorRamp["4"],
value:4,rgb:[117,117,117]},{label:a.util.colorRamp["5"],value:5,rgb:[135,135,135]},{label:a.util.colorRamp["6"],value:6,rgb:[156,156,156]},{label:a.util.colorRamp["7"],value:7,rgb:[176,176,176]},{label:a.util.colorRamp["8"],value:8,rgb:[196,196,196]},{label:a.util.colorRamp["9"],value:9,rgb:[219,219,219]}]},{name:"1_9_light_brown_to_dark_brown",label:a.wro.colorRampLabel["Light Brown to Dark Brown"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[250,233,212]},{label:a.util.colorRamp["2"],value:2,
rgb:[242,208,184]},{label:a.util.colorRamp["3"],value:3,rgb:[235,187,160]},{label:a.util.colorRamp["4"],value:4,rgb:[224,163,135]},{label:a.util.colorRamp["5"],value:5,rgb:[217,144,113]},{label:a.util.colorRamp["6"],value:6,rgb:[207,124,91]},{label:a.util.colorRamp["7"],value:7,rgb:[194,103,70]},{label:a.util.colorRamp["8"],value:8,rgb:[184,84,53]},{label:a.util.colorRamp["9"],value:9,rgb:[171,65,36]}]},{name:"1_9_dark_brown_to_light_brown",label:a.wro.colorRampLabel["Dark Brown to Light Brown"],
colors:[{label:a.util.colorRamp["1"],value:1,rgb:[171,65,36]},{label:a.util.colorRamp["2"],value:2,rgb:[184,84,53]},{label:a.util.colorRamp["3"],value:3,rgb:[194,103,70]},{label:a.util.colorRamp["4"],value:4,rgb:[207,124,91]},{label:a.util.colorRamp["5"],value:5,rgb:[217,144,113]},{label:a.util.colorRamp["6"],value:6,rgb:[224,163,135]},{label:a.util.colorRamp["7"],value:7,rgb:[235,187,160]},{label:a.util.colorRamp["8"],value:8,rgb:[242,208,184]},{label:a.util.colorRamp["9"],value:9,rgb:[250,233,212]}]},
{name:"1_9_full_spectrum_bright_red_to_blue",label:a.wro.colorRampLabel["Full Spectrum - Bright Red to Blue"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,0,0]},{label:a.util.colorRamp["2"],value:2,rgb:[255,119,0]},{label:a.util.colorRamp["3"],value:3,rgb:[255,200,0]},{label:a.util.colorRamp["4"],value:4,rgb:[238,255,56]},{label:a.util.colorRamp["5"],value:5,rgb:[182,255,143]},{label:a.util.colorRamp["6"],value:6,rgb:[89,255,225]},{label:a.util.colorRamp["7"],value:7,rgb:[51,194,255]},{label:a.util.colorRamp["8"],
value:8,rgb:[56,106,255]},{label:a.util.colorRamp["9"],value:9,rgb:[0,0,255]}]},{name:"1_9_full_spectrum_bright_blue_to_red",label:a.wro.colorRampLabel["Full Spectrum - Bright Blue to Red"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[0,0,255]},{label:a.util.colorRamp["2"],value:2,rgb:[56,106,255]},{label:a.util.colorRamp["3"],value:3,rgb:[51,194,255]},{label:a.util.colorRamp["4"],value:4,rgb:[89,255,225]},{label:a.util.colorRamp["5"],value:5,rgb:[182,255,143]},{label:a.util.colorRamp["6"],value:6,
rgb:[238,255,56]},{label:a.util.colorRamp["7"],value:7,rgb:[255,200,0]},{label:a.util.colorRamp["8"],value:8,rgb:[255,119,0]},{label:a.util.colorRamp["9"],value:9,rgb:[255,0,0]}]},{name:"1_9_partial_spectrum_yellow_to_blue",label:a.wro.colorRampLabel["Partial Spectrum - Yellow to Blue"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[242,241,162]},{label:a.util.colorRamp["2"],value:2,rgb:[252,250,98]},{label:a.util.colorRamp["3"],value:3,rgb:[255,255,0]},{label:a.util.colorRamp["4"],value:4,rgb:[255,
149,0]},{label:a.util.colorRamp["5"],value:5,rgb:[255,0,0]},{label:a.util.colorRamp["6"],value:6,rgb:[245,5,189]},{label:a.util.colorRamp["7"],value:7,rgb:[176,7,237]},{label:a.util.colorRamp["8"],value:8,rgb:[99,24,204]},{label:a.util.colorRamp["9"],value:9,rgb:[7,29,173]}]},{name:"1_9_partial_spectrum_blue_to_yellow",label:a.wro.colorRampLabel["Partial Spectrum - Blue to Yellow"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[7,29,173]},{label:a.util.colorRamp["2"],value:2,rgb:[99,24,204]},{label:a.util.colorRamp["3"],
value:3,rgb:[176,7,237]},{label:a.util.colorRamp["4"],value:4,rgb:[245,5,189]},{label:a.util.colorRamp["5"],value:5,rgb:[255,0,0]},{label:a.util.colorRamp["6"],value:6,rgb:[255,149,0]},{label:a.util.colorRamp["7"],value:7,rgb:[255,255,0]},{label:a.util.colorRamp["8"],value:8,rgb:[252,250,98]},{label:a.util.colorRamp["9"],value:9,rgb:[242,241,162]}]},{name:"1_9_yellow_green_to_dark_blue",label:a.wro.colorRampLabel["Yellow-Green to Dark Blue"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,255,
128]},{label:a.util.colorRamp["2"],value:2,rgb:[182,245,88]},{label:a.util.colorRamp["3"],value:3,rgb:[113,235,47]},{label:a.util.colorRamp["4"],value:4,rgb:[59,214,45]},{label:a.util.colorRamp["5"],value:5,rgb:[61,184,104]},{label:a.util.colorRamp["6"],value:6,rgb:[42,156,154]},{label:a.util.colorRamp["7"],value:7,rgb:[33,110,158]},{label:a.util.colorRamp["8"],value:8,rgb:[31,62,140]},{label:a.util.colorRamp["9"],value:9,rgb:[12,16,120]}]},{name:"1_9_dark_blue_to_yellow_green",label:a.wro.colorRampLabel["Dark Blue to Yellow-Green"],
colors:[{label:a.util.colorRamp["1"],value:1,rgb:[12,16,120]},{label:a.util.colorRamp["2"],value:2,rgb:[31,62,140]},{label:a.util.colorRamp["3"],value:3,rgb:[33,110,158]},{label:a.util.colorRamp["4"],value:4,rgb:[42,156,154]},{label:a.util.colorRamp["5"],value:5,rgb:[61,184,104]},{label:a.util.colorRamp["6"],value:6,rgb:[59,214,45]},{label:a.util.colorRamp["7"],value:7,rgb:[113,235,47]},{label:a.util.colorRamp["8"],value:8,rgb:[182,245,88]},{label:a.util.colorRamp["9"],value:9,rgb:[255,255,128]}]},
{name:"1_9_cold_to_hot_diverging",label:a.wro.colorRampLabel["Cold to Hot Diverging"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[40,146,199]},{label:a.util.colorRamp["2"],value:2,rgb:[109,169,179]},{label:a.util.colorRamp["3"],value:3,rgb:[160,194,155]},{label:a.util.colorRamp["4"],value:4,rgb:[206,222,129]},{label:a.util.colorRamp["5"],value:5,rgb:[250,250,100]},{label:a.util.colorRamp["6"],value:6,rgb:[252,196,76]},{label:a.util.colorRamp["7"],value:7,rgb:[250,141,52]},{label:a.util.colorRamp["8"],
value:8,rgb:[242,89,34]},{label:a.util.colorRamp["9"],value:9,rgb:[232,16,20]}]},{name:"1_9_hot_to_cold_diverging",label:a.wro.colorRampLabel["Hot to Cold Diverging"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[232,16,20]},{label:a.util.colorRamp["2"],value:2,rgb:[242,89,34]},{label:a.util.colorRamp["3"],value:3,rgb:[250,141,52]},{label:a.util.colorRamp["4"],value:4,rgb:[252,196,76]},{label:a.util.colorRamp["5"],value:5,rgb:[250,250,100]},{label:a.util.colorRamp["6"],value:6,rgb:[206,222,129]},
{label:a.util.colorRamp["7"],value:7,rgb:[160,194,155]},{label:a.util.colorRamp["8"],value:8,rgb:[109,169,179]},{label:a.util.colorRamp["9"],value:9,rgb:[40,146,199]}]},{name:"1_9_surface_low_to_high",label:a.wro.colorRampLabel["Surface - Low to High"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[112,153,89]},{label:a.util.colorRamp["2"],value:2,rgb:[176,196,124]},{label:a.util.colorRamp["3"],value:3,rgb:[242,238,162]},{label:a.util.colorRamp["4"],value:4,rgb:[242,224,150]},{label:a.util.colorRamp["5"],
value:5,rgb:[242,206,133]},{label:a.util.colorRamp["6"],value:6,rgb:[217,169,130]},{label:a.util.colorRamp["7"],value:7,rgb:[194,140,124]},{label:a.util.colorRamp["8"],value:8,rgb:[255,184,193]},{label:a.util.colorRamp["9"],value:9,rgb:[255,242,255]}]},{name:"1_9_surface_high_to_low",label:a.wro.colorRampLabel["Surface - High to Low"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,242,255]},{label:a.util.colorRamp["2"],value:2,rgb:[255,184,193]},{label:a.util.colorRamp["3"],value:3,rgb:[194,
140,124]},{label:a.util.colorRamp["4"],value:4,rgb:[217,169,130]},{label:a.util.colorRamp["5"],value:5,rgb:[242,206,133]},{label:a.util.colorRamp["6"],value:6,rgb:[242,224,150]},{label:a.util.colorRamp["7"],value:7,rgb:[242,238,162]},{label:a.util.colorRamp["8"],value:8,rgb:[176,196,124]},{label:a.util.colorRamp["9"],value:9,rgb:[112,153,89]}]}]}}}})},"widgets/SuitabilityModeler/wro/WeightedOverlayService":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/string dojo/number esri/request esri/layers/RasterFunction ./rasterFunctions".split(" "),
function(a,g,e,h,c,p,m,r){var v=function(a,f){var b;if(!a||!f)return!1;b=a.length;if(b!==f.length)return!1;for(var d=0;d<b;d++)if(a[d]instanceof Array&&f[d]instanceof Array){if(!a[d].compare(f[d]))return!1}else if(a[d]!==f[d])return!1;return!0},u=function(a){try{if(a.attributes&&"ForestFragmentation_US_USFS_2002"===a.attributes.Name&&"Forest Fragmentation"===a.attributes.Title&&49===a.attributes.OBJECTID)return null}catch(q){}a=a.attributes;var b,n,d,t,k,c;a&&(c={id:a.OBJECTID,name:a.Name,title:a.Title,
url:a.Url,metadata:a.Metadata},a.InputRanges&&a.InputRanges.split&&"undefined"!==typeof a.OutputValues&&a.OutputValues.split&&(b=e.map(a.InputRanges.split(","),function(a){return parseFloat(a.trim())}),n=e.map(a.OutputValues.split(","),function(a){return parseInt(a.trim(),10)}),a.RangeLabels&&a.RangeLabels.split&&(t=e.map(a.RangeLabels.split(","),function(a){return a.trim()}))),a.NoDataRanges&&a.NoDataRanges.split&&(d=e.map(a.NoDataRanges.split(","),function(a){return parseFloat(a.trim())}),a.NoDataRangeLabels&&
a.NoDataRangeLabels.split&&(k=e.map(a.NoDataRangeLabels.split(","),function(a){return a.trim()}))),c.remapRanges=l.createRemapRanges(b,n,d,{labels:t,noDataLabels:k}));return c},z=function(a){return e.map(a.colors,function(a){return[a.value].concat(a.rgb)})},y=function(a,f){var b=[],d=0;a&&a.overlayLayers&&a.overlayLayers.push?0<a.overlayLayers.length?(e.forEach(a.overlayLayers,function(a,k){d+=a.weight;a.remapRanges&&a.remapRanges.push&&0<a.remapRanges.length?e.forEach(a.remapRanges,function(a,d){(isNaN(a.outputValue)||
null===a.outputValue)&&b.push(h.substitute(f.wro.validation.overlayLayerOutputInvalid,[k,d]));(isNaN(a.inputMin)||null===a.inputMin||isNaN(a.inputMax)||null===a.inputMax||a.inputMin>a.inputMax)&&b.push(h.substitute(f.wro.validation.overlayLayerInputInvalid,[k,d]))}):b.push(h.substitute(f.wro.validation.overlayLayerRangesMissing,[k]))}),100!==d&&b.push(f.wro.validation.overlayLayerWeight)):b.push(f.wro.validation.overlayLayerRequired):b.push(f.wro.validation.overlayLayerNotDefined);return b},A=function(a,
f,n){a+="/computeHistograms";var b={geometryType:"esriGeometryPolygon",f:"json"};b.geometry=window.JSON.stringify(f);n&&(n.renderingRule&&(b.renderingRule=window.JSON.stringify(n.renderingRule)),n.pixelSize&&(b.pixelSize=window.JSON.stringify(n.pixelSize)));return p({url:a,content:b,handleAs:"json",callbackParamName:"callback"})},l={rasterFunctionArgumentsToRemapRanges:function(a,f){var b,d,t,k,c;a&&(d=g.mixin({inputRangesArgumentName:"InputRanges",outputValuesArgumentName:"OutputValues",noDataRangesArgumentName:"NoDataRanges",
labelsArgumentName:"Labels",noDataLabelsArgumentName:"NoDataLabels"},f),b=a[d.inputRangesArgumentName],t=a[d.outputValuesArgumentName],k=a[d.noDataRangesArgumentName],c=a[d.labelsArgumentName],d=a[d.noDataLabelsArgumentName],b=this.createRemapRanges(b,t,k,{labels:c,noDataLabels:d,sortBy:"inputMin"}));return b},createRemapRanges:function(a,f,n,d){var b=[],k=!1,c,q,x;d&&(c=d.labels,q=d.noDataLabels,x=d.sortBy);a&&a.push&&f&&f.push&&a.length===2*f.length&&(k=c&&c.push&&c.length===f.length,e.forEach(f,
function(d,n){var q=2*n,q={inputMin:a[q],inputMax:a[q+1],outputValue:d,originalOutputValue:d};q.label=k?c[n]:this.getRangeString(q.inputMin,q.inputMax);b.push(q)},this));n&&n.push&&0<n.length&&(k=q&&q.push&&q.length===n.length/2,e.forEach(n,function(a,d){if(0===d%2){var f={inputMin:a,inputMax:n[d+1],outputValue:0,originalOutputValue:0};f.label=k?q[d]:this.getRangeString(f.inputMin,f.inputMax);b.push(f)}},this));if(0<b.length)return x&&b.sort(function(a,b){return a[x]<b[x]?-1:a[x]>b[x]?1:0}),b},getRangeString:function(a,
f){return a===f?a+"":a+" - "+f},remapRangesToRasterFunctionArguments:function(a,f){var b,d,c,k,w,q,x;a&&(b={},d=g.mixin({includeLabels:!0,inputRangesArgumentName:"InputRanges",outputValuesArgumentName:"OutputValues",noDataRangesArgumentName:"NoDataRanges",labelsArgumentName:"Labels",noDataLabelsArgumentName:"NoDataLabels"},f),c=[],k=[],w=[],q=[],x=[],e.forEach(a,function(a){var b=a.label||this.getRangeString(a.inputMin,a.inputMax);a.outputValue?(c.push(a.inputMin),c.push(a.inputMax),k.push(a.outputValue),
q.push(b)):(w.push(a.inputMin),w.push(a.inputMax),x.push(b))},this),0<k.length&&(b[d.inputRangesArgumentName]=c,b[d.outputValuesArgumentName]=k,d.includeLabels&&(b[d.labelsArgumentName]=q)),0<w.length&&(b[d.noDataRangesArgumentName]=w,d.includeLabels&&(b[d.noDataLabelsArgumentName]=x)));return b},getRemapRangeByValue:function(a,f){var b;(f||0===f)&&e.some(a,function(a){return f===a.inputMin&&f===a.inputMax||f>=a.inputMin&&f<a.inputMax?(b=a,!0):!1});return b},findRemapRange:function(a,f){var b,d;if(a&&
f)return e.some(a,function(a){if((f.inputMin||0===f.inputMin)&&(f.inputMax||0===f.inputMax))return(b=a.inputMin===f.inputMin&&a.inputMax===f.inputMax)&&(d=a),b}),d}};return a([],{context:null,i18n:null,constructor:function(a,f){var b=f||{};this.imageServiceLayer=a;this.rasterFunctionName=b.rasterFunctionName||"";this.histogramRasterFunctionName=b.histogramRasterFunctionName||"";this.rastersInFunction=b.rastersInFunction||0;this.variableName=b.variableName||"Raster";this.colorMapArgName=b.colorMapArgName||
"Colormap";this.dummyRasterId=b.dummyRasterId||1;this.colormapDefinitions=b.colormapDefinitions||[];this.argumentNamePrefixes=g.mixin({id:"Raster",weight:"Weight_Raster",inputRanges:"InputRanges_Raster",outputValues:"OutputValues_Raster",noDataRanges:"NoDataRanges_Raster",labels:"Labels_Raster",noDataLabels:"NoDataLabels"},b.argumentNamePrefixes);this.queryParameters=g.mixin({where:"1\x3d1",outFields:["*"],returnGeometry:!1},b.queryParameters);this.rasterLayers=b.rasterLayers||[]},initRasterLayers:function(a){var b=
this;return this.queryRasters().then(function(f){return b._initRasterLayers(f.features,a)})},queryRasters:function(a){var b=this.imageServiceLayer.url+"/query";a=g.mixin(g.mixin({f:"json"},a),this.queryParameters);a.outFields&&a.outFields.join&&(a.outFields=a.outFields.join(","));return p({url:b,content:a,handleAs:"json",callbackParamName:"callback"})},_initRasterLayers:function(a,f){var b=this.context;try{this.dummyRasterId=1,this.imageServiceLayer&&this.imageServiceLayer.url&&-1!==this.imageServiceLayer.url.indexOf("//landscape3.arcgis.com")&&
(this.dummyRasterId=53)}catch(w){}var d=this,c,k=(f||{}).featureCompareFunc||function(a,b){return a.attributes.Title<b.attributes.Title?-1:a.attributes.Title>b.attributes.Title?1:0};a&&a.length&&0<a.length&&a[0].attributes&&(d.rasterLayers&&d.rasterLayers.push?d.rasterLayers.length=0:d.rasterLayers=[],k&&a.sort(k),e.forEach(a,function(a){if(c=u(a))c.url=b.checkMixedContent(c.url),d.rasterLayers.push(c)}));return d.rasterLayers},createNewModel:function(){var a={overlayLayers:[]};this.colormapDefinitions&&
this.colormapDefinitions instanceof Array&&0<this.colormapDefinitions.length&&(a.colormapDefinition=this.colormapDefinitions[0]);return a},getRasterLayer:function(a){var b;e.some(this.rasterLayers,function(f){if(f.id===a)return b=f,!1});return b},setOverlayLayerDefaults:function(a,f){f&&(f.remapRanges&&a.remapRanges&&e.forEach(f.remapRanges,function(b){var d;b.label&&(d=l.findRemapRange(a.remapRanges,{inputMin:b.inputMin,inputMax:b.inputMax}))&&(d.label=b.label)},this),a.title=f.title)},operationalLayersToModel:function(a){var b,
c=this.rasterFunctionName;c&&e.some(a,function(a){return a.renderingRule&&a.renderingRule&&a.renderingRule.rasterFunction===c?(b=a,!0):!1},this);return this.imageServiceLayerToModel(b)},imageServiceLayerToModel:function(a){var b=this,c,d,t,k,w;k=a.renderingRule;if(a&&k){c={overlayLayers:[]};if(this.rasterFunctionName===k.rasterFunction){t=new RegExp("^"+this.argumentNamePrefixes.id+"[1-9]+$");k=k.rasterFunctionArguments;a.remapRangeLabels&&g.mixin(k,a.remapRangeLabels);a.noDataRangeLabels&&g.mixin(k,
a.noDataRangeLabels);for(var q in k)q.match(t)?(w=q.replace(this.argumentNamePrefixes.id,""),d={id:parseInt(k[q].replace("$",""),10)},a=this.argumentNamePrefixes.weight+w,d.weight=k[a],d.weight&&0<d.weight&&(d.weight*=100,d=g.mixin(this.getRasterLayer(d.id)||{},d),d.remapRanges=l.rasterFunctionArgumentsToRemapRanges(k,{inputRangesArgumentName:this.argumentNamePrefixes.inputRanges+w,outputValuesArgumentName:this.argumentNamePrefixes.outputValues+w,noDataRangesArgumentName:this.argumentNamePrefixes.noDataRanges+
w,labelsArgumentName:this.argumentNamePrefixes.labels+w,noDataLabelsArgumentName:this.argumentNamePrefixes.noDataLabels+w}),c.overlayLayers.push(d))):q===this.colorMapArgName&&(c.colormapDefinition=this.findColormapDefinition(k[q]))}else t=k,k=t.rasterFunctionArguments,"Colormap"===t.rasterFunction&&(c.colormapDefinition=this.findColormapDefinition(k.Colormap),t=k.Raster,k=t.rasterFunctionArguments),"Local"===t.rasterFunction&&49===k.Operation?(t=k.Rasters[0],k=t.rasterFunctionArguments):"Local"===
t.rasterFunction&&48===k.Operation&&(k.Operation=49,t=k.Rasters[0],k=t.rasterFunctionArguments),"Local"===t.rasterFunction&&55===k.Operation&&(c.overlayLayers=e.map(k.Rasters,function(a){var d={};e.forEach(a.rasterFunctionArguments.Rasters,function(a){isNaN(a)?(d.id=parseInt(a.rasterFunctionArguments.Raster.substr(1),10),d=g.mixin(b.getRasterLayer(d.id)||{},d),d.remapRanges=l.rasterFunctionArgumentsToRemapRanges(a.rasterFunctionArguments)):d.weight=100*a});return d}));return c}},findColormapDefinition:function(a){var b;
e.some(this.colormapDefinitions,function(c){var d=!1;return(d=e.every(c.colors,function(b,d){return v([b.value].concat(b.rgb),a[d])}))?(b=c,!0):!1});return b},modelToOperationalLayers:function(a,c){return[this.modelToImageServiceLayer(a,c)]},modelToImageServiceLayer:function(a,c){var b={id:this.imageServiceLayer.id,url:this.imageServiceLayer.url,opacity:this.imageServiceLayer.opacity,title:"Weighted Overlay Model"},d=this.getRasterFunction(a.overlayLayers,a.colormapDefinition,{includeLabels:!0}),
f={},k={},e;for(e in d.arguments)0===e.indexOf(this.argumentNamePrefixes.labels)?(f[e]=d.arguments[e],delete d.arguments[e]):0===e.indexOf(this.argumentNamePrefixes.noDataLabels)&&(k[e]=d.arguments[e],delete d.arguments[e]);b.renderingRule=d.toJson();b.remapRangeLabels=f;b.noDataRangeLabels=k;c&&c.modelTitle&&(b.title=c.modelTitle);return b},getRasterFunction:function(a,f,n){var b=[];e.forEach(a,function(a){0<a.weight&&b.push(a)});if(10.3<=this.imageServiceLayer.version){var t=e.map(b,function(a){var b=
l.remapRangesToRasterFunctionArguments(a.remapRanges);b.Raster="$"+a.id;b.weight=a.weight/100;return b}),k;f&&(k=z(f));f=r.createWeightedSumParams(t,k);return new m(f)}k=new m;a=b.length;var w={};n=g.mixin({rasterFunctionName:this.rasterFunctionName,rastersInFunction:this.rastersInFunction,argumentNamePrefixes:this.argumentNamePrefixes,variableName:this.variableName,dummyRasterId:this.dummyRasterId,includeLabels:!1},n);var q;k.functionName=n.rasterFunctionName;n.variableName&&(k.variableName=n.variableName);
for(var x=1;x<=n.rastersInFunction;x++)q=x<=a?b[x-1]:{id:n.dummyRasterId,weight:0},w[n.argumentNamePrefixes.id+x]="$"+q.id,w[n.argumentNamePrefixes.weight+x]=c.round(q.weight/100,2),0<q.weight&&q.remapRanges&&(q=l.remapRangesToRasterFunctionArguments(q.remapRanges,{includeLabels:n.includeLabels,inputRangesArgumentName:n.argumentNamePrefixes.inputRanges+x,outputValuesArgumentName:n.argumentNamePrefixes.outputValues+x,noDataRangesArgumentName:n.argumentNamePrefixes.noDataRanges+x,labelsArgumentName:n.argumentNamePrefixes.labels+
x,noDataLabelsArgumentName:n.argumentNamePrefixes.noDataLabels+x}),g.mixin(w,q));if(this.colorMapArgName){f&&(t=z(f));if(!t)throw this.i18n.wro.validation.requiresColormap;w[this.colorMapArgName]=t}k.arguments=w;return k},validateModel:function(a){a=y(a,this.i18n);return{isValid:1>a.length,modelErrors:a}},runModel:function(a){var b;if(this.imageServiceLayer)if(b=y(a,this.i18n),1>b.length)this.imageServiceLayer.setRenderingRule(this.getRasterFunction(a.overlayLayers,a.colormapDefinition));else throw this.context.showMessages(this.i18n.wro.validation.createModelError,
"",b),this.wro.validation.invalidModel+":\n\n"+b.join("\n");else throw this.i18n.wro.validation.imageServiceNotDefined;},clearModel:function(){this.imageServiceLayer&&null!==this.imageServiceLayer.renderingRule&&this.imageServiceLayer.setRenderingRule(null)},getHistogram:function(a,c,e){var b=g.mixin({},e);if(this.histogramRasterFunctionName){if(this.imageServiceLayer){e=y(a,this.i18n);if(1>e.length)return b.renderingRule=this.getRasterFunction(a.overlayLayers,a.colormapDefinition,{rasterFunctionName:this.histogramRasterFunctionName}).toJson(),
A(this.imageServiceLayer.url,c,b).then(function(a){return a.histograms[0]});throw this.i18n.wro.validation.invalidModel+":\n\n"+e.join("\n");}throw this.i18n.wro.validation.imageLayerNotDefined;}throw this.i18n.wro.validation.histogramNotDefined;},getModelPixelSize:function(a,c){var b=this.imageServiceLayer,d=g.mixin({width:b.maxImageWidth,height:b.maxImageHeight},c),f=Math.max(b.pixelSizeX,Math.ceil(a.getWidth()/d.width)),b=Math.max(b.pixelSizeY,Math.ceil(a.getHeight()/d.height));d.forceSquare?(d=
{x:Math.max(f,b)},d.y=d.x):d={x:f,y:b};return d},getColormapDefinition:function(a){var b;e.some(this.colormapDefinitions,function(c){if(c.id===a)return b=c,!1});return b}})})},"widgets/SuitabilityModeler/wro/rasterFunctions":function(){(function(a,g){"function"===typeof define&&define.amd?define([],g):"object"===typeof exports?module.exports=g():a.rasterFunctions=g()})(this,function(){return{createColormapParams:function(a){a||(a={});return{rasterFunction:"Colormap",rasterFunctionArguments:{Raster:a.raster||
"$$",Colormap:a.colormap||[]}}},createRemapParams:function(a){a||(a={});return{rasterFunction:"Remap",rasterFunctionArguments:{Raster:a.Raster||"$$",UseTable:!1,InputRanges:a.InputRanges||[],OutputValues:a.OutputValues||[],NoDataRanges:a.NoDataRanges||[],AllowUnmatched:!0}}},createLocalParams:function(a,g){g||(g={});var e={rasterFunction:"Local",rasterFunctionArguments:{Operation:a,ExtentType:0,CellsizeType:1,Rasters:g.rasters||[]}};g.outputPixelType&&(e.outputPixelType=g.outputPixelType);return e},
createWeightedSumParams:function(a,g){var e=a.map(function(a){var c=this.createRemapParams(a);return this.createLocalParams(3,{rasters:[c,a.weight]})},this),e=this.createLocalParams(55,{rasters:e}),e=this.createLocalParams(49,{rasters:[e],outputPixelType:"U8"});return this.createColormapParams({raster:e,colormap:g})}}})},"widgets/SuitabilityModeler/wro/WeightedOverlayLayersSelector":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/Evented dojo/dom-class dojo/string dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Container dijit/TooltipDialog dijit/popup esri/IdentityManager esri/request esri/layers/ArcGISImageServiceLayer ./containerUtils dojo/text!./templates/WeightedOverlayLayerSelector.html dijit/form/HorizontalSlider dijit/form/CheckBox".split(" "),
function(a,g,e,h,c,p,m,r,v,u,z,y,A,l,b,f,n,d,t,k){var w=a([v,u,z,c],{context:null,i18n:null,templateString:t,baseClass:"weighted-overlay-layer-selector",_parentWgt:null,_setRasterLayerAttr:function(a){this.chkModelLayer.set("value",a.id.toString());this.chkModelLayer.set("title",a.title);this.txtLabel.innerHTML=a.title},_setTooltipDialogAttr:function(a){var b=this;this.tooltipDialog=a;this.own(h(a,"MouseLeave",function(){l.close(b.tooltipDialog)}))},postCreate:function(){var a=this,b=this.chkModelLayer,
c=this.btnInfo;this.txtLabel.setAttribute("for",b.id);this.showPreview&&this.rasterLayer.url?this.own(h(this.btnPreview,"click",function(){a.emit("PreviewClick",a.rasterLayer.url,a.btnPreview)})):(this.btnPreview.style||(this.btnPreview.style={}),this.btnPreview.style.display="none");this.showInfo&&this.rasterLayer.url||this.showInfo&&this.rasterLayer.metadata?this.own(h(c,"click",function(){a.showInfoTooltip()})):this.btnInfo.style.display="none";this.own(h(b,"click",function(){a._parentWgt._onContainerNodeChange({target:b.focusNode})}))},
showInfoTooltip:function(){var a=this.rasterLayer.metadata;a&&(0<=a.indexOf("https")||0<=a.indexOf("http")||(a=null));var b=this;a?b._showInfoTooltip(b.rasterLayer.title,b.rasterLayer.metadata):this.rasterLayer.url?f({url:this.rasterLayer.url+"/info/iteminfo",content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(a){b.rasterLayer.infoText=a.snippet||a.summary||a.description;b._showInfoTooltip(b.rasterLayer.infoText,b.rasterLayer.url)}):this.context.showMessage(this.i18n.wro.caption,
this.i18n.wro.validation.invalidLink)},_showInfoTooltip:function(a,c){var d;this.tooltipDialog&&(l.close(this.tooltipDialog),(d=b.findCredential(c))&&d.token&&(c+=(-1<c.indexOf("?")?"\x26":"?")+"token\x3d"+d.token),a+=" \x3ca href\x3d"+c+" target\x3d'_blank'\x3e"+this.i18n.wro.readMore+"\x3c/a\x3e",this.tooltipDialog.set("content",a),l.open({popup:this.tooltipDialog,around:this.btnInfo,orient:["before-centered","before"]}))},setSelected:function(a){this.chkModelLayer.set("checked",a)}});return a([v,
y,c],{context:null,i18n:null,showPreview:!0,showInfo:!0,_setWeightedOverlayServiceAttr:function(a){this.setWeightedOverlayService(a)},_setModelAttr:function(a){this.setModel(a)},buildRendering:function(){this.inherited(arguments);var a=document.createElement("div");a.className="transparency-container";var b=this.domNode;this.parent&&this.parent.selectLayersViewHeader&&(b=this.parent.selectLayersViewHeader);b.appendChild(a);this.previewSlider=new k({minimum:0,maximum:1,value:.2,intermediateChanges:!0,
showButtons:!1,"class":"modeler-transparency-slider slider-primary"});this.previewSlider.placeAt(a,"last");this.containerNode=document.createElement("div");this.containerNode.setAttribute("class","modeler-scroll-panel");this.domNode.appendChild(this.containerNode);this.tooltipDialog=new A({style:"width: 300px;"})},postCreate:function(){var a=this;this.own(h(this.previewSlider,"change",function(){a.updatePreviewOpacity()}))},_onContainerNodeChange:function(a){var b=a.target,c;if("checkbox"===b.type){c=
this._getLayerIdFromCheckbox(b);if(b.checked){b=this.getOverlayLayer(c);try{this.addOverlayLayer(b||{id:c,weight:0})}catch(C){(a=r.byId(a.target.id))&&a.set("checked",!1),this._showError(C)}}else this.removeOverlayLayer(c);this.emit("selection-changed")}},_getLayerIdFromCheckbox:function(a){var b;try{b=parseInt(a.value,10)}catch(D){b=a.value}return b},_showError:function(a){this.context.showError(this.i18n.wro.caption,a)},setWeightedOverlayService:function(a){this.weightedOverlayService=a;this._initLayerSelectors(this.weightedOverlayService.rasterLayers)},
_initLayerSelectors:function(a){var b=this;d.removeChildren(this);e.forEach(a,function(a){var c=this.getOverlayLayer(a.id);a=new w({context:b.context,i18n:b.i18n,rasterLayer:a,tooltipDialog:this.tooltipDialog,showPreview:this.showPreview,showInfo:this.showInfo,_parentWgt:b});a.setSelected(c?!0:!1);a.startup();this.own(h(a,"PreviewClick",function(a,c){b._OnPreviewClick(a,c)}),h(a,""));this.addChild(a)},this)},setModel:function(a){this.model=a;a=this.containerNode.querySelectorAll('input[name\x3d"wro-selected-layers"]');
e.forEach(a,function(a){var b=this._getLayerIdFromCheckbox(a);a=r.byId(a.id);var c=e.some(this.model.overlayLayers,function(a){return a.id===b});a.set("checked",c)},this)},_OnPreviewClick:function(a,b){a&&(this._selectedPreviewNode&&this._previewLayer&&this._previewLayer.url===a?this.hidePreviewLayer():(this.hidePreviewLayer(),this._setPreviewLayer(a),this._selectedPreviewNode&&p.remove(this._selectedPreviewNode,"checked"),this._selectedPreviewNode=b,p.add(this._selectedPreviewNode,"checked")))},
hidePreviewLayer:function(){if(this._previewLayer)if(this._previewLayer._map)try{this._previewLayer._map.removeLayer(this._previewLayer),this._previewLayer=null}catch(q){console.warn("Error removing wro preview layer"),console.error(q)}else this._previewLayer.hide();this._selectedPreviewNode&&(p.remove(this._selectedPreviewNode,"checked"),this._selectedPreviewNode=null)},_setPreviewLayer:function(a){var b=g.mixin({id:this.context.generateRandomId()},this.previewLayerOptions),c=this.map||this.context.getMap()||
this.weightedOverlayService.imageServiceLayer.getMap();if(c){a:{var d=c.getLayer(b.id);if(d){if(d.url===a){c=d;break a}c.removeLayer(d)}a=new n(a,b);c=c.addLayer(a)}this._previewLayer=c;this.updatePreviewOpacity();this._previewLayer.show()}},updatePreviewOpacity:function(){this._previewLayer&&this._previewLayer.setOpacity(1-this.previewSlider.value)},showPreviewLayer:function(){this._previewLayer&&this._previewLayer.show()},addOverlayLayer:function(a){var b;if(this.weightedOverlayService)if(b=this.weightedOverlayService.rastersInFunction,
this.model.overlayLayers.length<b||!b)if(b=this.weightedOverlayService.getRasterLayer(a.id))a.name=b.name,a.url=b.url,a.title=b.title,a.remapRanges||(a.remapRanges=b.remapRanges),this.removeOverlayLayer(a.id),this.model.overlayLayers.push(a);else throw m.substitute(this.i18n.wro.validation.notFound,[a.id]);else throw m.substitute(this.i18n.wro.validation.maxLayers,[b]);else throw this.i18n.wro.validation.wroServiceNotDefined;},getOverlayLayer:function(a){var b;this.model&&this.model.overlayLayers&&
e.some(this.model.overlayLayers,function(c){if(c.id===a)return b=c,!1});return b},removeOverlayLayer:function(a){for(var b=this.model.overlayLayers,c=b.length,d=0;d<c;d++)if(b[d].id===a){b.splice(d,1);break}}})})},"widgets/SuitabilityModeler/wro/containerUtils":function(){define([],function(){return{removeChildren:function(a){var g;if(a&&a.getChildren&&a.removeChild)for(g=a.getChildren().length,--g;0<=g;g--)a.removeChild(g)}}})},"widgets/SuitabilityModeler/wro/WeightedOverlayModelDesigner":function(){define("dojo/_base/declare dojo/_base/array dojo/on dojo/Evented dojo/dom-class dojo/dom-attr dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Container dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem ./containerUtils ./WeightedOverlayLayerEditor ./Colormap dojo/text!./templates/WeightedOverlayModelDesigner.html dijit/form/HorizontalSlider".split(" "),
function(a,g,e,h,c,p,m,r,v,u,z,y,A,l,b,f,n){return a([m,r,v,u,h],{i18n:null,templateString:n,baseClass:"weighted-overlay-model-designer",_isValid:!1,buildRendering:function(){this.inherited(arguments);this.colormap=new f({context:this.context,i18n:this.i18n});this.ColormapSelector=new z({},this.colormapSelectorNode);this.ColormapSelector.containerNode.appendChild(this.colormap.domNode)},postCreate:function(){var a=this,b=this.sliderNode;e(b,"change",function(){a.weightedOverlayService&&a.weightedOverlayService.imageServiceLayer&&
a.weightedOverlayService.imageServiceLayer.setOpacity(1-b.value)});var c=this.visibleModelNode;e(c,"change",function(){a.weightedOverlayService&&a.weightedOverlayService.imageServiceLayer&&a.weightedOverlayService.imageServiceLayer.setVisibility(c.checked);b.disabled=!c.checked});b.set("value",0);c.checked=!1},_setModelAttr:function(a){this.setModel(a)},_setWeightedOverlayServiceAttr:function(a){this.setWeightedOverlayService(a)},startup:function(){this.inherited(arguments);this.validate()},setWeightedOverlayService:function(a){var b=
this;this.weightedOverlayService=a;var d=new y({style:"display: none;"});g.forEach(this.weightedOverlayService.colormapDefinitions,function(a){var c=new A;(new f({context:b.context,i18n:b.i18n,definition:a})).placeAt(c.containerNode);b.own(e(c,"Click",function(){b.colormap&&b.colormap.definition!==a&&b.colormap.set("definition",a);b.model.colormapDefinition=a;b.runModel()}));c.containerNode.title=a.label;d.addChild(c)});this.ColormapSelector.set("dropDown",d);this.own(e(d,"open",function(){var a=
this.domNode.parentElement;a&&c.add(a,b.baseClass+"-popup")}));this.weightedOverlayService.imageServiceLayer&&this._toggleModelLayer(this.weightedOverlayService.imageServiceLayer.visible)},clearModel:function(){this.setModel(this.weightedOverlayService.createNewModel());this.emit("model-clear",this.model)},setModel:function(a){var c=this;this.model=a;l.removeChildren(this);this.model.overlayLayers&&this.model.overlayLayers.length&&0<this.model.overlayLayers.length?g.forEach(this.model.overlayLayers,
function(a){a=new b({context:c.context,i18n:c.i18n,overlayLayer:a});c.own(e(a,"WeightChange",function(){c.validate()}));a.startup();c.addChild(a)}):(this.hideModelLayer(),p.set(this.visibleModelNode,"disabled","disabled"),this.weightedOverlayService&&this.weightedOverlayService.clearModel());this.validate();this.model.colormapDefinition&&this.colormap.set("definition",this.model.colormapDefinition)},validate:function(){var a=0;this.model&&this.model.overlayLayers&&g.forEach(this.model.overlayLayers,
function(b){a+=b.weight});this.weightTotalNode.innerHTML=a;var b=this.weightTotalWrapper.parentNode;100===a?(this._isValid=!0,c.remove(b,"alert-danger"),c.add(b,"alert-success")):(this._isValid=!1,c.remove(b,"alert-success"),c.add(b,"alert-danger"));this.emit("model-validated",this._isValid)},runModel:function(a){this.validate();this._isValid&&(this.weightedOverlayService.runModel(this.model),p.remove(this.visibleModelNode,"disabled"),this.showModelLayer(),this.emit("model-run",{options:a,model:this.model}))},
showModelLayer:function(){this._toggleModelLayer(!0)},hideModelLayer:function(){this._toggleModelLayer(!1)},_toggleModelLayer:function(a){!!this.visibleModelNode.checked!==a&&this.visibleModelNode.click()}})})},"widgets/SuitabilityModeler/wro/WeightedOverlayLayerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-class dojo/dom-style dojo/string dojo/Evented dojo/fx dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Container ./containerUtils dojo/text!./templates/RemapRangeEditor.html dojo/text!./templates/WeightedOverlayLayerEditor.html dijit/form/HorizontalSlider dijit/form/NumberTextBox".split(" "),
function(a,g,e,h,c,p,m,r,v,u,z,y,A,l,b,f,n){var d=a([u,z,y,r],{i18n:null,templateString:b,baseClass:"reclass-range-editor",_setRemapRangeAttr:function(a){var b=" ("+(a.inputMin===a.inputMax?a.inputMin+"":a.inputMin+" - "+a.inputMax)+")";this.labelNode.innerHTML=a.label.substr(0,14)+(15<a.label.length?"\x26hellip;":"")+b;this.labelNode.title=a.label+b;this.outputValueNode.set("value",a.outputValue)},postCreate:function(){var a=this;this.inherited(arguments);this.outputValueNode.set("constraints",{round:0});
this.sliderObject=new n({"class":"slider-primary",name:"slider",value:this.outputValueNode.value,minimum:0,maximum:9,intermediateChanges:!0,discreteValues:10,showButtons:!1},this.slider);this.sliderObject.startup();this.own(h(this.sliderObject,"Change",function(b){a.outputValueNode.set("value",b)}));this.own(h(this.outputValueNode,"Change",function(b){a.outputValueNode&&a.outputValueNode.isValid()&&(a.remapRange.outputValue=b,a.sliderObject.set("value",b))}))},setOutputRange:function(a,b){var c=this.outputValueNode,
d=m.substitute(this.i18n.wro.validation.rangeMessage,[a,b]);c.set("constraints",{min:a,max:b});c.set("rangeMessage",d);this.sliderObject.set({minimum:a,maximum:b})}}),t=a([u,z,A,r],{i18n:null,templateString:'\x3cdiv\x3e\x3ctable class\x3d"${baseClass}-table"\x3e\x3ctbody data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e',minOutputValue:0,maxOutputValue:0,baseClass:"remap-ranges-editor",_setRemapRangesAttr:function(a){var b=[],c;for(c in a)b.push([a[c],a[c].inputMin]);
b.sort(function(a,b){return a[1]-b[1]});a=[];for(var f in b)a.push(b[f][0]);var k=this,g;l.removeChildren(this);e.forEach(a,function(a){a.label||(a.label=a.inputMin+" - "+a.inputMax);g=new d({i18n:k.i18n,remapRange:a});g.setOutputRange(k.minOutputValue,k.maxOutputValue);k.addChild(g)})},getRemapRanges:function(){var a=[];e.forEach(this.getChildren(),function(b){a.push(b.getRemapRange())});return a}});return a([u,z,y,A,r],{i18n:null,templateString:f,baseClass:"weighted-overlay-layer-editor",_setOverlayLayerAttr:function(a){this.weightNode.set("value",
a.weight);this.labelNode.innerHTML=a.title;this.remapRangesEditor=new t({i18n:this.i18n,minOutputValue:0,maxOutputValue:9,remapRanges:a.remapRanges},this.remapRangesEditorContainer)},postCreate:function(){this.inherited(arguments);this.attachWeightingToggle();this.weightNode.rangeMessage=this.i18n.wro.validation.rangeMessage100},attachWeightingToggle:function(){p.set(this.remapRangesEditorWrapper,"display","none");var a=0;this.own(h(this.layerNode,"click",g.hitch(this,function(){0===a?(c.add(this.domNode,
"is-open"),v.wipeIn({node:this.remapRangesEditorWrapper}).play(),a=1):(c.remove(this.domNode,"is-open"),v.wipeOut({node:this.remapRangesEditorWrapper}).play(),a=0)})))},isValid:function(){return this.weightNode.isValid()},_onWeightChange:function(){var a=parseInt(this.weightNode.valueNode.value,10),a=isNaN(a)?0:a;this.overlayLayer.weight=a;this.emit("WeightChange",a)},_onFocus:function(){this.weightNode.focusNode.select()},_onBlur:function(){var a=parseInt(this.weightNode.valueNode.value,10);isNaN(a)&&
(this.weightNode.value=0,this.emit("WeightChange",a))}})})},"widgets/SuitabilityModeler/wro/Colormap":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/Colormap.html".split(" "),function(a,g,e,h,c,p,m,r,v){return a([p,m,r],{context:null,i18n:null,templateString:v,definition:null,showLabels:!0,postCreate:function(){this.inherited(arguments);this.showLabels||
(this.__lowNode.style.display="none",this.__highNode.style.display="none")},_addColor:function(a,g){var m=null,u=g.label,l=g.value;u&&(u=u.trim());l&&(l=(""+l).trim());u&&0<u.length&&l&&0<l.length?(m=this.i18n.util.colorRamp.tipPattern,m=m.replace("{label}",u),m=m.replace("{value}",l)):u&&0<u.length?m=u:l&&0<l.length&&(m=l);u=new e(g.rgb);l=h.create("span",{className:"modeler-color-ramp-color"});c.set(l,"backgroundColor",u.toCss());m&&0<m.length&&(l.title=m);a.appendChild(l)},_setDefinitionAttr:function(a){this.definition=
a;var c=this.__colorsNode;c.innerHTML="";this.definition.colors&&g.forEach(this.definition.colors,function(a){this._addColor(c,a)},this)}})})},"widgets/SuitabilityModeler/wro/wroUtil":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/Deferred","esri/layers/RasterFunction"],function(a,g,e,h){return{serverSideRasterFunctionName:"WeightedOverlay_7_1_9_colormap",applyItemDataRenderingRule:function(a,e,g){var c;try{this.isServerSideWRORule(g)?(c=new h,c.functionName=g.renderingRule.rasterFunction||
g.renderingRule.functionName,c.arguments=g.renderingRule.rasterFunctionArguments||g.renderingRule.arguments,c.variableName=g.renderingRule.variableName,a.setRenderingRule(c,!1)):g&&g.renderingRule&&e.supportsClientSideWRO&&(c=new h(g.renderingRule),a.setRenderingRule(c,!1))}catch(v){console.error(v)}},hasServerSideWROFunction:function(a){var c=this.serverSideRasterFunctionName;return a&&(this.isServerSideWRORule(a)||a.rasterFunctionInfos&&g.some(a.rasterFunctionInfos,function(a){if(a&&a.name===c)return!0}))?
!0:!1},isServerSideWRORule:function(a){var c=this.serverSideRasterFunctionName;return a&&a.renderingRule&&a.renderingRule.rasterFunction&&a.renderingRule.rasterFunction===c||a&&a.renderingRule&&a.renderingRule.functionName&&a.renderingRule.functionName===c?!0:!1},makeItemData:function(c,e){var g=c.designModelView.weightedOverlayService.modelToImageServiceLayer(e,{modelTitle:"New Model"}),h={};a.mixin(h,g);delete h.id;delete h.url;delete h.opacity;delete h.title;return h},newWROInfo:function(){return{isGETen3:!1,
isWROLayer:!1,isWROModel:!1,hasServerSideWROFunction:!1,supportsClientSideWRO:!1}},validateWROLayer:function(a,h,m,r,v){var c=new e,z="Title Url Description InputRanges OutputValues NoDataRanges RangeLabels NoDataRangeLabels".split(" "),p=!1;m.isGETen3=10.3<=h.version;m.hasServerSideWROFunction=this.hasServerSideWROFunction(h);if(m.isGETen3){h.allowRasterFunction||r.push(a.wro.validation.notAllowRasterFunction);h.defaultResamplingMethod&&"Nearest"===h.defaultResamplingMethod||r.push(a.wro.validation.notNearestResampling);
var A=[];h.fields&&(A=h.fields);g.forEach(z,function(c){g.some(A,function(a){return c===a.name})||r.push(a.wro.validation.missingFieldPattern.replace("{field}",c))});0<r.length&&!v&&(p=!1);p?h.getKeyProperties().then(function(e){"undefined"!==typeof e&&null!==e&&e.IsWeightedOverlay?m.supportsClientSideWRO=!0:r.push(a.wro.validation.notIsWeightedOverlayProp);c.resolve()},function(a){c.reject(a)}):(0===r.length&&(m.supportsClientSideWRO=!0),c.resolve())}else m.hasServerSideWROFunction||r.push(a.wro.validation.notAWroService),
c.resolve();return c},waitForLayer:function(a,h){var c=new e,p=[];if(a.loaded)return c.resolve(a),c;if(a.loadError)return c.reject(a.loadError),c;var v=function(){g.forEach(p,function(a){a.remove()})};p.push(a.on("load",function(a){v();c.resolve(a.layer)}));p.push(a.on("error",function(a){v();a=a.error;try{a.message&&-1!==a.message.indexOf("Unable to complete")?(console.warn("layerAccessError",a),c.reject(Error(h.wro.validation.inaccessible))):c.reject(a)}catch(z){c.reject(a)}}));return c}}})},"widgets/SuitabilityModeler/SaveModel":function(){define("dojo/_base/declare dojo/_base/array dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./SaveModel.html ./wro/PortalUtil dojo/i18n!./nls/strings".split(" "),
function(a,g,e,h,c,p,m,r){return a([e,h,c],{baseClass:"jimu-widget-suitability-modeler-save-model",i18n:r,templateString:p,dialog:null,itemData:null,layer:null,portal:null,portalUser:null,saveAs:!1,userContentUrl:null,username:null,wabWidget:null,postCreate:function(){this.inherited(arguments)},allowFolders:function(){return!this.saveAs&&this.layer.xtnWroItem&&this.layer.xtnWroItem.id?!1:!0},cancelClicked:function(){this.hide()},checkTags:function(a){var c="";a.split(",").forEach(function(a){a=a.trim();
0<a.length&&(0<c.length&&(c+=","),c+=a)});return c},hide:function(){var a=this;this.wroWidget.hideSavePanel().then(function(){a.destroyRecursive(!1)})},initUI:function(a){a&&!this.saveAs&&(this.summaryNode.value=a.snippet,this.descriptionNode.value=a.description,this.tagsNode.value=a.tags,this.titleNode.value=a.title)},okClicked:function(){this.validateAndSave()},populateFolders:function(a,c){var e=this;this.allowFolders()?a.user.getContent().then(function(a){a=a.folders;var h=new Option;h.value=
"";h.text=e.i18n.saveModel.homeFolderPattern.replace("{username}",e.username);e.folderSelect.add(h);g.forEach(a,function(a){var b=new Option;b.value=a.id;b.text=a.title;e.folderSelect.add(b)});c&&"string"===typeof c.folderId&&0<c.folderId.length&&(e.folderSelect.value=c.folderId)}):this.folderDiv.style.display="none"},show:function(){var a=this.wabWidget._wroWidget.savePanelNode,c=this.layer.xtnWroItem;this.populateFolders(this.portal,c);this.initUI(c);a.appendChild(this.domNode);this.wroWidget.showSavePanel()},
validateAndSave:function(){this.okButton.disabled=!0;var a=this.layer,c=null,e=this.username,g=this.folderSelect.value||"";this.messageNode.innerHTML="";var h=this.checkTags(this.tagsNode.value.trim());if(null===h||0===h.length)h="weightedOverlayModel";var l={type:"Image Service"};l.text=window.JSON.stringify(this.itemData);l.url=a.url;l.snippet=this.summaryNode.value.trim();l.description=this.descriptionNode.value.trim();l.tags=h;l.typeKeywords="geodesignModelerLayer";l.clearEmptyFields=!0;l.title=
this.titleNode.value.trim();if(0===l.title.length)this.okButton.disabled=!1;else{a.xtnWroItem&&!this.saveAs&&(c=a.xtnWroItem.id,g=a.xtnWroItem.folderId);var b={id:c,title:l.title,snippet:l.snippet,description:l.description,tags:l.tags,folderId:g},f=this;(new m({portal:this.portal,portalUser:this.portalUser,userContentUrl:this.userContentUrl})).saveItem(c,l,g,e).then(function(c){b.id=c.id;a.xtnWroItem=b;f.hide()}).otherwise(function(a){console.warn("Save Model failed.");console.warn(a);f.okButton.disabled=
!1;f.messageNode.innerHTML=f.i18n.saveModel.failed})}}})})},"widgets/SuitabilityModeler/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayWidget.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-select-layers" data-dojo-attach-point\x3d"selectLayersViewNode"\x3e\r\n    \x3cdiv class\x3d"header" data-dojo-attach-point\x3d"selectLayersViewHeader"\x3e\r\n      \x3cspan role\x3d"button" class\x3d"slider-toggle pull-right"\r\n        data-dojo-attach-point\x3d"transparentSliderToggle"\r\n        data-dojo-attach-event\x3d"onclick: showHideTransparencySlider"\r\n        \x3e${i18n.wro.transparency}\x26nbsp;\x3cspan class\x3d"esri-icon-down"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\r\n      \x3ch4\x3e\x3cspan class\x3d"bullet-number"\x3e1\x3c/span\x3e${i18n.wro.selectLayersCaption}\x3c/h4\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"selectLayersView" class\x3d"body"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"footer"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"jimu-btn btn-execute jimu-state-disabled"\r\n        data-dojo-attach-point\x3d"designModelButton"\r\n        data-dojo-attach-event\x3d"onclick:showDesignModelView"\r\n        \x3e${i18n.wro.designModel}\x26nbsp;\x3cspan class\x3d"esri-icon-right-arrow"\x3e\x3c/span\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-design-model" style\x3d"left: 100%" data-dojo-attach-point\x3d"designModelViewNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"designModelView"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"footer"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"jimu-btn jimu-btn-vacation btn-back pull-left"\r\n        data-dojo-attach-event\x3d"onclick:showSelectOverlayLayersView" \x3e\r\n        \x3cspan class\x3d"esri-icon-left"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"jimu-btn-text"\x3e${i18n.wro.selectLayers}\x3c/span\x3e\r\n      \x3c/button\x3e\r\n      \x3cdiv class\x3d"btn-group-spacer"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"btn-group pull-right"\x3e\r\n        \x3cbutton type\x3d"button" class\x3d"jimu-btn jimu-state-disabled"\r\n          data-dojo-attach-point\x3d"runModelButton"\r\n          data-dojo-attach-event\x3d"onclick:_onRunClick"\x3e${i18n.general.save}\x3c/button\x3e\r\n        \x3cbutton type\x3d"button" class\x3d"jimu-btn jimu-state-disabled"\r\n          data-dojo-attach-point\x3d"saveAsButton"\r\n          data-dojo-attach-event\x3d"onclick:_onSaveAsClick"\x3e${i18n.general.saveAs}\x3c/button\x3e\r\n        \x3cbutton type\x3d"button" class\x3d"jimu-btn"\r\n          data-dojo-attach-point\x3d"clearModelButton"\r\n          data-dojo-attach-event\x3d"onclick:_onClearClick"\x3e${i18n.general.clear}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-save-panel"\r\n    style\x3d"display:none;" data-dojo-attach-point\x3d"savePanelNode"\x3e\r\n  \x3c/div\x3e\r\n\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayLayerSelector.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cspan class\x3d"btn-group pull-right"\x3e\r\n    \x3cspan class\x3d"icon-button" role\x3d"button"\r\n      data-dojo-attach-point\x3d"btnPreview"\r\n      \x3e\x3ci class\x3d"esri-icon-globe"\x3e\x3c/i\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"icon-button" role\x3d"button"\r\n      data-dojo-attach-point\x3d"btnInfo"\r\n      \x3e\x3ci class\x3d"esri-icon-description"\x3e\x3c/i\x3e\x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3clabel\x3e\r\n    \x3cinput type\x3d"checkbox" name\x3d"wro-selected-layers"\r\n      data-dojo-type\x3d"dijit/form/CheckBox"\r\n      data-dojo-attach-point\x3d"chkModelLayer"/\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"txtLabel"\x3e\x3c/span\x3e\r\n  \x3c/label\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/RemapRangeEditor.html":'\x3ctr\x3e\r\n  \x3ctd class\x3d"${baseClass}-label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/td\x3e\r\n  \x3ctd\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"slider"\x3e\x3c/div\x3e\r\n  \x3c/td\x3e\r\n  \x3ctd\x3e\x3cinput type\x3d"text" class\x3d"${baseClass}-ouput-value"\r\n    data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n    data-dojo-attach-point\x3d"outputValueNode"\r\n    data-dojo-props\x3d"required:true"/\x3e\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayLayerEditor.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"layer-row"\x3e\r\n    \x3cdiv class\x3d"layer-row--value pull-right"\x3e\r\n      \x3cinput class\x3d"${baseClass}-weight" type\x3d"text"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"weightNode"\r\n        data-dojo-attach-event\x3d"onChange:_onWeightChange,onKeyUp:_onWeightChange,onMouseUp:_onFocus,onBlur:_onBlur"\r\n        data-dojo-props\x3d"constraints: {max: 100, min: 0, round:0},required:true"\r\n      /\x3e\x3cspan class\x3d"layer-row--value-mark"\x3e\x26#37;\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"layer-row--title" data-dojo-attach-point\x3d"layerNode" \x3e\r\n      \x3ci class\x3d"sliders-button pull-right" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/i\x3e\r\n      \x3clabel class\x3d"${baseClass}-label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"remapRangesEditorWrapper"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"remapRangesEditorContainer"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/Colormap.html":'\x3cspan class\x3d"modeler-color-ramp" style\x3d"width:100%;height:100%;"\r\n  data-dojo-attach-point\x3d"__ramp"\x3e\r\n  \x3cspan class\x3d"modeler-color-rampLabel"\r\n    data-dojo-attach-point\x3d"__lowNode" \x3e${i18n.util.colorRamp.low}\x3c/span\x3e\r\n  \x3cspan class\x3d"modeler-color-ramp-colors"\r\n    data-dojo-attach-point\x3d"__colorsNode"\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"modeler-color-rampLabel"\r\n    data-dojo-attach-point\x3d"__highNode"\x3e${i18n.util.colorRamp.high}\x3c/span\x3e\r\n\x3c/span\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayModelDesigner.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"header"\x3e\r\n    \x3cdiv class\x3d"model-colormap pull-right"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"colormapSelectorNode"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3ch4\x3e\x3cspan class\x3d"bullet-number"\x3e2\x3c/span\x3e${i18n.wro.designModelCaption}\x3c/h4\x3e\r\n    \x3cdiv class\x3d"layer-visibility"\x3e\r\n      \x3clabel\x3e${i18n.wro.visible}:\r\n        \x3cinput type\x3d"checkbox" disabled\x3d"disabled"\r\n          data-dojo-attach-point\x3d"visibleModelNode"  /\x3e\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e${i18n.wro.transparency}:\x3c/label\x3e\r\n      \x3cspan  class\x3d"modeler-transparency-slider" style\x3d"width:150px;"\r\n        data-dojo-attach-point\x3d"sliderNode"\r\n        data-dojo-type\x3d"dijit/form/HorizontalSlider"\r\n        data-dojo-props\x3d"minimum: 0, maximum:1, value: 0.0, intermediateChanges:true, showButtons:false" \x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"body"\x3e\r\n    \x3cdiv class\x3d"weighted-overlay-layer-editors"\r\n      data-dojo-attach-point\x3d"containerNode" \x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"weight-pct weight-pct-total"\x3e\r\n      \x3cdiv class\x3d"weight-pct-label"\x3e${i18n.wro.total}: \x3c/div\x3e\r\n      \x3cdiv class\x3d"weight-pct-total-wrapper"\r\n        data-dojo-attach-point\x3d"weightTotalWrapper" \x3e\r\n        \x3cspan data-dojo-attach-point\x3d"weightTotalNode"\x3e\x3c/span\x3e \x26#37;\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/SaveModel.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"header"\x3e\r\n    \x3ch4\x3e${i18n.saveModel.save}\x3c/h4\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"body"\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_title"\x3e${i18n.saveModel.title}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cinput id\x3d"${id}_title" type\x3d"text" class\x3d"jimu-input" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/input\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_summary"\x3e${i18n.saveModel.summary}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cinput id\x3d"${id}_summary" type\x3d"text" class\x3d"jimu-input" data-dojo-attach-point\x3d"summaryNode"\x3e\x3c/input\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_description"\x3e${i18n.saveModel.description}\x3clabel\x3e\x3c/span\x3e\r\n      \x3ctextarea id\x3d"${id}_description" class\x3d"jimu-input" data-dojo-attach-point\x3d"descriptionNode"\x3e\x3c/textarea\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_title"\x3e${i18n.saveModel.tags}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cinput id\x3d"${id}_tags" type\x3d"text" class\x3d"jimu-input" value\x3d"weightedOverlayModel, geodesign"\r\n        data-dojo-attach-point\x3d"tagsNode"\x3e\x3c/input\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row" data-dojo-attach-point\x3d"folderDiv"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_folderSelect"\x3e${i18n.saveModel.folder}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cselect id\x3d"${id}_folderSelect" class\x3d"folder-select-dropdown"\r\n        data-dojo-attach-point\x3d"folderSelect"\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"footer"\x3e\r\n    \x3cdiv class\x3d"message" data-dojo-attach-point\x3d"messageNode"\x3e\x3c/div\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"okButton"\r\n      class\x3d"jimu-btn"\r\n      data-dojo-attach-event\x3d"onClick: okClicked"\r\n      \x3e${i18n.saveModel.save}\r\n    \x3c/button\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"cancelButton"\r\n      class\x3d"jimu-btn"\r\n      data-dojo-attach-event\x3d"onClick: cancelClicked"\r\n      \x3e${i18n.general.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"widgetNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/SuitabilityModeler/css/style.css":'.jimu-widget-suitability-modeler {position: relative; height: 100%;}.jimu-widget-frame.jimu-container .jimu-widget-suitability-modeler {background: #fff; position: static;}.jimu-widget-suitability-modeler .pull-left {float: left;}.jimu-rtl .jimu-widget-suitability-modeler .pull-left {float: right;}.jimu-widget-suitability-modeler .pull-right {float: right;}.jimu-rtl .jimu-widget-suitability-modeler .pull-right {float: left;}.jimu-widget-suitability-modeler label {display: inline-block; max-width: 100%; margin-bottom: 5px;}.jimu-widget-suitability-modeler .jimu-input {color: inherit; font-size: 12px;}.jimu-widget-suitability-modeler textarea.jimu-input {min-height: 60px;}.jimu-widget-suitability-modeler .jimu-btn {font-size: 12px; border: 0;}.jimu-widget-suitability-modeler .jimu-btn .esri-icon-left {display: inline-block;}.jimu-rtl .esri-icon-left::before {content: "\\e62b";}.jimu-rtl .esri-icon-right-arrow::before {content: "\\e65a";}.jimu-widget-suitability-modeler .dijitCheckBox {width: 16px; height: 16px; display: inline-block; cursor: pointer; border-radius: 2px; background-image: url(images/checkbox_default.png); background-position: 0 0;}.jimu-rtl .jimu-widget-suitability-modeler .dijitCheckBox {margin-left: 2px; margin-right: 0;}.jimu-widget-suitability-modeler .dijitCheckBoxChecked {background-image: url(images/checked_default.png);}.jimu-widget-suitability-modeler .dijitCheckBoxDisabled {background-image: url(images/checkbox_disabled.png);}.jimu-widget-suitability-modeler .dijitCheckBoxCheckedDisabled {background-image: url(images/checked_disabled.png);}.jimu-widget-suitability-modeler .dijitDropDownButton {margin: 0;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode {background: transparent; border: 0; padding: 4px 0; color: #196fa6; font-weight: bold; box-shadow: none; border-radius: 0;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode .dijitButtonContents {border-color: transparent;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode .dijitInputField {padding: 0 5px;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode .dijitArrowButton {background: transparent; border: 0;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode.dijitSelectFocused .dijitArrowButton {padding: 0;}.jimu-widget-suitability-modeler .dijitArrowButtonInner {background-image: none;}.jimu-widget-suitability-modeler .dijitArrowButtonInner:after {content: "\\e681"; font-family: \'CalciteWebCoreIcons\' !important; speak: none; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;}.weighted-overlay-model-designer-popup {padding: 0; margin-left: -15px;}.jimu-rtl .weighted-overlay-model-designer-popup {margin-left: -auto; margin-right: -15px;}.weighted-overlay-model-designer-popup .dijitTooltipConnector {display: none;}.weighted-overlay-model-designer-popup .dijitTooltipContainer {padding: 10px; border-color: #ccc; -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0; -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);}.weighted-overlay-model-designer-popup.dijitMenuPopup {-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);}.weighted-overlay-model-designer-popup .dijitMenu {border-color: #ccc;}.weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItem td {padding: 10px 5px; border: 0;}.weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItemHover td, .weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItemActive td, .weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItemSelected td {background-color: #f4f4f4; background-image: none;}.weighted-overlay-model-designer-popup .dijitMenu .dijitSelectSelectedOption td, .weighted-overlay-model-designer-popup .dijitMenu .dijitSelectSelectedOption.dijitMenuItemHover td, .weighted-overlay-model-designer-popup .dijitMenu .dijitSelectSelectedOption.dijitMenuItemSelected td {background-color: #196fa6; background-image: none; color: #fff; font-weight: normal;}.weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItem td .dijitMenuExpand {display: none;}.weighted-overlay-widget, .weighted-overlay-pane {position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow-x: hidden; overflow-y: auto;}.weighted-overlay-pane {-webkit-transition: left 0.3s ease-out; transition: left 0.3s ease-out;}.jimu-rtl .weighted-overlay-pane {-webkit-transition-property: right; transition-property: right;}.weighted-overlay-widget {}.weighted-overlay-pane .header {border-bottom: 1px solid #e7e7e7; background: #f8f8f8; padding: 15px; max-height: 54px; position: relative;}.weighted-overlay-pane .header .bullet-number {display: inline-block; width: 20px; height: 20px; font-size: 12px; font-weight: normal; line-height: 20px; background-color: #0079c1; text-align: center; color: #fff; margin-right: 10px; border-radius: 50%;}.jimu-rtl .weighted-overlay-pane .header .bullet-number {margin-left: 10px; margin-right: auto;}.weighted-overlay-pane .header h4 {font-family: "Avenir Heavy"; font-size: 14px; line-height: 24px; margin: 0;}.weighted-overlay-pane .header .slider-toggle {line-height: 24px; cursor: pointer; opacity: 0.5;}.weighted-overlay-pane .header .slider-toggle:hover {opacity: 1;}.weighted-overlay-pane .body {padding: 0; position: absolute; top: 54px; width: 100%; bottom: 50px; overflow: auto; z-index: 1; -webkit-transition: top, 0.2s, ease; transition: top, 0.2s, ease;}.weighted-overlay-pane .footer {width: 100%; padding: 10px 15px; position: absolute; bottom: 0;}.width-smaller-than-350 .weighted-overlay-pane .footer .jimu-btn {min-width: 0;}.width-smaller-than-350 .weighted-overlay-pane .footer .jimu-btn .jimu-btn-text {display: none;}.weighted-overlay-pane .footer .btn-execute {width: 100%; text-align: center;}.weighted-overlay-pane .footer .btn-execute.jimu-btn {background-color: #59A700; color: #fff;}.weighted-overlay-pane .footer .btn-execute.jimu-btn.jimu-state-disabled {background-color: #ccc; color: #fff; cursor: not-allowed;}.weighted-overlay-pane .footer .btn-execute:hover {background-color: #417505;}.weighted-overlay-pane .footer .btn-execute:active {background-color: #59A700;}.weighted-overlay-pane .footer .btn-execute .esri-icon-right-arrow {display: inline-block;}.transparency-container {background-color: #efefef; border-bottom: 1px solid #e7e7e7; position: absolute; top: 54px; left: 0; right: 0; opacity: 0; -webkit-transition: opacity 0.2s ease 0.1s; transition: opacity 0.2s ease 0.1s;}.transparency-slider-show\x3e.panel-heading {padding-bottom: 55px; position: relative;}.transparency-slider-show .transparency-container {opacity: 1;}.transparency-slider-show .modeler-transparency-slider {display: inline-block; width: 100%; margin-left: 0; margin-right: 0; padding-left: 15px; padding-right: 15px;}.transparency-slider-show.weighted-overlay-pane .body {top: 96px;}.weighted-overlay-select-layers {z-index: 1;}.weighted-overlay-layer-selector {padding: 10px 15px; line-height: 20px; width: 100%;}.weighted-overlay-layer-selector:hover, .weighted-overlay-layer-selector:active {background: rgba(0, 0, 0, 0.05);}.weighted-overlay-layer-selector label {display: block; font-weight: 500; vertical-align: middle; white-space: normal; margin-left: 10px; margin-right: 10px; margin-bottom: 0;}.weighted-overlay-layer-selector .icon-button {display: inline-block; color: #808080; font-size: 14px; line-height: 1; padding: 0px 3px; cursor: pointer;}.weighted-overlay-layer-selector .icon-button:hover {color: #000;}.weighted-overlay-layer-selector .icon-button i {line-height: 20px;}.weighted-overlay-layer-selector .btn-group .btn-switch-toggle {margin: 8px 3px; height: 14px; width: 24px;}.weighted-overlay-layer-selector .btn-group .btn-switch-toggle::before {height: 10px; width: 10px;}.weighted-overlay-layer-selector .btn-group .btn-switch-toggle.checked::before {right: 12px;}.jimu-rtl .weighted-overlay-layer-selector .btn-group .btn-switch-toggle.checked::before {left: 12px; right: auto;}.modeler-color-ramp {vertical-align: top; display: block; font-size: smaller; font-weight: 400;}.modeler-color-ramp .modeler-color-ramp-colors {margin-left: 2px; margin-right: 2px;}.modeler-color-ramp .modeler-color-ramp-color {display: inline-block; width: 5px; height: 8px; margin-bottom: 2px;}.layer-visibility {display: none;}.weighted-overlay-design-model {z-index: 2;}.weighted-overlay-design-model [class^\x3d"col-"], .weighted-overlay-design-model [class*\x3d" col-"] {padding: 0;}.weighted-overlay-layer-editors {position: absolute; left: 0; right: 0; bottom: 70px; top: 0; overflow-y: auto;}.weighted-overlay-layer-editor .layer-row {padding: 10px 15px;}.weighted-overlay-layer-editor .layer-row--title {line-height: 30px; cursor: pointer;}.weighted-overlay-layer-editor .layer-row--title label {margin-right: 5px; margin-bottom: 0;}.weighted-overlay-layer-editor .layer-row--value {color: #808080;}.weighted-overlay-layer-editor .layer-row--value .dijitTextBox {width: 5em; text-align: center; margin: 0;}.weighted-overlay-layer-editor .layer-row--value-mark {display: inline-block; width: 16px; text-align: center;}.weighted-overlay-layer-editor .layer-row--value .dijitTextBox .dijitValidationContainer {display: none;}.weighted-overlay-layer-editor .layer-row .sliders-button {display: inline-block; width: 30px; height: 30px; background-image: url("images/sliders.png"); background-repeat: no-repeat; background-position: center; margin-left: 5px; margin-right: 5px;}.weighted-overlay-layer-editor .layer-row .sliders-button:hover, .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover.png");}.weighted-overlay-layer-editor.is-open .layer-row .sliders-button {position: relative;}.weighted-overlay-layer-editor.is-open .layer-row .sliders-button::before {content: "\\e609"; font-family: \'CalciteWebCoreIcons\' !important; speak: none; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-size: 12px; color: #000; position: absolute; bottom: -14px; left: 50%; margin-left: -6px;}@media (-webkit-min-device-pixel-ratio: 2) {.weighted-overlay-layer-editor .layer-row .sliders-button {background-image: url("images/sliders@2x.png"); background-size: 16px;} .weighted-overlay-layer-editor .layer-row .sliders-button:hover, .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover@2x.png"); background-size: 16px;}}.remap-ranges-editor {background-color: #f8f8f8; border-top: 1px solid #ccc; border-bottom: 1px solid #ccc; border-left: 3px solid #0079c1; padding: 10px 15px;}.jimu-rtl .remap-ranges-editor {border-left: 0; border-right: 3px solid #0079c1;}.remap-ranges-editor .dijitTextBox {float: right; width: 3em; margin-left: 5px; margin-right: 16px; text-align: center;}.jimu-rtl .remap-ranges-editor .dijitTextBox {float: left; margin-left: 16px; margin-right: 5px;}.remap-ranges-editor .dijitTextBox .dijitValidationContainer {display: none;}.remap-ranges-editor .dijitInputField {padding: 5px 0;}.remap-ranges-editor .dijitNumberTextBox .dijitInputInner {text-align: center;}.remap-ranges-editor-table {width: 100%; border-collapse: collapse;}.remap-ranges-editor-table\x3etbody\x3etr\x3etd {padding-bottom: 10px;}.reclass-range-editor .reclass-range-editor-label {width: 60%; color: #596679; font-weight: 500; font-size: smaller; padding-right: 5px;}.jimu-rtl .reclass-range-editor .reclass-range-editor-label {padding-left: 5px; padding-right: 0;}.reclass-range-editor .dijitSlider {width: 100%; min-width: 80px; margin: 0 5px;}.width-smaller-than-350 .reclass-range-editor .dijitSlider {min-width: 100px;}.modeler-transparency-slider {display: none; margin: 15px;}.alert-danger {background-color: #f3ded7; border-top: 1px solid #e4a793; border-bottom: 1px solid #e4a793;}.alert-success {background-color: #ddeedb; border-top: 1px solid #9bc19c; border-bottom: 1px solid #9bc19c;}.weight-pct-total {position: absolute; bottom: 0; left: 0; right: 0; font-weight: bold; padding: 10px 15px; margin-bottom: 24px; border-left: 0; border-right: 0;}.weight-pct-total .weight-pct-label {float: left;}.jimu-rtl .weight-pct-total .weight-pct-label {float: right;}.weight-pct-total .weight-pct-total-wrapper {float: right;}.jimu-rtl .weight-pct-total .weight-pct-total-wrapper {float: left;}.weighted-overlay-save-panel {background-color: rgba(255, 255, 255, 0.65); z-index: 3;}.jimu-widget-suitability-modeler-save-model {background: #fff; height: auto; margin: 10px; position: static; width: auto; box-shadow: 0 3px 15px rgba(0, 0, 0, 0.25); border: 1px solid rgba(0, 0, 0, 0.25);}.show-panel-animated .jimu-widget-suitability-modeler-save-model {-webkit-animation-name: fade-in-top; animation-name: fade-in-top; -webkit-animation-duration: .4s; animation-duration: .4s; -webkit-animation-timing-function: ease-in; animation-timing-function: ease-in;}.hide-panel-animated .jimu-widget-suitability-modeler-save-model {-webkit-animation-name: fade-out-top; animation-name: fade-out-top; -webkit-animation-duration: .4s; animation-duration: .4s; -webkit-animation-timing-function: ease-out; animation-timing-function: ease-out;}.jimu-widget-suitability-modeler-save-model .header {border-top: 2px solid #24b5cc;}.jimu-widget-suitability-modeler-save-model .body {position: static;}.jimu-widget-suitability-modeler-save-model .footer {position: static; text-align: right;}.jimu-rtl .jimu-widget-suitability-modeler-save-model .footer {text-align: left;}.jimu-widget-suitability-modeler-save-model .row {padding: 10px 15px;}.jimu-widget-suitability-modeler-save-model .row .lbl {display: inline-block; width: 100px;}.jimu-widget-suitability-modeler-save-model .row .jimu-input {width: 100%;}.jimu-widget-suitability-modeler-save-model .folder-select-dropdown {width: 55%;}.jimu-widget-suitability-modeler-save-model .action-bar {margin-top: 20px; margin-left: 100px;}.jimu-rtl .jimu-widget-suitability-modeler-save-model .action-bar {margin-left: auto; margin-right: 100px;}.jimu-widget-suitability-modeler-save-model .action-bar .message {margin-top: 10px; font-style: italic;}.BoxTheme .jimu-widget-suitability-modeler .jimu-btn {min-width: 0;}.DartTheme select {background-color: #4c4c4c; color: white;}.DartTheme .jimu-widget-frame.jimu-container .jimu-widget-suitability-modeler {background-color: transparent;}.DartTheme .weighted-overlay-pane .header {background-color: transparent;}.DartTheme .weighted-overlay-pane .header {padding: 10px 0; border-bottom-color: transparent;}.DartTheme .jimu-widget-suitability-modeler {margin: -10px;}.DartTheme .weighted-overlay-layer-selector {padding-left: 5px; padding-right: 5px;}.DartTheme .weighted-overlay-layer-selector .icon-button:hover {color: #fff;}.DartTheme .weighted-overlay-layer-editor .layer-row .sliders-button:hover,.DartTheme .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover_white.png");}.DartTheme .transparency-container {background-color: rgba(0, 0, 0, 0.2); border-bottom: 0;}.DartTheme .remap-ranges-editor {background-color: rgba(0, 0, 0, 0.2); border: 0;}.DartTheme .weighted-overlay-pane .footer {padding: 0;}.DartTheme .weighted-overlay-save-panel {background-color: rgba(0, 0, 0, 0.25);}.DartTheme .jimu-widget-suitability-modeler-save-model {background-color: #646464; height: auto; margin: 0; position: absolute; top: 5px; left: 0; right: 0; bottom: 5px; overflow: auto;}.DartTheme .jimu-widget-suitability-modeler-save-model .header,.DartTheme .jimu-widget-suitability-modeler-save-model .footer {padding: 5px 10px;}.DartTheme .alert-danger {background-color: #622721; border-top-color: #843117; border-bottom-color: #843117;}.DartTheme .alert-success {background-color: #285328; border-top-color: #376e37; border-bottom-color: #376e37;}.LaunchpadTheme .jimu-widget-suitability-modeler .dijitArrowButtonInner:after {content: none;}.LaunchpadTheme .model-colormap {margin-top: -5px;}.LaunchpadTheme .weighted-overlay-model-designer-popup {margin: 0;}.TabTheme .jimu-widget-sidebar-controller .weighted-overlay-pane .footer {padding: 0;}.TabTheme .jimu-widget-sidebar-controller .jimu-widget-suitability-modeler-save-model .footer {padding: 5px;}@media (-webkit-min-device-pixel-ratio: 2) {.DartTheme .weighted-overlay-layer-editor .layer-row .sliders-button:hover, .DartTheme .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover_white@2x.png");}}@-webkit-keyframes fade-in-top {from {opacity: 0; -webkit-transform: translate3d(0, -50px, 0);} to {opacity: 1; -webkit-transform: translate3d(0, 0, 0);}}@keyframes fade-in-top {from {opacity: 0; transform: translate3d(0, -50px, 0);} to {opacity: 1; transform: translate3d(0, 0, 0);}}@-webkit-keyframes fade-out-top {from {opacity: 1; -webkit-transform: translate3d(0, 0, 0);} to {opacity: 0; -webkit-transform: translate3d(0, -50px, 0);}}@keyframes fade-out-top {from {opacity: 1; transform: translate3d(0, 0, 0);} to {opacity: 0; transform: translate3d(0, -50px, 0);}}',
"*now":function(a){a(['dojo/i18n!*preload*widgets/SuitabilityModeler/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/dom-class dojo/Deferred jimu/portalUrlUtils jimu/portalUtils jimu/tokenUtils jimu/BaseWidget dijit/_WidgetsInTemplateMixin ./WroContext ./wro/PortalUtil ./wro/WeightedOverlayWidget ./wro/wroUtil ./SaveModel esri/layers/ArcGISImageServiceLayer".split(" "),function(a,g,e,h,c,p,m,r,v,u,z,y,A,l){return a([m,r],{name:"SuitabilityModeler",baseClass:"jimu-widget-suitability-modeler",_wroWidget:null,postCreate:function(){this.inherited(arguments)},onClose:function(){this.inherited(arguments);
if(this._wroWidget)this._wroWidget.onClose()},startup:function(){if(!this._started){this.inherited(arguments);this._checkConfig();var a=this,c=this.appConfig.portalUrl,e=!!this.config.allowSaveAs&&!!p.userHaveSignInPortal(c);e?this._getUser().then(function(b){b?b&&"1"===b.level&&(e=!1):e=!1;a._init(e,b)}):this._init(e,null);this.resize()}},resize:function(){350>this.domNode.clientWidth?g.add(this.domNode,"width-smaller-than-350"):g.remove(this.domNode,"width-smaller-than-350")},_checkConfig:function(){this.config||
(this.config={})},_getUser:function(){var a=new e,f=this.appConfig.portalUrl;p.userHaveSignInPortal(f)?c.getPortal(f).getUser().then(function(b){a.resolve(b)}).otherwise(function(b){console.warn("WeighterRasterOverlay._getUser error:",b);a.resolve(null)}):a.resolve(null);return a},_init:function(a,e){var b=this,d,f=this.config.modelItem;if(f&&"string"===typeof f.id&&0<f.id.length&&"string"===typeof f.url&&0<f.url.length){this.config.imageServiceUrl=f.url;var g=c.getPortal(this.appConfig.portalUrl),
h=new u({portal:g,portalUser:e,userContentUrl:null});h.readItem(f.id).then(function(a){d=a;return h.readItemJsonData(f.id)}).then(function(c){b._load(a,e,d,c)}).otherwise(function(c){console.warn("Error loading WRO item",f.id);console.error(c);b._load(a,e)})}else this._load(a,e)},_load:function(a,e,g,d){var b=this,f=this.nls,n=c.getPortal(this.appConfig.portalUrl),q=new v({allowSaveAs:a,getMap:function(){return b.map}});this._wroWidget=new z({context:q,i18n:f},this.widgetNode);this._wroWidget.startup();
var m,p,r=[],u=y.newWROInfo(),B=f.wro.validation.invalidItemCaption;"string"===typeof this.config.imageServiceUrl&&(m=this.config.imageServiceUrl.trim(),m=q.checkMixedContent(m),p=new l(m,{id:q.generateRandomId()}),p.setVisibility(!1),g&&(p._wabProperties={itemLayerInfo:{itemId:g.id,itemUrl:n+"/sharing/rest/content/items/"+encodeURIComponent(g.id),portalUrl:n.portalUrl}}),y.waitForLayer(p,f).then(function(){return y.validateWROLayer(f,p,u,r,!1)}).then(function(){0<r.length?q.showMessages(B,m,r):(y.applyItemDataRenderingRule(p,
u,d),b.map.addLayer(p),b._wroWidget.set("imageServiceLayer",p))}).otherwise(function(a){console.warn("Error loading WRO layer",m);console.error(a);a.message?q.showMessages(B,m,[a.message]):q.showMessages(B,m,[f.wro.validation.inaccessible])}));this.own(this._wroWidget.designModelView.on("model-run",function(c){if(a&&c&&c.options&&c.options.saveAs){c=y.makeItemData(b._wroWidget,c.model);var d=h.getUserContentUrl(n.portalUrl,e.username);(new A({itemData:c,layer:p,portal:n,portalUser:e,saveAs:!0,userContentUrl:d,
username:e.username,wabWidget:b,wroWidget:b._wroWidget})).show()}}))}})});