// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/SuitabilityModeler/WroContext":function(){define(["dojo/_base/declare","./wro/Context","jimu/dijit/Message"],function(m,p,f){return m([p],{showError:function(f,b){b&&b.message?this.showMessage(f,b.message):this.showMessage(f,b)},showMessage:function(h,b){new f({titleLabel:h,message:b})},showMessages:function(h,b,e){var c,a,g;c=document.createElement("div");"string"===typeof b&&0<b.length&&(a=document.createElement("p"),a.appendChild(document.createTextNode(b)),c.appendChild(a));
a=document.createElement("ul");c.appendChild(a);for(b=0;b<e.length;b++)g=document.createElement("li"),g.appendChild(document.createTextNode(e[b])),a.appendChild(g);new f({titleLabel:h,message:c})}})})},"widgets/SuitabilityModeler/wro/Context":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(m,p){return m([],{allowSaveAs:!0,i18n:null,constructor:function(f){p.mixin(this,f)},checkMixedContent:function(f){"string"===typeof window.location.href&&0===window.location.href.indexOf("https://")&&
"string"===typeof f&&0===f.indexOf("http://")&&(f="https:"+f.substring("5"));return f},generateRandomId:function(){var f=null,f="function"===typeof Date.now?Date.now():(new Date).getTime(),h=(""+Math.random()).replace("0.","r");return(f+""+h).replace(/-/g,"")},getMap:function(){return null},showError:function(f,h){console.warn("wro/Context.showError",f,h)},showMessage:function(f,h){console.warn("wro/Context.showMessage",f,h)},showMessages:function(f,h,b){console.warn("wro/Context.showMessages",f,
h,b)}})})},"widgets/SuitabilityModeler/wro/wroUtil":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/Deferred","esri/layers/RasterFunction"],function(m,p,f,h){return{serverSideRasterFunctionName:"WeightedOverlay_7_1_9_colormap",applyItemDataRenderingRule:function(b,e,c){var a;try{this.isServerSideWRORule(c)?(a=new h,a.functionName=c.renderingRule.rasterFunction||c.renderingRule.functionName,a.arguments=c.renderingRule.rasterFunctionArguments||c.renderingRule.arguments,a.variableName=
c.renderingRule.variableName,b.setRenderingRule(a,!1)):c&&c.renderingRule&&e.supportsClientSideWRO&&(a=new h(c.renderingRule),b.setRenderingRule(a,!1))}catch(g){console.error(g)}},hasServerSideWROFunction:function(b){var e=this.serverSideRasterFunctionName;return b&&(this.isServerSideWRORule(b)||b.rasterFunctionInfos&&p.some(b.rasterFunctionInfos,function(b){if(b&&b.name===e)return!0}))?!0:!1},isServerSideWRORule:function(b){var e=this.serverSideRasterFunctionName;return b&&b.renderingRule&&b.renderingRule.rasterFunction&&
b.renderingRule.rasterFunction===e||b&&b.renderingRule&&b.renderingRule.functionName&&b.renderingRule.functionName===e?!0:!1},makeItemData:function(b,e){var c=b.designModelView.weightedOverlayService.modelToImageServiceLayer(e,{modelTitle:"New Model"}),a={};m.mixin(a,c);delete a.id;delete a.url;delete a.opacity;delete a.title;return a},newWROInfo:function(){return{isGETen3:!1,isWROLayer:!1,isWROModel:!1,hasServerSideWROFunction:!1,supportsClientSideWRO:!1}},validateWROLayer:function(b,e,c,a,g){var q=
new f,k="Title Url Description InputRanges OutputValues NoDataRanges RangeLabels NoDataRangeLabels".split(" "),h=!1;c.isGETen3=10.3<=e.version;c.hasServerSideWROFunction=this.hasServerSideWROFunction(e);if(c.isGETen3){e.allowRasterFunction||a.push(b.wro.validation.notAllowRasterFunction);e.defaultResamplingMethod&&"Nearest"===e.defaultResamplingMethod||a.push(b.wro.validation.notNearestResampling);var m=[];e.fields&&(m=e.fields);p.forEach(k,function(c){p.some(m,function(a){return c===a.name})||a.push(b.wro.validation.missingFieldPattern.replace("{field}",
c))});0<a.length&&!g&&(h=!1);h?e.getKeyProperties().then(function(n){"undefined"!==typeof n&&null!==n&&n.IsWeightedOverlay?c.supportsClientSideWRO=!0:a.push(b.wro.validation.notIsWeightedOverlayProp);q.resolve()},function(a){q.reject(a)}):(0===a.length&&(c.supportsClientSideWRO=!0),q.resolve())}else c.hasServerSideWROFunction||a.push(b.wro.validation.notAWroService),q.resolve();return q},waitForLayer:function(b,e){var c=new f,a=[];if(b.loaded)return c.resolve(b),c;if(b.loadError)return c.reject(b.loadError),
c;var g=function(){p.forEach(a,function(a){a.remove()})};a.push(b.on("load",function(a){g();c.resolve(a.layer)}));a.push(b.on("error",function(a){g();a=a.error;try{a.message&&-1!==a.message.indexOf("Unable to complete")?(console.warn("layerAccessError",a),c.reject(Error(e.wro.validation.inaccessible))):c.reject(a)}catch(k){c.reject(a)}}));return c}}})},"jimu/dijit/ItemSelector":function(){define("dojo/_base/declare dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ItemSelector.html dojo/Evented dojo/_base/lang dojo/_base/config dojo/_base/array dojo/_base/html dojo/_base/Deferred dojo/promise/all dojo/query dojo/on jimu/utils jimu/portalUtils jimu/tokenUtils jimu/portalUrlUtils jimu/dijit/ViewStack jimu/dijit/Search jimu/dijit/TabContainer3 jimu/dijit/_ItemTable".split(" "),
function(m,p,f,h,b,e,c,a,g,q,k,x,u,n,l,r,w,t,v,z,A,y,B){return m([f,h,b,c],{templateString:e,declaredClass:"jimu.dijit.ItemSelector",baseClass:"jimu-item-selector",tab:null,_user:null,_group:null,_allPublicPortalQuery:null,_filterPublicPortalQuery:null,_allPublicOnlineQuery:null,_filterPublicOnlineQuery:null,_allOrganizationQuery:null,_filterOrganizationQuery:null,_allMyContentQuery:null,_filterMyContentQuery:null,_allGroupQuery:null,_filterGroupQuery:null,_isPublicTabShow:!1,_signIn:!1,_itemTypeQueryString:"",
_typeKeywordQueryString:"",portalUrl:null,itemTypes:"",typeKeywords:"",showOnlineItems:!0,onlyShowOnlineFeaturedItems:!1,postMixInProperties:function(){this.portalUrl=v.getStandardPortalUrl(this.portalUrl);this.showOnlineItems=!1===this.showOnlineItems?!1:!0;this.itemTypes&&0<this.itemTypes.length||(this.itemTypes=[]);this._itemTypes="";q.forEach(this.itemTypes,a.hitch(this,function(d,a){this._itemTypes+='"'+d+'"';a!==this.itemTypes.length-1&&(this._itemTypes+=",")}));this._itemTypes="["+this._itemTypes+
"]";this.typeKeywords&&0<this.typeKeywords.length||(this.typeKeywords=[]);this._typeKeywords="";q.forEach(this.typeKeywords,a.hitch(this,function(d,a){this._typeKeywords+='"'+d+'"';a!==this.typeKeywords.length-1&&(this._typeKeywords+=",")}));this._typeKeywords="["+this._typeKeywords+"]";this.nls=window.jimuNls.itemSelector},postCreate:function(){this.inherited(arguments);var d=this._getPortalUrl();this.portal=w.getPortal(d);this._initOptions();this._initSearchQuery();this._initTabs();this._initPortalRadio();
this._initItemTables();this._initPublic();this._initPrivate();this._updateUIbySignIn()},_initOptions:function(){this._itemTypeQueryString=r.getItemQueryStringByTypes(this.itemTypes);this._typeKeywordQueryString=r.getItemQueryStringByTypeKeywords(this.typeKeywords)},_initTabs:function(){this.tab=new y({tabs:[{title:this.nls.myContent,content:this.mycontentTabNode},{title:this.nls.myOrganization,content:this.organizationTabNode},{title:this.nls.myGroup,content:this.groupTabNode},{title:this.nls.publicMap,
content:this.publicTabNode}]},this.tabNode);this.own(l(this.tab,"tabChanged",a.hitch(this,function(d){k.setStyle(this.signinSection,"display","none");d!==this.nls.publicMap?(this._isPublicTabShow=!1,this._updateUIbySignIn()):this._isPublicTabShow=!0})))},_updateUIbySignIn:function(){k.setStyle(this.signinSection,"display","none");var d=n(".organization-tab-content-main,.group-tab-content-main,.mycontent-tab-content-main",this.domNode);t.userHaveSignInPortal(this._getPortalUrl())?d.style("display",
"block"):(d.style("display","none"),this._isPublicTabShow||k.setStyle(this.signinSection,"display","block"))},_initPortalRadio:function(){r.combineRadioCheckBoxWithLabel(this.portalPublicRaido,this.portalPublicLabel);r.combineRadioCheckBoxWithLabel(this.onlinePublicRaido,this.onlinePublicLabel);var d=this._getPortalUrl(),d=v.getServerByUrl(d);this.portalPublicRaido.disabled=!1;this.onlinePublicRaido.disabled=!1;this.portalPublicRaido.checked=!0;var a=!1;v.isArcGIScom(d)?(a=!0,this.portalPublicLabel.innerHTML=
"ArcGIS.com"):(this.portalPublicLabel.innerHTML=d,a=this.showOnlineItems?!1:!0);a&&(this.onlinePublicRaido.disabled=!0,k.setStyle(this.onlinePublicRaido,"display","none"),k.setStyle(this.onlinePublicLabel,"display","none"))},_initSearchQuery:function(){var d="esri_"+(g.locale&&g.locale.slice(0,2)||"en").toLowerCase(),b=q.filter("esri_he esri_fr esri_ja esri_nl esri_th esri_tr esri_nb esri_ro esri_it esri_pl esri_po esri_ru esri_pt esri_en esri_ar esri_et esri_es esri_ko esri_cs esri_da esri_zh esri_sv esri_lt esri_fi esri_lv esri_de esri_vi".split(" "),
a.hitch(this,function(a){return a!==d})),c="";q.forEach(b,a.hitch(this,function(a){c+=" -owner:"+a+" "}));b=" ";this.portal&&this.portal.user&&this.portal.user.orgId&&(b=" orgid:"+this.portal.user.orgId+" ");b=b+this._itemTypeQueryString+" AND access:public "+c+" "+this._typeKeywordQueryString;this._allPublicPortalQuery=this._getQuery({sortField:"numViews",sortOrder:"desc",q:b});this._filterPublicPortalQuery=this._getQuery({q:b,basicQ:b});this._allPublicOnlineQuery=this._getQuery({sortField:"numViews",
sortOrder:"desc",q:(this.onlyShowOnlineFeaturedItems?' (group:"c755678be14e4a0984af36a15f5b643e"  OR group:"b8787a74b4d74f7fb9b8fac918735153") ':" ")+this._itemTypeQueryString+" AND access:public "+this._typeKeywordQueryString});this._filterPublicOnlineQuery=this._getQuery({q:this._itemTypeQueryString+" AND access:public "+this._typeKeywordQueryString});this._allOrganizationQuery=this._getQuery();this._filterOrganizationQuery=this._getQuery();this._allMyContentQuery=this._getQuery();this._filterMyContentQuery=
this._getQuery();this._allGroupQuery=this._getQuery();this._filterGroupQuery=this._getQuery()},_getQuery:function(d){return a.mixin({start:1,num:16,f:"json"},d||{})},_getPortalUrl:function(){return v.getStandardPortalUrl(this.portalUrl)},_initItemTables:function(){"function"===typeof this.onCreateItemContent&&(this.mycontentItemTable.onCreateItemContent=this.onCreateItemContent,this.organizationItemTable.onCreateItemContent=this.onCreateItemContent,this.groupItemTable.onCreateItemContent=this.onCreateItemContent,
this.publicPortalItemTable.onCreateItemContent=this.onCreateItemContent,this.publicOnlineItemTable.onCreateItemContent=this.onCreateItemContent);this.own(l(this.publicPortalItemTable,"item-dom-clicked",a.hitch(this,this._onItemDomClicked)));this.own(l(this.publicOnlineItemTable,"item-dom-clicked",a.hitch(this,this._onItemDomClicked)));this.own(l(this.organizationItemTable,"item-dom-clicked",a.hitch(this,this._onItemDomClicked)));this.own(l(this.groupItemTable,"item-dom-clicked",a.hitch(this,this._onItemDomClicked)));
this.own(l(this.mycontentItemTable,"item-dom-clicked",a.hitch(this,this._onItemDomClicked)));this.own(l(this.publicPortalItemTable,"update",a.hitch(this,this._onItemTableUpdate)));this.own(l(this.publicOnlineItemTable,"update",a.hitch(this,this._onItemTableUpdate)));this.own(l(this.organizationItemTable,"update",a.hitch(this,this._onItemTableUpdate)));this.own(l(this.groupItemTable,"update",a.hitch(this,this._onItemTableUpdate)));this.own(l(this.mycontentItemTable,"update",a.hitch(this,this._onItemTableUpdate)));
var d=this._getPortalUrl();this.portalPublicRaido.disabled||(this.publicPortalItemTable.set("portalUrl",d),this.publicPortalItemTable.searchAllItems(this._allPublicPortalQuery),this.publicPortalItemTable.set("filteredQuery",this._filterPublicPortalQuery));this.onlinePublicRaido.disabled||(this.publicOnlineItemTable.set("portalUrl",window.location.protocol+"//www.arcgis.com"),this.publicOnlineItemTable.searchAllItems(this._allPublicOnlineQuery),this.publicOnlineItemTable.set("filteredQuery",this._filterPublicOnlineQuery))},
_initPublic:function(){this.own(l(this.portalPublicRaido,"click",a.hitch(this,this._onPublicRaidoClicked)));this.own(l(this.onlinePublicRaido,"click",a.hitch(this,this._onPublicRaidoClicked)));this._onPublicRaidoClicked()},_onPublicRaidoClicked:function(){this.portalPublicRaido.checked?(this.publicPortalItemTable.show(),this.publicOnlineItemTable.hide()):this.onlinePublicRaido.checked&&(this.publicPortalItemTable.hide(),this.publicOnlineItemTable.show())},_onPublicSearch:function(d){(d=d&&a.trim(d))?
(this.publicPortalItemTable.showFilterItemsSection(),this.publicOnlineItemTable.showFilterItemsSection(),this.portalPublicRaido.checked?(this._filterPublicPortalQuery.q=d+" "+this._filterPublicPortalQuery.basicQ,this._filterPublicPortalQuery.start=1,this.publicPortalItemTable.searchFilteredItems(this._filterPublicPortalQuery)):this.onlinePublicRaido.checked&&(this._filterPublicOnlineQuery.q=d+" "+this._itemTypeQueryString+" AND access:public "+this._typeKeywordQueryString,this._filterPublicOnlineQuery.start=
1,this.publicOnlineItemTable.searchFilteredItems(this._filterPublicOnlineQuery))):(this.publicPortalItemTable.showAllItemsSection(),this.publicOnlineItemTable.showAllItemsSection())},_initPrivate:function(){this._resetPortalMaps();this.own(l(this.groupsSelect,"change",a.hitch(this,this._onGroupsSelectChange)));var d=v.getServerByUrl(this._getPortalUrl());v.isArcGIScom(d)&&(d="ArcGIS.com");t.userHaveSignInPortal(this._getPortalUrl())&&this._onSignIn()},_onOrganizationSearch:function(d){if(d=d&&a.trim(d)){if(this._allOrganizationQuery){var b=
this._allOrganizationQuery.q;b&&(this._filterOrganizationQuery.q=d+" "+b,this._filterOrganizationQuery.start=1,this.organizationItemTable.searchFilteredItems(this._filterOrganizationQuery))}}else this.organizationItemTable.showAllItemsSection()},_onMyContentSearch:function(d){if(d=d&&a.trim(d)){if(this._allMyContentQuery){var b=this._allMyContentQuery.q;b&&(this._filterMyContentQuery.q=d+" "+b,this._filterMyContentQuery.start=1,this.mycontentItemTable.searchFilteredItems(this._filterMyContentQuery))}}else this.mycontentItemTable.showAllItemsSection()},
_onGroupSearch:function(d){if(d=d&&a.trim(d)){if(this._allGroupQuery){var b=this._allGroupQuery.q;b&&(this._filterGroupQuery.q=d+" "+b,this._filterGroupQuery.start=1,this.groupItemTable.searchFilteredItems(this._filterGroupQuery))}}else this.groupItemTable.showAllItemsSection()},_onSignIn:function(){this._updateUIbySignIn();if(!this._signIn){this._signIn=!0;var d=this._getPortalUrl();w.getPortal(d).getUser().then(a.hitch(this,function(a){this.domNode&&(this._resetPortalMaps(),this._searchOrganization(a),
this._searchMyContent(a),this._searchGroups(a))}))}},_onSignOut:function(){this._signIn=!1;this._resetPortalMaps();this._updateUIbySignIn()},_resetPortalMaps:function(){this.organizationItemTable.clear();this.mycontentItemTable.clear();this._resetGroupsSection()},_searchOrganization:function(a){this.organizationItemTable.clear();a=" orgid:"+a.orgId+" AND "+this._itemTypeQueryString+" AND (access:org OR access:public) "+this._typeKeywordQueryString;var d=this._getPortalUrl();this._allOrganizationQuery=
this._getQuery({q:a});this._filterOrganizationQuery=this._getQuery({q:a});this.organizationItemTable.set("portalUrl",d);this.organizationItemTable.searchAllItems(this._allOrganizationQuery)},_searchMyContent:function(a){this.mycontentItemTable.clear();var d=this._getPortalUrl();a="owner:"+a.username+" AND "+this._itemTypeQueryString+" "+this._typeKeywordQueryString;this._allMyContentQuery=this._getQuery({q:a});this._filterMyContentQuery=this._getQuery({q:a});this.mycontentItemTable.set("portalUrl",
d);this.mycontentItemTable.searchAllItems(this._allMyContentQuery)},_searchGroups:function(a){this._resetGroupsSection();k.setStyle(this.groupsSection,"display","block");a=a.getGroups();if(0<a.length){k.setStyle(this.groupSearch.domNode,"display","block");this.groupItemTable.show();k.empty(this.groupsSelect);for(var b=0;b<a.length;b++){var d=a[b];k.create("option",{value:d.id,innerHTML:d.title},this.groupsSelect)}this._onGroupsSelectChange()}this._updateUIbyGroups(a.length)},_resetGroupsSection:function(){k.setStyle(this.groupsSection,
"display","none");k.empty(this.groupsSelect);k.create("option",{value:"nodata",innerHTML:this.nls.noneGroups},this.groupsSelect);this.groupItemTable.clear();k.setStyle(this.groupSearch.domNode,"display","none");this.groupItemTable.hide();this._updateUIbyGroups(0)},_updateUIbyGroups:function(a){0===a?k.setStyle(this.groupsSection,"top","15px"):k.setStyle(this.groupsSection,"top","50px")},_onGroupsSelectChange:function(){var a=this.groupsSelect.value;this.groupItemTable.clear();if("nodata"===a)k.setStyle(this.groupSearch,
"display","none"),this.groupItemTable.hide();else{k.setStyle(this.groupSearch,"display","block");this.groupItemTable.show();var b=this._getPortalUrl(),a="group:"+a+" AND "+this._itemTypeQueryString+" "+this._typeKeywordQueryString;this._allGroupQuery=this._getQuery({q:a});this._filterGroupQuery=this._getQuery({q:a});this.groupItemTable.set("portalUrl",b);this.groupItemTable.searchAllItems(this._allGroupQuery)}},_onItemTableUpdate:function(){this.emit("update")},_onItemDomClicked:function(a){var b=
k.hasClass(a,"jimu-state-active");n(".item.jimu-state-active",this.domNode).removeClass("jimu-state-active");b&&k.addClass(a,"jimu-state-active");(a=this.getSelectedItem())?this.emit("item-selected",a):this.emit("none-item-selected")},getSelectedItem:function(){var b=null,c=n(".item.jimu-state-active",this.domNode);0<c.length&&(b=a.mixin({},c[0].item));return b}})})},"jimu/dijit/_ItemTable":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/_ItemTable.html dojo/Evented dojo/_base/lang dojo/_base/array dojo/_base/html dojo/_base/Deferred dojo/query dojo/on jimu/utils jimu/portalUtils jimu/portalUrlUtils jimu/dijit/LoadingIndicator".split(" "),
function(m,p,f,h,b,e,c,a,g,q,k,x,u,n,l,r){return m([p,f,h,e],{templateString:b,declaredClass:"jimu.dijit.ItemTable",baseClass:"jimu-item-table",query:null,filteredQuery:null,portalUrl:null,hidden:!1,nls:null,types:"",typeKeywords:"",_defaultThumbnail:{"Web Mapping Application":"webapp.png","Mobile Application":"mobileapp.png"},postMixInProperties:function(){this.nls=window.jimuNls.itemSelector},postCreate:function(){this.inherited(arguments);this._initSelf()},_initSelf:function(){this.types&&0<this.types.length||
(this.types=[]);(this.hidden=!0===this.hidden)&&this.hide();this.portalUrl&&(this.portalUrl=l.getStandardPortalUrl(this.portalUrl));this.showAllItemsSection();this.searchAllItems()},show:function(){g.setStyle(this.domNode,"display","block")},hide:function(){g.setStyle(this.domNode,"display","none")},searchAllItems:function(a){this.showAllItemsSection();a&&(this.query=c.mixin({},a),this.query.start=1,this.clearAllItemsSection());this.portalUrl&&this.query&&0<this.query.start&&(this.allItemsShelter.show(),
n.getPortal(this.portalUrl).queryItems(this.query).then(c.hitch(this,function(a){this.domNode&&(this.allItemsShelter.hide(),this.query.start=a.nextStart,this._createItems(a,this.allItemTbody))}),c.hitch(this,function(a){console.error(a);this.domNode&&this.allItemsShelter.hide()})))},searchFilteredItems:function(a){this.showFilterItemsSection();a&&(this.filteredQuery=c.clone(a),this.filteredQuery.start=1,this.clearFilteredItemsSection());this.portalUrl&&this.filteredQuery&&0<this.filteredQuery.start&&
(this.filteredItemShelter.show(),n.getPortal(this.portalUrl).queryItems(this.filteredQuery).then(c.hitch(this,function(b){this.domNode&&(this.showFilterItemsSection(),a&&this.clearFilteredItemsSection(),this.filteredQuery.start=b.nextStart,this._createItems(b,this.filteredItemsTbody),this._filterItemCallback())}),c.hitch(this,function(a){console.error(a);this.domNode&&this._filterItemCallback()})))},_filterItemCallback:function(){this.filteredItemShelter.hide();0<this._getItemCount(this.filteredItemsTbody)?
(g.setStyle(this.filteredItemsTableDiv,"display","block"),g.setStyle(this.searchNoneTipSection,"display","none")):(g.setStyle(this.filteredItemsTableDiv,"display","none"),g.setStyle(this.searchNoneTipSection,"display","block"))},clear:function(){this.clearAllItemsSection();this.clearFilteredItemsSection()},clearAllItemsSection:function(){g.empty(this.allItemTbody)},clearFilteredItemsSection:function(){g.empty(this.filteredItemsTbody)},showAllItemsSection:function(){g.setStyle(this.allItemsSection,
"display","block");g.setStyle(this.filteredItemsSection,"display","none")},showFilterItemsSection:function(){g.setStyle(this.allItemsSection,"display","none");g.setStyle(this.filteredItemsSection,"display","block");g.setStyle(this.filteredItemsTableDiv,"display","block");g.setStyle(this.searchNoneTipSection,"display","none")},_onAllItemsSectionScroll:function(){this._isScrollToBottom(this.allItemsTableDiv)&&this.searchAllItems()},_onFilteredItemsSectionScroll:function(){this._isScrollToBottom(this.filteredItemsTableDiv)&&
this.searchFilteredItems()},_isScrollToBottom:function(a){return u.isScrollToBottom(a)},_createItems:function(b,n){var l=b.results,w=a.map(this.types,c.hitch(this,function(a){return a.toLowerCase()})),l=a.filter(l,c.hitch(this,function(b){b=b.type&&b.type.toLowerCase()||"";return 0<=a.indexOf(w,b)}));if(0!==l.length){var e,t=k("td.empty",n),f;if(0<t.length){var d=Math.min(l.length,t.length),h=l.splice(0,d);for(f=0;f<d;f++){var m=t[f];e=this._createItem(h[f]);g.place(e,m);g.removeClass(m,"empty")}}if(0!==
l.length){t=Math.ceil(l.length/2);for(f=0;f<t;f++)for(e=g.toDom("\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e"),g.place(e,n),d=k("td",e),h=0;h<d.length;h++)m=d[h],(e=l[2*f+h])?(e=this._createItem(e),g.place(e,m)):g.addClass(m,"empty");this.emit("update")}}},_getItemCount:function(a){return k(".item",a).length},_createItem:function(a){var b=g.toDom('\x3cdiv class\x3d"item"\x3e\x3cdiv class\x3d"item-border"\x3e\x3c/div\x3e\x3cdiv class\x3d"item-thumbnail jimu-auto-vertical"\x3e\x3cdiv class\x3d"none-thumbnail-tip jimu-auto-vertical-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"item-info"\x3e\x3cdiv class\x3d"item-name"\x3e\x3c/div\x3e\x3cdiv class\x3d"item-type-owner"\x3e\x3c/div\x3e\x3cdiv class\x3d"item-date"\x3e\x3c/div\x3e\x3ca class\x3d"item-details" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
b.item=a;var c=k(".item-thumbnail",b)[0],n=k(".item-name",b)[0],l=k(".item-type-owner",b)[0],e=k(".item-date",b)[0],f=k(".item-details",b)[0],d=k(".none-thumbnail-tip",b)[0];if(!a.thumbnailUrl){var h=this._defaultThumbnail[a.type];h&&(a.thumbnailUrl=require.toUrl("jimu")+"/images/"+h)}a.thumbnailUrl?g.setStyle(c,"backgroundImage","url("+a.thumbnailUrl+")"):d.innerHTML=this.nls.noneThumbnail;"function"===typeof this.onCreateItemContent?(e=k(".item-info",b)[0],this.onCreateItemContent(a,e)):(n.innerHTML=
a.title,n.title=n.innerHTML,l.innerHTML=a.type+" by "+a.owner,l.title=l.innerHTML,c=new Date,c.setTime(a.modified),e.innerHTML=c.toLocaleString(),e.title=e.innerHTML,f.innerHTML=this.nls.moreDetails,f.href=a.detailsPageUrl||"#");return b},_onItemsTableClicked:function(a){var b=a.target||a.srcElement;a=null;g.hasClass(b,"item-thumbnail")?a=b.parentNode:g.hasClass(b,"none-thumbnail-tip")&&(a=b.parentNode.parentNode);a&&(b=g.hasClass(a,"jimu-state-active"),k(".item.jimu-state-active",this.domNode).removeClass("jimu-state-active"),
b?g.removeClass(a,"jimu-state-active"):g.addClass(a,"jimu-state-active"),this.emit("item-dom-clicked",a))},getSelectedItem:function(){var a=null,b=k(".item.jimu-state-active",this.domNode);0<b.length&&(a=c.mixin({},b[0].item));return a}})})},"widgets/SuitabilityModeler/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:jimu/dijit/templates/ItemSelector.html":'\r\n\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"setting-tab-container"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"tabNode"\x3e\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content mycontent-tab" data-dojo-attach-point\x3d"mycontentTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main mycontent-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mycontentSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onMyContentSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mycontentItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\'style\x3d"top:50px;"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content organization-tab" data-dojo-attach-point\x3d"organizationTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main organization-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"organizationSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onOrganizationSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"organizationItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\' style\x3d"top:50px;"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content group-tab" data-dojo-attach-point\x3d"groupTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main group-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"groups-section" style\x3d"position:absolute;width:100%;top:50px;" data-dojo-attach-point\x3d"groupsSection"\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.groups}:\x3c/span\x3e\r\n\t\t\t\t\t\x3cselect class\x3d"groups-select" data-dojo-attach-point\x3d"groupsSelect"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"nodata"\x3e${nls.noneGroups}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"groupSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onGroupSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"groupItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\' style\x3d"top:85px;"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content public-tab" data-dojo-attach-point\x3d"publicTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main public-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onPublicSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"public-search-radios"\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"portalPublicRaido" type\x3d"radio" name\x3d"publicSearchRadio" class\x3d"jimu-float-leading portal-public-radio jimu-radio-btn" /\x3e\r\n\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"portalPublicLabel" class\x3d"jimu-float-leading portal-public-label"\x3ePortal\x3c/label\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"onlinePublicRaido" type\x3d"radio" name\x3d"publicSearchRadio" class\x3d"jimu-float-leading online-public-radio jimu-radio-btn" /\x3e\r\n\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"onlinePublicLabel" class\x3d"jimu-float-leading online-public-label"\x3eArcGIS Online\x3c/label\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicItemSection" class\x3d"public-item-section"\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicPortalItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\'\x3e\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicOnlineItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\'\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"signin-section" data-dojo-attach-point\x3d"signinSection" style\x3d"display:none;"\x3e\r\n\t\t\x3cdiv class\x3d"signin-tip"\x3e${nls.signInTip}\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/_ItemTable.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"items-section all-items-section" data-dojo-attach-point\x3d"allItemsSection"\x3e\r\n\t\t\x3cdiv class\x3d"items-table-div" data-dojo-attach-point\x3d"allItemsTableDiv" data-dojo-attach-event\x3d"onscroll:_onAllItemsSectionScroll"\x3e\r\n\t\t\t\x3ctable class\x3d"items-table" cellpadding\x3d"10" data-dojo-attach-point\x3d"allItemsTable" data-dojo-attach-event\x3d"onclick:_onItemsTableClicked"\x3e\r\n\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"allItemTbody"\x3e\x3c/tbody\x3e\r\n\t\t\t\x3c/table\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/LoadingIndicator" data-dojo-attach-point\x3d"allItemsShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"items-section filtered-items-section" data-dojo-attach-point\x3d"filteredItemsSection"\x3e\r\n\t\t\x3cdiv class\x3d"items-table-div" data-dojo-attach-point\x3d"filteredItemsTableDiv" data-dojo-attach-event\x3d"onscroll:_onFilteredItemsSectionScroll"\x3e\r\n\t\t\t\x3ctable class\x3d"items-table" cellpadding\x3d"10" data-dojo-attach-point\x3d"filteredItemsTable" data-dojo-attach-event\x3d"onclick:_onItemsTableClicked"\x3e\r\n\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"filteredItemsTbody"\x3e\x3c/tbody\x3e\r\n\t\t\t\x3c/table\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"search-none-tip-section" data-dojo-attach-point\x3d"searchNoneTipSection" style\x3d"display:none;"\x3e\r\n\t\t\t\x3cspan class\x3d"search-none-icon jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan class\x3d"search-none-tip jimu-state-error-text"\x3e${nls.searchNone}\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/LoadingIndicator" data-dojo-attach-point\x3d"filteredItemShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/SuitabilityModeler/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"section"\x3e\r\n    \x3cp class\x3d"description" data-dojo-attach-point\x3d"descriptionNode1"\x3e${nls.description1}\x3c/p\x3e\r\n    \x3cp class\x3d"description" data-dojo-attach-point\x3d"descriptionNode2"\x3e${nls.description2}\x3c/p\x3e\r\n    \x3cp class\x3d"description" data-dojo-attach-point\x3d"descriptionNode3"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cform class\x3d"section" data-dojo-attach-point\x3d"settingsForm" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n    \x3cdiv class\x3d"row starting-state"\x3e\r\n      \x3ch3\x3e${nls.startingState}\x3c/h3\x3e\r\n      \x3clabel class\x3d"option"\x3e\x3cinput type\x3d"radio" name\x3d"${id}_radios"\r\n        data-dojo-attach-point\x3d"byUrlRadio"\r\n        data-dojo-type\x3d"dijit/form/RadioButton"\r\n        /\x3e${nls.byUrl}\x3c/label\x3e\r\n      \x3cbr\x3e\r\n      \x3clabel class\x3d"option"\x3e\x3cinput type\x3d"radio" name\x3d"${id}_radios"\r\n        data-dojo-attach-point\x3d"byItemRadio"\r\n        data-dojo-type\x3d"dijit/form/RadioButton"\r\n        /\x3e${nls.byItem}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"row" data-dojo-attach-point\x3d"byUrlSection"\x3e\r\n      \x3ch3 for\x3d"${id}_serviceUrl"\x3e${nls.imageServiceUrl}\x3c/h3\x3e\r\n      \x3cinput id\x3d"${id}_serviceUrl" type\x3d"text" class\x3d"url-box"\r\n        data-dojo-attach-point\x3d"serviceUrlBox"\r\n        data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n        data-dojo-props\x3d"required:true,trim:true,maxLength:1024" /\x3e\r\n      \x3cspan class\x3d"jimu-btn" href\x3d"#"\r\n        data-dojo-attach-point\x3d"validateNode"\r\n        data-dojo-attach-event\x3d"onclick:validateClicked"\r\n        \x3e${nls.validate}\x3c/span\x3e\r\n      \x3cdiv class\x3d"example"\x3e\r\n        https://example.com/arcgis/rest/services/Example/ImageServer\r\n        \x3cbr\x3e\r\n        https://utility.arcgis.com/usrsvcs/servers/24b7c7752170431a95719323a9e71a5e/rest/services/WRO_World_Ecophysiographic_Data/ImageServer\r\n        \x3cbr\x3e\r\n        https://landscape3.arcgis.com/arcgis/rest/services/Landscape_Modeler/USA_Weighted_Overlay/ImageServer\r\n        \x3cbr\x3e\r\n        https://greeninfrastructuremapsdev.arcgis.com/arcgis/rest/services/GreenInfrastructure/WeightedOverlay_Geoplanner/ImageServer\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"row" data-dojo-attach-point\x3d"byItemSection"\x3e\r\n        \x3ch3 for\x3d"${id}_modelName"\x3e${nls.modelName}\x3c/h3\x3e\r\n        \x3cinput id\x3d"${id}_modelName" type\x3d"text" class\x3d"url-box"\r\n          data-dojo-attach-point\x3d"modelNameBox"\r\n          data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n          data-dojo-props\x3d"required:false,trim:true" /\x3e\r\n        \x3cspan class\x3d"jimu-btn" href\x3d"#"\r\n          data-dojo-attach-point\x3d"selectModelNode"\r\n          data-dojo-attach-event\x3d"onclick:selectModelClicked"\r\n          \x3e${nls.selectModel}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"row"\x3e\r\n\t    \x3ch3\x3e\r\n\t\t    \x3cinput id\x3d"${id}_saveAs" type\x3d"checkbox"\r\n\t\t      data-dojo-attach-point\x3d"allowSaveAsCheckBox"\r\n\t\t      data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\r\n\t\t    \x3clabel for\x3d"${id}_saveAs"\x3e${nls.allowSaveAs}\x3c/label\x3e\r\n\t    \x3c/h3\x3e\r\n\t  \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/setting/css/style.css":'.jimu-widget-suitability-modeler-setting h3 {margin-top: 0; margin-bottom: 12px; font-family: "Avenir Medium";}.jimu-widget-suitability-modeler-setting .section {margin-bottom: 30px;}.jimu-widget-suitability-modeler-setting .row {margin-bottom: 18px;}.jimu-widget-suitability-modeler-setting .description {font-size: 14px; margin-bottom: 20px;}.jimu-widget-suitability-modeler-setting .starting-state .option {display: inline-block; margin-bottom: 10px;}.jimu-widget-suitability-modeler-setting .starting-state .option \x3e input {margin-right: 6px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .starting-state .option \x3e input {margin-left: 6px; margin-right: 0;}.jimu-widget-suitability-modeler-setting .row {margin-top: 20px; font-size: 14px;}.jimu-widget-suitability-modeler-setting .dijitTextBox.url-box {width: 785px; height: 35px; margin-right: 5px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .dijitTextBox.url-box {margin-left: 5px; margin-right: 0;}.jimu-widget-suitability-modeler-setting .dijitTextBox .dijitInputField {padding-top: 4px; padding-bottom: 3px;}.jimu-widget-suitability-modeler-setting .dijitTextBox .dijitInputInner {text-overflow: ellipsis;}.jimu-widget-suitability-modeler-setting .example {margin-top: 10px; color: #666; font-size: 11px; font-style: italic; line-height: 15px;}.jimu-widget-suitability-modeler-setting .popup-button-bar {float: right; padding-top: 20px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .popup-button-bar {float: left;}.jimu-widget-suitability-modeler-setting .popup-button-bar .btn-ok {margin-right: 16px;}.jimu-widget-suitability-modeler-setting-help-link {line-height: 30px;}.jimu-widget-suitability-modeler-setting .dijitRadio {width: 16px; height: 16px; background: #fff; border: 1px solid #999; position: relative; overflow: visible; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; margin-right: 6px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .dijitRadio {margin-left: 6px; margin-right: 0;}.jimu-widget-suitability-modeler-setting .dijitRadio:after {content: " "; display: block; width: 0; height: 0; margin: 7px; position: absolute; top: 0; left: 0; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%; opacity: 0;}.jimu-widget-suitability-modeler-setting .dijitRadioChecked {border-width: 2px; border-color: #24b5cc;}.jimu-widget-suitability-modeler-setting .dijitRadioChecked:after {background-color: #24b5cc; width: 8px; height: 8px; margin: 2px; opacity: 1;}.jimu-widget-suitability-modeler-setting .dijitCheckBox {background: #fff; border: 1px solid #999; text-align: center; position: relative; margin-right: 6px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .dijitCheckBox {margin-left: 6px; margin-right: 0;}.jimu-widget-suitability-modeler-setting .dijitCheckBox input {position: absolute; top: 0; left: 0; width: 14px; height: 14px;}.jimu-widget-suitability-modeler-setting .dijitCheckBox {width: 16px; height: 16px; position: relative; font-family: "CalciteWebCoreIcons"; speak: none; font-size: 12px; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; text-indent: 0; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; line-height: 14px; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.jimu-widget-suitability-modeler-setting .dijitCheckBoxChecked {background-color: #24b5cc; border-color: #24b5cc; color: #fff;}.jimu-widget-suitability-modeler-setting .dijitCheckBoxChecked:before {content: "\\e605";}',
"*now":function(m){m(['dojo/i18n!*preload*widgets/SuitabilityModeler/setting/nls/Setting*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/on dojo/dom-class dojo/dom-construct dojo/i18n!../nls/strings ../WroContext ../wro/wroUtil esri/layers/ArcGISImageServiceLayer jimu/dijit/Popup jimu/dijit/ItemSelector dijit/form/Form dijit/form/ValidationTextBox dijit/form/CheckBox dijit/form/RadioButton".split(" "),function(m,p,f,h,b,e,c,a,g,q,k,x,u){return m([p,f],{baseClass:"jimu-widget-suitability-modeler-setting",_modelItem:null,_url:"http://doc.arcgis.com/en/geoplanner/documentation/find-the-best-place-using-weighted-overlay.htm",
postCreate:function(){this.inherited(arguments);var a=this;this.modelNameBox.set("disabled",!0);this.own(b(this.byUrlRadio,"click",function(){a.updateSection()}),b(this.byItemRadio,"click",function(){a.updateSection()}))},startup:function(){this._started||(this.inherited(arguments),this.setConfig(this.config))},getConfig:function(){if(!this.settingsForm.validate()||this.byItemRadio.checked&&(!this._modelItem||0===this.modelNameBox.get("value").length))return!1;this.config||(this.config={});this.config.allowSaveAs=
!!this.allowSaveAsCheckBox.get("checked");this.config.imageServiceUrl=this.serviceUrlBox.get("value");this.byUrlRadio.checked?(this.config.imageServiceUrl=this.serviceUrlBox.get("value"),this.config.modelItem=null):(this.config.imageServiceUrl=this._modelItem.url,this.config.modelItem=this._modelItem);return this.config},setConfig:function(a){this.config=a||{};this.allowSaveAsCheckBox.set("checked",!!this.config.allowSaveAs);this._modelItem=null;var b=a.modelItem;b&&"string"===typeof b.id&&0<b.id.length&&
"string"===typeof b.url&&0<b.url.length&&"string"===typeof b.title&&0<b.title.length?(this._modelItem=h.clone(b),this.byItemRadio.set("checked",!0),this.modelNameBox.set("value",b.title)):(a=a.imageServiceUrl,"string"===typeof a&&(a=a.trim(),0<a.length&&this.serviceUrlBox.set("value",a)),this.byUrlRadio.set("checked",!0));this.updateSection()},selectModelClicked:function(){var a=this,f={portalUrl:this.appConfig.portalUrl,itemTypes:["Image Service"],typeKeywords:["geodesignModelerLayer"]},g=c.create("div",
{"class":this.baseClass,style:{width:"100%",height:"100%"}}),k=c.create("div",{style:{height:"460px"}},g),h=c.create("div",{"class":"popup-button-bar"},g),m=c.create("span",{"class":"btn-ok jimu-btn jimu-state-disabled",innerHTML:this.nls.ok},h),h=c.create("span",{"class":"jimu-btn jimu-btn-vacation",innerHTML:this.nls.cancel},h),q=new u(f),p=new x({titleLabel:this.nls.itemSelectorTitle,content:g,width:830,height:600});q.placeAt(k);this.own(b(q,"item-selected",function(){e.remove(m,"jimu-state-disabled")}));
this.own(b(q,"none-item-selected",function(){console.warn("none-item-selected");e.add(m,"jimu-state-disabled")}));this.own(b(m,"click",function(){var b=q.getSelectedItem();b&&!e.contains(m,"jimu-state-disabled")&&a.validateService(b.url,m,!0,function(){a.modelNameBox.set("value",b.title);a._modelItem={id:b.id,url:b.url,title:b.title};p.close()})}));this.own(b(h,"click",function(){p.close()}))},updateSection:function(){this.byUrlRadio.checked?(this.byUrlSection.style.display="block",this.byItemSection.style.display=
"none",this.serviceUrlBox.set("required",!0),this.modelNameBox.set("required",!1)):(this.byUrlSection.style.display="none",this.byItemSection.style.display="block",this.serviceUrlBox.set("required",!1),this.modelNameBox.set("required",!0))},validateClicked:function(){var a=this.serviceUrlBox.get("value").trim();this.validateService(a,this.validateNode,!1,null)},validateService:function(b,c,f,h){var l=this;if(!e.contains(c,"jimu-state-disabled")){var m=function(){e.remove(c,"jimu-state-disabled");
c.innerHTML=f?l.nls.ok:l.nls.validate};c.innerHTML=l.nls.validating;e.add(c,"jimu-state-disabled");var n=new g({i18n:a}),p,r=[],u=q.newWROInfo(),d=a.wro.validation.invalidItemCaption;0<b.length?(b=n.checkMixedContent(b),p=new k(b,{id:n.generateRandomId()}),p.setVisibility(!1),q.waitForLayer(p,a).then(function(){return q.validateWROLayer(a,p,u,r,!1)}).then(function(){0<r.length?n.showMessages(d,b,r):"function"===typeof h?h():n.showMessages(l.nls.imageServiceUrl,b,[l.nls.validated]);m()}).otherwise(function(c){console.warn("Error loading WRO layer",
b);console.error(c);c.message?n.showMessages(d,b,[c.message]):n.showMessages(d,b,[a.wro.validation.inaccessible]);m()})):m()}},_addAboutLink:function(){var a=this.getParent(),b=this.nls.description3,c=this._url;a&&a.helpNode?(a.helpNode.style.display="inline-block",a.helpNode.setAttribute("href",c),e.add(a.helpNode,"jimu-widget-suitability-modeler-setting-help-link")):this.descriptionNode3.innerHTML="\x3ca target\x3d'_blank' href\x3d'"+c+"'\x3e"+b+"\x3c/a\x3e"}})});