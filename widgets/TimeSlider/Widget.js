// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/dijit/TimeSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/kernel dojo/has dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-geometry dijit/_Widget dijit/_Templated dijit/form/HorizontalSlider dijit/form/HorizontalRule dijit/form/HorizontalRuleLabels dojox/timing/_base dojox/form/RangeSlider dojo/text!dojox/form/resources/HorizontalRangeSlider.html ../kernel ../lang ../TimeExtent ./_EventedWidget dojo/text!./templates/TimeSlider.html dojo/i18n!../nls/jsapi".split(" "),
function(g,f,a,m,p,h,k,e,q,n,r,t,y,x,v,u,c,w,d,l,A,b,B){q=g([A,n,r],{declaredClass:"esri.dijit.TimeSlider",widgetsInTemplate:!0,templateString:b,intermediateChanges:!1,_slideDuration:1E3,_defaultCount:10,_eventMap:{"time-extent-change":!0,play:!0,pause:!0,next:!0,previous:!0},constructor:function(b,d){f.mixin(this,B.widgets.timeSlider);this._iconClass="tsButton tsPlayButton";this.loop=this.playing=!1;this.thumbCount=1;this.thumbMovingRate=1E3;this._createTimeInstants=!1;this._options=f.mixin({excludeDataAtTrailingThumb:!1,
excludeDataAtLeadingThumb:!1},b.options||{})},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);this._timer=new v.Timer;this._timer.setInterval(this.thumbMovingRate);this._timer.onTick=f.hitch(this,"_bumpSlider",1);this._createSlider()},destroy:function(){this._timer.stop();this.timeStops=this._timer=null;this._slider.destroy();this._slider=null;this._hTicks&&(this._hTicks.destroyRecursive(),this._hTicks=null);this._hLabels&&(this._hLabels.destroyRecursive(),
this._hLabels=null);this.inherited(arguments)},onTimeExtentChange:function(){},onPlay:function(){},onPause:function(){},onNext:function(){},onPrevious:function(){},_onHorizontalChange:function(){var b=this._sliderToTimeExtent();this.onTimeExtentChange(b)},_onPlay:function(){this.playing=!this.playing;this._updateUI();this.playing?(this._timer.start(),this.onPlay(this._sliderToTimeExtent())):(this._timer.stop(),this.onPause(this._sliderToTimeExtent()));var b=this._getSliderValue();this._offset=f.isArray(b)?
b[1]-b[0]:0},_onNext:function(){this.playing||(this._bumpSlider(1),this.onNext(this._sliderToTimeExtent()))},_onPrev:function(){this.playing||(this._bumpSlider(-1),this.onPrevious(this._sliderToTimeExtent()))},createTimeStopsByCount:function(b,d){b&&b.startTime&&b.endTime?(d=d||this._defaultCount,this.createTimeStopsByTimeInterval(b,Math.ceil((b.endTime-b.startTime)/(d-1)),"esriTimeUnitsMilliseconds")):console.log(this.NLS_invalidTimeExtent)},createTimeStopsByTimeInterval:function(b,d,c,a){if(b&&
b.startTime&&b.endTime){this.fullTimeExtent=new l(b.startTime,b.endTime);a&&!0===a.resetStartTime&&this._resetStartTime(this.fullTimeExtent,c);this._timeIntervalUnits=c;a=this.fullTimeExtent.startTime;for(var z=[];a<=b.endTime;)z.push(a),a=b._getOffsettedDate(a,d,c);0<z.length&&z[z.length-1]<b.endTime&&z.push(a);this.setTimeStops(z)}else console.log(this.NLS_invalidTimeExtent)},getCurrentTimeExtent:function(){return this._sliderToTimeExtent()},setTimeStops:function(b){this.timeStops=b||[];this._numTicks=
this._numStops=this.timeStops.length;!1===d.isDefined(this.fullTimeExtent)&&(this.fullTimeExtent=new l(b[0],b[b.length-1]))},setLoop:function(b){this.loop=b},setThumbCount:function(b){this.thumbCount=b;this.singleThumbAsTimeInstant(this._createTimeInstants);this._slider&&this._createSlider()},setThumbIndexes:function(b){this.thumbIndexes=f.clone(b)||[0,1];this._initializeThumbs()},setThumbMovingRate:function(b){this.thumbMovingRate=b;this._timer&&this._timer.setInterval(this.thumbMovingRate)},setLabels:function(b){this.labels=
b;this._slider&&this._createSlider()},setTickCount:function(b){this._numTicks=b;this._slider&&this._createSlider()},singleThumbAsTimeInstant:function(b){this._createTimeInstants=b&&1===this.thumbCount},next:function(){this._onNext()},pause:function(){this.playing=!1;this._updateUI();this._timer.stop()},play:function(){!0!==this.playing&&(this.playing=!1,this._onPlay())},previous:function(){this._onPrev()},_setIntermediateChangesAttr:function(b){this.intermediateChanges=!!b;this._slider&&this._slider.set("intermediateChanges",
!!b)},_updateUI:function(){h.remove(this.playPauseBtn.iconNode,this._iconClass);this._iconClass=this.playing?"tsButton tsPauseButton":"tsButton tsPlayButton";h.add(this.playPauseBtn.iconNode,this._iconClass);this.previousBtn.set("disabled",this.playing);this.nextBtn.set("disabled",this.playing)},_createSlider:function(){this._slider&&(this._slider.destroy(),this._slider=null);for(var b=this.domNode;b.parentNode&&!b.dir;)b=b.parentNode;b={onChange:f.hitch(this,"_onHorizontalChange"),showButtons:!1,
discreteValues:this._numStops,slideDuration:this._slideDuration,"class":"ts",dir:"ltr",intermediateChanges:this.intermediateChanges};this._ts=k.create("div",{},m.query(".tsTmp",this.domNode)[0],"first");this._timeSliderTicks=k.create("div",{},this._ts,"first");this._timeSliderLabels=k.create("div",{},this._ts);2===this.thumbCount?this._createRangeSlider(b):this._createSingleSlider(b);this.thumbIndexes=this.thumbIndexes||[0,1];this._createHorizRule();this._createLabels();!0===this._createTimeInstants&&
m.query(".dijitSliderProgressBarH, .dijitSliderLeftBumper, .dijitSliderRightBumper",this._ts).forEach(function(b){e.set(b,{background:"none"})});this._initializeThumbs();a.disconnect(this._onChangeConnect);this._onChangeConnect=a.connect(this._slider,"onChange",f.hitch(this,"_updateThumbIndexes"))},_createRangeSlider:function(b){this._isRangeSlider=!0;this._slider=new (g([t,u],{templateString:c}))(b,this._ts)},_createSingleSlider:function(b){this._isRangeSlider=!1;this._slider=new t(b,this._ts)},
_createHorizRule:function(){this._hTicks&&(this._hTicks.destroyRecursive(),this._hTicks=null);2>this._numTicks||(this._hTicks=new y({container:"topDecoration",ruleStyle:"","class":"tsTicks",count:this._numTicks},this._timeSliderTicks))},_createLabels:function(){this._hLabels&&(this._hLabels.destroyRecursive(),this._hLabels=null);this.labels&&0<this.labels.length&&(this._hLabels=new x({labels:this.labels,labelStyle:"","class":"tsLabels"},this._timeSliderLabels))},_initializeThumbs:function(){if(this._slider){this._offset=
this._toSliderValue(this.thumbIndexes[1])||0;var b=this._toSliderValue(this.thumbIndexes[0]),b=b>this._slider.maximum||b<this._slider.minimum?this._slider.minimum:b;if(!0===this._isRangeSlider){var d=this._toSliderValue(this.thumbIndexes[1]),d=d>this._slider.maximum||d<this._slider.minimum?this._slider.maximum:d;this._setSliderValue([b,d<b?b:d])}else this._setSliderValue(b);this._onHorizontalChange()}},_bumpSlider:function(b){var d=this._getSliderValue(),l=d,a=l,c=b;f.isArray(d)&&(a=d[0],l=d[1],c=
[{change:b,useMaxValue:!0},{change:b,useMaxValue:!1}]);1E-10>Math.abs(a-this._slider.minimum)&&0>b||1E-10>Math.abs(l-this._slider.maximum)&&0<b?this._timer.isRunning&&(this.loop?(this._timer.stop(),this._setSliderValue(this._getSliderMinValue()),b=this._sliderToTimeExtent(),this.onTimeExtentChange(b),this._timer.start(),this.playing=!0):this.pause()):this._slider._bumpValue(c)},_updateThumbIndexes:function(){var b=this._getSliderValue();f.isArray(b)?(this.thumbIndexes[0]=this._toSliderIndex(b[0]),
this.thumbIndexes[1]=this._toSliderIndex(b[1])):this.thumbIndexes[0]=this._toSliderIndex(b)},_sliderToTimeExtent:function(){if(this.timeStops&&0!==this.timeStops.length){var b=new l,d=this._getSliderValue(),a,c;f.isArray(d)?(d[0]>d[1]?(c=d[0],a=d[1]):(a=d[0],c=d[1]),b.startTime=new Date(this.timeStops[this._toSliderIndex(a)]),b.endTime=new Date(this.timeStops[this._toSliderIndex(c)]),this._adjustTimeExtent(b)):(b.startTime=!0===this._createTimeInstants?new Date(this.timeStops[this._toSliderIndex(d)]):
new Date(this.fullTimeExtent.startTime),b.endTime=!0===this._createTimeInstants?b.startTime:new Date(this.timeStops[this._toSliderIndex(d)]));return b}},_adjustTimeExtent:function(b){if((!1!==this._options.excludeDataAtTrailingThumb||!1!==this._options.excludeDataAtLeadingThumb)&&b.startTime.getTime()!==b.endTime.getTime()){if(this._options.excludeDataAtTrailingThumb){var d=b.startTime;d.setUTCSeconds(d.getUTCSeconds()+1)}this._options.excludeDataAtLeadingThumb&&(b=b.endTime,b.setUTCSeconds(b.getUTCSeconds()-
1))}},_resetStartTime:function(b,d){switch(d){case "esriTimeUnitsSeconds":b.startTime.setUTCMilliseconds(0);break;case "esriTimeUnitsMinutes":b.startTime.setUTCSeconds(0,0,0);break;case "esriTimeUnitsHours":b.startTime.setUTCMinutes(0,0,0);break;case "esriTimeUnitsDays":b.startTime.setUTCHours(0,0,0,0);break;case "esriTimeUnitsWeeks":b.startTime.setUTCDate(b.startTime.getUTCDate()-b.startTime.getUTCDay());break;case "esriTimeUnitsMonths":b.startTime.setUTCDate(1);b.startTime.setUTCHours(0,0,0,0);
break;case "esriTimeUnitsDecades":b.startTime.setUTCFullYear(b.startTime.getUTCFullYear()-b.startTime.getUTCFullYear()%10);break;case "esriTimeUnitsCenturies":b.startTime.setUTCFullYear(b.startTime.getUTCFullYear()-b.startTime.getUTCFullYear()%100)}},_getSliderMinValue:function(){return this._isRangeSlider?[this._slider.minimum,this._slider.minimum+this._offset]:this._slider.minimum},_toSliderIndex:function(b){b=Math.floor((b-this._slider.minimum)*this._numStops/(this._slider.maximum-this._slider.minimum));
0>b&&(b=0);b>=this._numStops&&(b=this._numStops-1);return b},_toSliderValue:function(b){return b*(this._slider.maximum-this._slider.minimum)/(this._numStops-1)+this._slider.minimum},_getSliderValue:function(){return this._slider.get("value")},_setSliderValue:function(b){this._slider._setValueAttr(b,!1,!1)}});p("extend-esri")&&f.setObject("dijit.TimeSlider",q,w);return q})},"dojox/timing/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(g){g.experimental("dojox.timing");g.getObject("timing",
!0,dojox);dojox.timing.Timer=function(f){this.timer=null;this.isRunning=!1;this.interval=f;this.onStop=this.onStart=null};g.extend(dojox.timing.Timer,{onTick:function(){},setInterval:function(f){this.isRunning&&window.clearInterval(this.timer);this.interval=f;this.isRunning&&(this.timer=window.setInterval(g.hitch(this,"onTick"),this.interval))},start:function(){if("function"==typeof this.onStart)this.onStart();this.isRunning=!0;this.timer=window.setInterval(g.hitch(this,"onTick"),this.interval)},
stop:function(){if("function"==typeof this.onStop)this.onStop();this.isRunning=!1;window.clearInterval(this.timer)}});return dojox.timing})},"dojox/form/RangeSlider":function(){define(["dojo/_base/kernel","./_RangeSliderMixin","./HorizontalRangeSlider","./VerticalRangeSlider"],function(g,f){g.deprecated("Call require() for HorizontalRangeSlider / VerticalRangeSlider, explicitly rather than 'dojox.form.RangeSlider' itself","","2.0");return f})},"dojox/form/_RangeSliderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/_base/event dojo/_base/sniff dojo/dom-style dojo/dom-geometry dojo/keys dijit dojo/dnd/Mover dojo/dnd/Moveable dijit/form/_FormValueWidget dijit/focus dojo/fx dojox/fx".split(" "),
function(g,f,a,m,p,h,k,e,q,n,r,t,y,x,v){var u=function(d,l){return d-l};n=g("dojox.form._RangeSliderMixin",null,{_setTabIndexAttr:["sliderHandle","sliderHandleMax"],value:[0,100],postMixInProperties:function(){this.inherited(arguments);this.value=a.map(this.value,function(d){return parseInt(d,10)})},postCreate:function(){this.inherited(arguments);this.value.sort(u);var d=this,l=g(c,{constructor:function(){this.widget=d}});this._movableMax=new t(this.sliderHandleMax,{mover:l});this.sliderHandle.setAttribute("aria-valuemin",
this.minimum);this.sliderHandle.setAttribute("aria-valuemax",this.maximum);this.sliderHandleMax.setAttribute("aria-valuemin",this.minimum);this.sliderHandleMax.setAttribute("aria-valuemax",this.maximum);l=g(w,{constructor:function(){this.widget=d}});this._movableBar=new t(this.progressBar,{mover:l});this.focusNode.removeAttribute("aria-valuemin");this.focusNode.removeAttribute("aria-valuemax");this.focusNode.removeAttribute("aria-valuenow")},destroy:function(){this.inherited(arguments);this._movableMax.destroy();
this._movableBar.destroy()},_onKeyPress:function(d){if(!(this.disabled||this.readOnly||d.altKey||d.ctrlKey)){var l=d.target===this.sliderHandleMax,a=d.target===this.progressBar,b=f.delegate(q,this.isLeftToRight()?{PREV_ARROW:q.LEFT_ARROW,NEXT_ARROW:q.RIGHT_ARROW}:{PREV_ARROW:q.RIGHT_ARROW,NEXT_ARROW:q.LEFT_ARROW}),c=0,e=!1;switch(d.keyCode){case b.HOME:this._setValueAttr(this.minimum,!0,l);p.stop(d);return;case b.END:this._setValueAttr(this.maximum,!0,l);p.stop(d);return;case b.PREV_ARROW:case b.DOWN_ARROW:e=
!0;case b.NEXT_ARROW:case b.UP_ARROW:c=1;break;case b.PAGE_DOWN:e=!0;case b.PAGE_UP:c=this.pageIncrement;break;default:this.inherited(arguments);return}e&&(c=-c);c&&(a?this._bumpValue([{change:c,useMaxValue:!1},{change:c,useMaxValue:!0}]):this._bumpValue(c,l),p.stop(d))}},_onHandleClickMax:function(d){this.disabled||this.readOnly||(h("ie")||x.focus(this.sliderHandleMax),p.stop(d))},_onClkIncBumper:function(){this._setValueAttr(!1===this._descending?this.minimum:this.maximum,!0,!0)},_bumpValue:function(d,
l){var c=f.isArray(d)?[this._getBumpValue(d[0].change,d[0].useMaxValue),this._getBumpValue(d[1].change,d[1].useMaxValue)]:this._getBumpValue(d,l);this._setValueAttr(c,!0,l)},_getBumpValue:function(d,l){var c=l?1:0,b=k.getComputedStyle(this.sliderBarContainer),a=e.getContentBox(this.sliderBarContainer,b),b=this.discreteValues,c=this.value[c];if(1>=b||Infinity==b)b=a[this._pixelCount];b--;c=this.maximum>this.minimum?(c-this.minimum)*b/(this.maximum-this.minimum)+d:0;0>c&&(c=0);c>b&&(c=b);return c*(this.maximum-
this.minimum)/b+this.minimum},_onBarClick:function(d){this.disabled||this.readOnly||(h("ie")||x.focus(this.progressBar),p.stop(d))},_onRemainingBarClick:function(d){if(!this.disabled&&!this.readOnly){h("ie")||x.focus(this.progressBar);var c=e.position(this.sliderBarContainer,!0),a=e.position(this.progressBar,!0),b=d[this._mousePixelCoord],f=a[this._startingPixelCoord],a=f+a[this._pixelCount],f=this._isReversed()?b<=f:b>=a,b=this._isReversed()?c[this._pixelCount]-b+c[this._startingPixelCoord]:b-c[this._startingPixelCoord];
this._setPixelValue(b,c[this._pixelCount],!0,f);p.stop(d)}},_setPixelValue:function(d,c,a,b){this.disabled||this.readOnly||(d=this._getValueByPixelValue(d,c),this._setValueAttr(d,a,b))},_getValueByPixelValue:function(d,c){var a=this.discreteValues;if(1>=a||Infinity==a)a=c;a--;return(this.maximum-this.minimum)*Math.round((0>d?0:c<d?c:d)/(c/a))/a+this.minimum},_setValueAttr:function(d,c,a){var b=f.clone(this.value);f.isArray(d)?b=d:b[a?1:0]=d;this._lastValueReported="";this.valueNode.value=d=b;b.sort(u);
this.sliderHandle.setAttribute("aria-valuenow",b[0]);this.sliderHandleMax.setAttribute("aria-valuenow",b[1]);y.prototype._setValueAttr.apply(this,arguments);this._printSliderBar(c,a)},_printSliderBar:function(d,c){var a=this.maximum>this.minimum?(this.value[0]-this.minimum)/(this.maximum-this.minimum):0,b=this.maximum>this.minimum?(this.value[1]-this.minimum)/(this.maximum-this.minimum):0,l=a;a>b&&(a=b,b=l);var f=this._isReversed()?100*(1-a):100*a,e=this._isReversed()?100*(1-b):100*b,h=this._isReversed()?
100*(1-b):100*a;if(d&&0<this.slideDuration&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),l=this.slideDuration/10,0!==l){0>l&&(l=0-l);var n={},w={},k={};n[this._handleOffsetCoord]={start:this.sliderHandle.parentNode.style[this._handleOffsetCoord],end:f,units:"%"};w[this._handleOffsetCoord]={start:this.sliderHandleMax.parentNode.style[this._handleOffsetCoord],end:e,units:"%"};k[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],
end:h,units:"%"};k[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:100*(b-a),units:"%"};a=m.animateProperty({node:this.sliderHandle.parentNode,duration:l,properties:n});b=m.animateProperty({node:this.sliderHandleMax.parentNode,duration:l,properties:w});l=m.animateProperty({node:this.progressBar,duration:l,properties:k});v.combine([a,b,l]).play()}}else this.sliderHandle.parentNode.style[this._handleOffsetCoord]=f+"%",this.sliderHandleMax.parentNode.style[this._handleOffsetCoord]=
e+"%",this.progressBar.style[this._handleOffsetCoord]=h+"%",this.progressBar.style[this._progressPixelSize]=100*(b-a)+"%"}});var c=g("dijit.form._SliderMoverMax",r,{onMouseMove:function(d){var c=this.widget,a=c._abspos;a||(a=c._abspos=e.position(c.sliderBarContainer,!0),c._setPixelValue_=f.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());d=d[c._mousePixelCoord]-a[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?a[c._pixelCount]-d:d,a[c._pixelCount],!1,!0)},destroy:function(d){r.prototype.destroy.apply(this,
arguments);var c=this.widget;c._abspos=null;c._setValueAttr(c.value,!0)}}),w=g("dijit.form._SliderBarMover",r,{onMouseMove:function(d){var c=this.widget;if(!c.disabled&&!c.readOnly){var a=c._abspos,b=c._bar,h=c._mouseOffset;a||(a=c._abspos=e.position(c.sliderBarContainer,!0),c._setPixelValue_=f.hitch(c,"_setPixelValue"),c._getValueByPixelValue_=f.hitch(c,"_getValueByPixelValue"),c._isReversed_=c._isReversed());b||(b=c._bar=e.position(c.progressBar,!0));h||(h=c._mouseOffset=d[c._mousePixelCoord]-b[c._startingPixelCoord]);
d=d[c._mousePixelCoord]-a[c._startingPixelCoord]-h;pixelValues=[d,d+b[c._pixelCount]];pixelValues.sort(u);0>=pixelValues[0]&&(pixelValues[0]=0,pixelValues[1]=b[c._pixelCount]);pixelValues[1]>=a[c._pixelCount]&&(pixelValues[1]=a[c._pixelCount],pixelValues[0]=a[c._pixelCount]-b[c._pixelCount]);a=[c._getValueByPixelValue(c._isReversed_?a[c._pixelCount]-pixelValues[0]:pixelValues[0],a[c._pixelCount]),c._getValueByPixelValue(c._isReversed_?a[c._pixelCount]-pixelValues[1]:pixelValues[1],a[c._pixelCount])];
c._setValueAttr(a,!1,!1)}},destroy:function(){r.prototype.destroy.apply(this,arguments);var c=this.widget;c._abspos=null;c._bar=null;c._mouseOffset=null;c._setValueAttr(c.value,!0)}});return n})},"dojox/fx":function(){define(["./fx/_base"],function(g){return g})},"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(g,f,a,m,p,h,k,e,q){g=f.getObject("dojox.fx",!0);
f.mixin(g,{anim:a.anim,animateProperty:a.animateProperty,fadeTo:a._fade,fadeIn:a.fadeIn,fadeOut:a.fadeOut,combine:m.combine,chain:m.chain,slideTo:m.slideTo,wipeIn:m.wipeIn,wipeOut:m.wipeOut});g.sizeTo=function(e){var k=e.node=p.byId(e.node),n=e.method||"chain";e.duration||(e.duration=500);"chain"==n&&(e.duration=Math.floor(e.duration/2));var g,q,v,u,c,w=null,d=function(a){return function(){var d=h.getComputedStyle(a),b=d.position,f=d.width,l=d.height;g="absolute"==b?a.offsetTop:parseInt(d.top)||0;
v="absolute"==b?a.offsetLeft:parseInt(d.left)||0;c="auto"==f?0:parseInt(f);w="auto"==l?0:parseInt(l);u=v-Math.floor((e.width-c)/2);q=g-Math.floor((e.height-w)/2);"absolute"!=b&&"relative"!=b&&(d=h.coords(a,!0),g=d.y,v=d.x,a.style.position="absolute",a.style.top=g+"px",a.style.left=v+"px")}}(k),k=a.animateProperty(f.mixin({properties:{height:function(){d();return{end:e.height||0,start:w}},top:function(){return{start:g,end:q}}}},e)),n=a.animateProperty(f.mixin({properties:{width:function(){return{start:c,
end:e.width||0}},left:function(){return{start:v,end:u}}}},e));return m["combine"==e.method?"combine":"chain"]([k,n])};g.slideBy=function(n){var g,t,m=function(a){return function(){var f=h.getComputedStyle(a),e=f.position;g="absolute"==e?a.offsetTop:parseInt(f.top)||0;t="absolute"==e?a.offsetLeft:parseInt(f.left)||0;"absolute"!=e&&"relative"!=e&&(f=k.coords(a,!0),g=f.y,t=f.x,a.style.position="absolute",a.style.top=g+"px",a.style.left=t+"px")}}(n.node=p.byId(n.node));m();n=a.animateProperty(f.mixin({properties:{top:g+
(n.top||0),left:t+(n.left||0)}},n));e.connect(n,"beforeBegin",n,m);return n};g.crossFade=function(e){var h=e.nodes[0]=p.byId(e.nodes[0]),k=q.style(h,"opacity"),g=e.nodes[1]=p.byId(e.nodes[1]);q.style(g,"opacity");return m.combine([a[0==k?"fadeIn":"fadeOut"](f.mixin({node:h},e)),a[0==k?"fadeOut":"fadeIn"](f.mixin({node:g},e))])};g.highlight=function(h){var k=h.node=p.byId(h.node);h.duration=h.duration||400;var g=h.color||"#ffff99",n=q.style(k,"backgroundColor");"rgba(0, 0, 0, 0)"==n&&(n="transparent");
h=a.animateProperty(f.mixin({properties:{backgroundColor:{start:g,end:n}}},h));"transparent"==n&&e.connect(h,"onEnd",h,function(){k.style.backgroundColor=n});return h};g.wipeTo=function(e){e.node=p.byId(e.node);var h=e.node,k=h.style,g=e.width?"width":"height",m={};m[g]={start:function(){k.overflow="hidden";if("hidden"==k.visibility||"none"==k.display)return k[g]="1px",k.display="",k.visibility="",1;var a=q.style(h,g);return Math.max(a,1)},end:e[g]};return a.animateProperty(f.mixin({properties:m},
e))};return g})},"dojox/form/HorizontalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/HorizontalRangeSlider.html","dijit/form/HorizontalSlider"],function(g,f,a,m){return g("dojox.form.HorizontalRangeSlider",[m,f],{templateString:a})})},"dojox/form/VerticalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/VerticalRangeSlider.html","dijit/form/VerticalSlider"],function(g,f,a,m){return g("dojox.form.VerticalRangeSlider",
[m,f],{templateString:a})})},"dijit/form/VerticalSlider":function(){define(["dojo/_base/declare","./HorizontalSlider","dojo/text!./templates/VerticalSlider.html"],function(g,f,a){return g("dijit.form.VerticalSlider",f,{templateString:a,_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:!0,_isReversed:function(){return this._descending}})})},"widgets/TimeSlider/SpeedMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/_base/array dojo/Evented dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./SpeedMenu.html dojo/on dojo/query".split(" "),
function(g,f,a,m,p,h,k,e,q,n,r){return g([h,k,e,p],{baseClass:"speed-container",templateString:q,nls:null,menuBox:{w:75,h:120},postCreate:function(){this.inherited(arguments);this._initSpeedMenu()},startup:function(){this.inherited(arguments)},destroy:function(){this.inherited(arguments)},_initSpeedMenu:function(){this.own(n(this.domNode,"click",f.hitch(this,this._closeSpeedMenu)));this._checks=r(".check",this.speedMenu);n.emit(this.initSpeedItem,"click",{cancelable:!1,bubbles:!0})},_onSelectSpeedItem:function(e){m.map(this._checks,
f.hitch(this,function(e){a.addClass(e,"hide")}));if(e.target){var h=a.getAttr(e.target,"speed"),k=r(".check",e.target)[0];a.removeClass(k,"hide");this.speedLabelNode.innerHTML=e.target.innerText;this.emit("selected",h)}},_setMenuPosition:function(){var e=a.position(this.speedLabelNode);0>e.y-this.menuBox.h-2&&a.setStyle(this.speedMenu,{top:"27px",bottom:"auto"});var f=a.getMarginBox(this.domNode);window.isRTL?0>e.x-this.menuBox.w&&a.setStyle(this.speedMenu,{left:0}):e.x+this.menuBox.w>f.w&&a.setStyle(this.speedMenu,
{right:0})},_onSpeedLabelClick:function(e){e.stopPropagation();e.preventDefault();a.hasClass(this.speedMenu,"hide")?(this._setMenuPosition(),this._showSpeedMenu()):this._closeSpeedMenu()},_showSpeedMenu:function(){a.removeClass(this.speedMenu,"hide");this.emit("open")},_closeSpeedMenu:function(){a.addClass(this.speedMenu,"hide");this.emit("close")}})})},"widgets/TimeSlider/TimeProcesser":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/config dojo/Evented dijit/_WidgetBase dojo/when dojo/promise/all dojo/Deferred esri/request moment/moment dojo/date/locale dojo/i18n esri/lang esri/TimeExtent".split(" "),
function(g,f,a,m,p,h,k,e,q,n,r,t,y,x,v){var u=g([h,p],{nls:null,config:null,map:null,layerInfosObj:null,setLayerInfosObj:function(c){this.layerInfosObj=c},_getUpdatedFullTime:function(){var c=0,a,d,h=[],c=0;for(a=this.map.layerIds.length;c<a;c++)d=this.map.layerIds[c],d=this.map.getLayer(d),h.push(this._getUpdatedTime(d));c=0;for(a=this.map.graphicsLayerIds.length;c<a;c++)d=this.map.graphicsLayerIds[c],d=this.map.getLayer(d),h.push(this._getUpdatedTime(d));return e(h).then(f.hitch(this,function(c){return this._getFullTimeExtent(c)}))},
_getFullTimeExtent:function(c){var e=null;a.forEach(c,f.hitch(this,function(c){c&&(e?(e.startTime>c.startTime&&(e.startTime=new Date(c.startTime.getTime())),e.endTime<c.endTime&&(e.endTime=new Date(c.endTime.getTime()))):e=new v(new Date(c.startTime.getTime()),new Date(c.endTime.getTime())))}));return e},_getUpdatedTime:function(c){if(c&&c.url&&this.hasLiveData(c)){var a=null;return n({url:c.url,callbackParamName:"callback",content:{f:"json",returnUpdates:!0}}).then(f.hitch(this,function(c){c.timeExtent&&
2===c.timeExtent.length&&(a=new v,a.startTime=new Date(c.timeExtent[0]),a.endTime=new Date(c.timeExtent[1]))})).always(f.hitch(this,function(){return k(a||f.getObject("timeInfo.timeExtent",!1,c)||null)}))}return k(f.getObject("timeInfo.timeExtent",!1,c)||null)},getUpdatedFullTime:function(){var c=0,a,d,h=[],c=0;for(a=this.map.layerIds.length;c<a;c++)d=this.map.layerIds[c],d=this.map.getLayer(d),h.push(this._getUpdatedTime(d));c=0;for(a=this.map.graphicsLayerIds.length;c<a;c++)d=this.map.graphicsLayerIds[c],
d=this.map.getLayer(d),h.push(this._getUpdatedTime(d));return e(h).then(f.hitch(this,function(c){return this._getFullTimeExtent(c)}))},needUpdateFullTime:function(){var c=0,a,d,c=0;for(a=this.map.layerIds.length;c<a;c++)if(d=this.map.layerIds[c],d=this.map.getLayer(d),this.hasLiveData(d))return!0;c=0;for(a=this.map.graphicsLayerIds.length;c<a;c++)if(d=this.map.graphicsLayerIds[c],d=this.map.getLayer(d),this.hasLiveData(d))return!0;return!1},hasLiveData:function(c){return c&&c.useMapTime&&c.timeInfo&&
c.timeInfo.hasLiveData},setTimeSlider:function(c){this.timeSlider=c},_getTimeFormatLabel:function(c){var a=this.nls.timeExtent,d=null,e=null,f="",b="";if(!c&&this.timeSlider)2===this.timeSlider.thumbCount?(d=this.timeSlider.timeStops[0],e=this.timeSlider.timeStops[1]):d=this.timeSlider.timeStops[0];else if(c||this.timeSlider)d=c.startTime,0<c.endTime.getTime()-c.startTime.getTime()&&(e=c.endTime);else return"";if("auto"===this.config.timeFormat||"Custom"===this.config.timeFormat&&""===this.config.customDateFormat){var h=
null,k=c=null,g=!1,f=u.localeDic[m.locale]||u.localeDic.en;e&&d.getFullYear()===e.getFullYear()?(d.getMonth()===e.getMonth()?d.getDate()===e.getDate()?c=d.getHours()===e.getHours()?d.getMinutes()===e.getMinutes()?d.getSeconds()===e.getSeconds()?f.millisecondTimePattern:f.secondTimePattern:f.minuteTimePattern:f.minuteTimePattern:(2>e.getDate()-d.getDate()&&(c=f.minuteTimePattern),g=!0):g=!0,k="long"):e&&10<e.getFullYear()-d.getFullYear()?(h=f.yearPattern,g=!0):(g=!0,k="long");f=t.format(d,{datePattern:h,
formatLength:k,selector:"date"});c&&(d=t.format(d,{timePattern:c,selector:"time"}),f=y.getLocalization("dojo.cldr","gregorian")["dateTimeFormat-medium"].replace(/\{1\}/g,f).replace(/\{0\}/g,d));e&&(g&&(b=t.format(e,{datePattern:h,formatLength:k,selector:"date"})),c&&(d=t.format(e,{timePattern:c,selector:"time"}),b=g&&c?y.getLocalization("dojo.cldr","gregorian")["dateTimeFormat-medium"].replace(/\{1\}/g,b).replace(/\{0\}/g,d):d))}else c="Custom"===this.config.timeFormat?this.config.customDateFormat:
this.config.timeFormat,f=r(d.getTime()).format(c),e&&(b=r(e.getTime()).format(c));return a=e?x.substitute({FROMTIME:f,ENDTIME:b},a):f+""},findDefaultInterval:function(c){var a;c=(c.endTime.getTime()-c.startTime.getTime())/10;31104E8<c?(c=Math.round(c/31104E8),a="esriTimeUnitsCenturies"):31104E7<c?(c=Math.round(c/31104E7),a="esriTimeUnitsDecades"):31104E6<c?(c=Math.round(c/31104E6),a="esriTimeUnitsYears"):2592E6<c?(c=Math.round(c/2592E6),a="esriTimeUnitsMonths"):6048E5<c?(c=Math.round(c/6048E5),a=
"esriTimeUnitsWeeks"):864E5<c?(c=Math.round(c/864E5),a="esriTimeUnitsDays"):36E5<c?(c=Math.round(c/36E5),a="esriTimeUnitsHours"):6E4<c?(c=Math.round(c/6E4),a="esriTimeUnitsMinutes"):1E3<c?(c=Math.round(c/1E3),a="esriTimeUnitsSeconds"):(c=Math.round(c),a="esriTimeUnitsMilliseconds");return{interval:c,units:a}},getPropsFromMultiLayerInfos:function(c,a){var d={};null===a?(d=c,d.thumbCount=2,d.thumbMovingRate=2E3):(d=a,c.timeExtent[0]<d.timeExtent[0]&&(d.timeExtent[0]=c.timeExtent[0]),c.timeExtent[1]>
d.timeExtent[1]&&(d.timeExtent[1]=c.timeExtent[1]));return d},getTsPros:function(){var c=new q,a=this.map&&this.map.itemInfo,d=f.getObject("itemData.widgets.timeSlider.properties",!1,a),e={};if(d)e=f.clone(d),c.resolve(e);else if(a=f.getObject("itemData.operationalLayers",!1,a)){for(var d=null,e=0,h=a.length;e<h;e++){var b=f.getObject("resourceInfo.timeInfo",!1,a[e]);b&&b.timeExtent&&(d=this.getPropsFromMultiLayerInfos(b,d))}null!==d?(d.startTime=d.timeExtent[0],d.endTime=d.timeExtent[1],d._needToFindDefaultInterval=
!0,c.resolve(d)):c.resolve(null)}else c.resolve(null);return c}});u.localeDic={ar:{datePattern:"dd MMMM, yyyy",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},cs:{datePattern:"MMMM d, yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"h:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},da:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",
secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},de:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},el:{datePattern:"d MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"h",minuteTimePattern:"hh:mm",secondTimePattern:"hh:mm:ss",millisecondTimePattern:"hh:mm:ss:SSS"},es:{datePattern:"d' de 'MMMM' de 'yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",
millisecondTimePattern:"H:mm:ss:SSS"},et:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},fi:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"t",minuteTimePattern:"t:mm a",secondTimePattern:"t:mm:ss",millisecondTimePattern:"h:mm:ss:SSS"},fr:{datePattern:"d MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"HH",minuteTimePattern:"HH:mm",secondTimePattern:"HH:mm:ss",millisecondTimePattern:"HH:mm:ss:SSS"},
he:{datePattern:"d, MMMM ,yyyy",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},it:{datePattern:"d MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H.mm",secondTimePattern:"H.mm.ss",millisecondTimePattern:"H.mm.ss.SSS"},ja:{datePattern:"yyyy'\u5e74'M'\u6708'd'\u65e5'",yearPattern:"yyyy'\u5e74'",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},
ko:{datePattern:"yyyy\ub144 M\uc6d4 d\uc77c",yearPattern:"yyyy\ub144",hourTimePattern:"a h\uc2dc",minuteTimePattern:"a h:mm",secondTimePattern:"a h:mm:ss",millisecondTimePattern:"a h:mm:ss:SSS"},lt:{datePattern:"yyyy MMMM dd",yearPattern:"yyyy",hourTimePattern:"H a",minuteTimePattern:"HH:mm",secondTimePattern:"HH:mm:ss",millisecondTimePattern:"HH:mm:ss:SSS"},lv:{datePattern:"dd.MM.yyyy",yearPattern:"yyyy",hourTimePattern:"H a",minuteTimePattern:"HH:mm",secondTimePattern:"HH:mm:ss",millisecondTimePattern:"HH:mm:ss:SSS"},
nb:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H.mm",secondTimePattern:"H.mm.ss",millisecondTimePattern:"H.mm.ss.SSS"},nl:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},pl:{datePattern:"dd-mm-yyyy",yearPattern:"yyyy",hourTimePattern:"hh",minuteTimePattern:"hh:mm",secondTimePattern:"hh:mm:ss",millisecondTimePattern:"hh:mm:ss:SSS"},"pt-br":{datePattern:"d' de 'MMMM' de 'yyyy",
yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"h:mm a",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},"pt-pt":{datePattern:"d' de 'MMMM' de 'yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},ro:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},ru:{datePattern:"MMMM d, yyyy",yearPattern:"yyyy",
hourTimePattern:"H",minuteTimePattern:"h:mm",secondTimePattern:"h:mm:ss",millisecondTimePattern:"h:mm:ss:SSS"},sv:{datePattern:"MMMM d, yyyy",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},th:{datePattern:"d MMMM,yyyy",yearPattern:"yyyy",hourTimePattern:"H a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},tr:{datePattern:"d MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"h a",
minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},vi:{datePattern:"d MMMM, yyyy",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},"zh-cn":{datePattern:"yyyy'\u5e74'M'\u6708'd'\u65e5'",yearPattern:"yyyy'\u5e74'",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},"zh-hk":{datePattern:"\u5e74\u6708\u65e5",yearPattern:"yyyy",
hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},"zh-tw":{datePattern:"\u5e74\u6708\u65e5",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},en:{datePattern:"MMMM d, yyyy",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"}};return u})},"widgets/TimeSlider/LayerProcesser":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/array","dojo/Evented","dijit/_WidgetBase"],function(g,f,a,m,p){return g([p,m],{nls:null,map:null,layerInfosObj:null,setLayerInfosObj:function(a){this.layerInfosObj=a},processTimeDisableLayer:function(){var a=0,f,e,a=0;for(f=this.map.layerIds.length;a<f;a++)e=this.map.layerIds[a],e=this.map.getLayer(e),this._processTimeUpdate(e);a=0;for(f=this.map.graphicsLayerIds.length;a<f;a++)e=this.map.graphicsLayerIds[a],e=this.map.getLayer(e),this._processTimeUpdate(e)},_processTimeUpdate:function(a){var f=
null,f=!0,f=(f=this.layerInfosObj.getLayerInfoById(a.id))&&f.originOperLayer&&!1!==f.originOperLayer.timeAnimation;!f&&"setUseMapTime"in a&&a.setUseMapTime(!1)},hasVisibleTemporalLayer:function(){var a=0,f,e,a=0;for(f=this.map.layerIds.length;a<f;a++)if(e=this.map.layerIds[a],e=this.map.getLayer(e),this._isTimeTemporalLayer(e,!0))return!0;a=0;for(f=this.map.graphicsLayerIds.length;a<f;a++)if(e=this.map.graphicsLayerIds[a],e=this.map.getLayer(e),this._isTimeTemporalLayer(e,!0))return!0;return!1},_isTimeTemporalLayer:function(f,
g){var e=f&&f.timeInfo&&f.useMapTime,h=this.layerInfosObj.getLayerInfoById(f.id),h=h&&h.originOperLayer&&!1!==h.originOperLayer.timeAnimation;if(e&&h&&(g?f.visible:1))if("esri.layers.KMLLayer"===f.declaredClass){if(e=f.getLayers(),a.some(e,function(a){return a.timeInfo&&a.timeInfo.timeExtent?!0:!1}))return!0}else if(f.timeInfo&&f.timeInfo.timeExtent)return!0;return!1},_getVisibleTemporalLayerNames:function(){var h=0,g,e,m=[],h=0;for(g=this.map.layerIds.length;h<g;h++)e=this.map.layerIds[h],e=this.map.getLayer(e),
this._isTimeTemporalLayer(e,!0)&&m.push(e.id);h=0;for(g=this.map.graphicsLayerIds.length;h<g;h++)e=this.map.graphicsLayerIds[h],e=this.map.getLayer(e),this._isTimeTemporalLayer(e,!0)&&m.push(e.id);return a.map(m,f.hitch(this,function(a){return this.layerInfosObj.getLayerInfoById(a).title||""}))},_onLayerInfosIsShowInMapChanged:function(h){a.some(h,f.hitch(this,function(a){for(var e=null;!e;)e=this.map.getLayer(a.id),a=a.parentLayerInfo;return this.layerProcesser._isTimeTemporalLayer(e)}))&&f.hitch(this,
function(){this.layerProcesser._onTimeTemportalLayerChanged()})},_onLayerInfosChanged:function(a,g,e){"added"===g?(a=this.map.getLayer(e.id),this.layerProcesser._isTimeTemporalLayer(a,!0)&&f.hitch(this,function(){this.layerProcesser._onTimeTemportalLayerChanged()})):"removed"===g&&f.hitch(this,function(){this.layerProcesser._onTimeTemportalLayerChanged()})},_onTimeTemportalLayerChanged:function(){"closed"!==this.state&&(this.layerProcesser.hasVisibleTemporalLayer()?this.timeSlider?this.updateLayerLabel():
this.showTimeSlider():this.timeSlider&&this.closeTimeSlider())}})})},"widgets/TimeSlider/utils":function(){define(["dojo/_base/html","dojo/dom-geometry"],function(g,f){var a={initPositionForTheme:{DartTheme:{bottom:140},LaunchpadTheme:{bottom:120}},isRunInMobile:function(){return window.appInfo.isRunInMobile},isOutOfScreen:function(a,g){var h=f.getMarginBox(a.root),k=h.w,h=h.h;return g&&(g.top>=h||g.left>=k)?!0:!1},initPosition:function(f,p,h){var k=window.getAppConfig(),e;k&&k.theme&&k.theme.name&&
(e=k.theme.name);k=a.getInitTop(f,e);f=a.getInitLeft(f,p);h.top=k;h.left=f;g.setStyle(p,"top",h.top+"px");g.setStyle(p,"left",h.left+"px")},getInitTop:function(g,p){var h=0;return h=f.getMarginBox(g.root).h-(a.initPositionForTheme[p]?a.initPositionForTheme[p].bottom:60)-35},getInitLeft:function(a,p){var h=f.getMarginBox(a.root),k=g.getContentBox(p);return h.w/2-k.w/2}};return a})},"dojo/throttle":function(){define([],function(){return function(g,f){var a=!0;return function(){a&&(a=!1,g.apply(this,
arguments),setTimeout(function(){a=!0},f))}}})},"widgets/TimeSlider/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:dojox/form/resources/HorizontalRangeSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onkeyup:_onKeyUp" role\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" dojoAttachEvent\x3d"onmousedown:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv role\x3d"presentation" class\x3d"dojoxRangeSliderBarContainer" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" dojoAttachEvent\x3d"onmousedown:_onBarClick"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClickMax" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" dojoAttachEvent\x3d"onmousedown:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dojox/form/resources/VerticalRangeSlider.html":'\x3ctable class\x3d"dijitReset dijitSlider dijitSliderV dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconV" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton" dojoAttachEvent\x3d"onclick: increment"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" dojoAttachEvent\x3d"onclick:_onClkIncBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"leftDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV" style\x3d"text-align:center;height:100%;"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" style\x3d"height:100%;"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3ccenter role\x3d"presentation" style\x3d"position:relative;height:100%;" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;" role\x3d"slider"\r\n\t\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_onHandleClick"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_onBarClick"\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;" role\x3d"slider"\r\n\t\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_onHandleClickMax"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,rightDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV" style\x3d"text-align:center;height:100%;"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" dojoAttachEvent\x3d"onclick:_onClkDecBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconV" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton" dojoAttachEvent\x3d"onclick: decrement"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/VerticalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderV" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"leftDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderDecorationC" style\x3d"height:100%;"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3ccenter class\x3d"dijitReset dijitSliderBarContainerV" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c!--#5629--\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,rightDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:esri/dijit/templates/TimeSlider.html":'   \x3cdiv class\x3d"esriTimeSlider"\x3e\r\n   \x3ctable width\x3d"100%" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0"\x3e\r\n   \x3ctr\x3e\r\n   \x3ctd align\x3d"right" valign\x3d"middle"\x3e\x3cbutton dojoType\x3d"dijit.form.Button" showLabel\x3d"false" iconClass\x3d"tsButton tsPlayButton" dojoAttachEvent\x3d"onClick:_onPlay" dojoAttachPoint\x3d"playPauseBtn" type\x3d"button"\x3e${NLS_play}\x3c/button\x3e\x3c/td\x3e\r\n   \x3ctd align\x3d"center" valign\x3d"middle" width\x3d"80%" class\x3d"tsTmp"\x3e\x3c/td\x3e\r\n   \x3ctd align\x3d"left" valign\x3d"middle" width\x3d"30"\x3e\x3cbutton dojoType\x3d"dijit.form.Button" showLabel\x3d"false" iconClass\x3d"tsButton tsPrevButton" dojoAttachEvent\x3d"onClick:_onPrev" dojoAttachPoint\x3d"previousBtn" type\x3d"button"\x3e${NLS_previous}\x3c/button\x3e\x3c/td\x3e\r\n   \x3ctd align\x3d"left" valign\x3d"middle"\x3e\x3cbutton dojoType\x3d"dijit.form.Button" showLabel\x3d"false" iconClass\x3d"tsButton tsNextButton" dojoAttachEvent\x3d"onClick:_onNext" dojoAttachPoint\x3d"nextBtn" type\x3d"button"\x3e${NLS_next}\x3c/button\x3e\x3c/td\x3e\r\n   \x3c/tr\x3e    \r\n   \x3c/table\x3e\r\n   \x3c/div\x3e',
"url:widgets/TimeSlider/SpeedMenu.html":'\x3cdiv class\x3d"speed-container jimu-float-trailing" data-dojo-attach-point\x3d"speedContainerNode"\x3e\r\n\t\x3cdiv class\x3d"speed-label" data-dojo-attach-point\x3d"speedLabelNode" data-dojo-attach-event\x3d"click:_onSpeedLabelClick"\x3e1x\x3c/div\x3e\r\n\t\x3cdiv class\x3d"speed-menu hide" data-dojo-attach-point\x3d"speedMenu" data-dojo-attach-event\x3d"click:_onSelectSpeedItem"\x3e\r\n\t\t\x3c!--\x3cdiv class\x3d"speed-menu-item item-label jimu-ellipsis" title\x3d"${nls.speedLabel}"\x3e${nls.speedLabel}\x3c/div\x3e--\x3e\r\n\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"0.25"\x3e\r\n\t\t\t0.25x\x3cdiv class\x3d"jimu-float-trailing check hide"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"0.5"\x3e\r\n\t\t\t0.5x\x3cdiv class\x3d"jimu-float-trailing check hide"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"1" data-dojo-attach-point\x3d"initSpeedItem"\x3e\r\n\t\t\t1x\x3cdiv class\x3d"jimu-float-trailing check hide"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"1.5"\x3e\r\n\t\t\t1.5x\x3cdiv class\x3d"jimu-float-trailing check hide"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"2"\x3e\r\n\t\t\t2x\x3cdiv class\x3d"jimu-float-trailing check hide"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/TimeSlider/Widget.html":'\x3cdiv class\x3d"jimu-widget-timeslider mini-mode"\x3e\r\n\t\x3cdiv class\x3d"close-btn" data-dojo-attach-point\x3d"closeBtn"\x3e\x3c/div\x3e\r\n\r\n\t\x3cdiv class\x3d"no-time-content drag-handler" data-dojo-attach-point\x3d"noTimeContentNode"\x3e${nls.disableTips}\x3c/div\x3e\r\n\r\n\t\x3cdiv class\x3d"time-content" data-dojo-attach-point\x3d"timeContentNode"\x3e\r\n\t\t\x3cdiv class\x3d"label-container drag-handler" data-dojo-attach-point\x3d"labelContainer" data-dojo-attach-event\x3d"onclick:_onHandleClick"\x3e\r\n\t\t\t\x3cdiv class\x3d"time-extent jimu-ellipsis" data-dojo-attach-point\x3d"timeExtentLabelNode"\x3e${nls.timeExtent}\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3d"layer-labels jimu-ellipsis" data-dojo-attach-point\x3d"layerLabelsNode"\x3e${nls.layers}\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"slider-content clearFix jimu-float-leading" data-dojo-attach-point\x3d"sliderContent"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"sliderNodeContainer" class\x3d"slider-node-container jimu-float-leading"\x3e\x3c/div\x3e\r\n\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"btnsContainer" class\x3d"btns-container jimu-float-leading"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"previousBtn" class\x3d"previousBtn btn jimu-float-leading"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"playBtn" class\x3d"playBtn btn jimu-float-leading"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"nextBtn" class\x3d"nextBtn btn jimu-float-leading"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\r\n\t\t\t\x3c!--speedMenuNode--\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/TimeSlider/css/style.css":'.jimu-widget-timeslider{position: absolute; background: rgba(0,0,0,0.55); border-radius: 3px; padding: 0 14px; width: 360px !important; z-index: 102 !important; transition: height 0.5s ease; -moz-transition: height 0.5s ease; -webkit-transition: height 0.5s ease; -o-transition: height 0.5s ease;}.jimu-rtl .jimu-widget-timeslider{right: auto !important;}.jimu-widget-timeslider .esriTimeSlider{z-index: 99;}.jimu-widget-timeslider .no-time-content,.jimu-widget-timeslider .time-content{position: relative; display: none; z-index: 0;}.jimu-widget-timeslider .no-time-content{height: 30px; padding: 0px 10px; line-height: 30px; font-size: 14px; color: #fff;}.jimu-widget-timeslider .time-content{height: 72px;}.jimu-widget-timeslider .label-container{padding: 10px 15px 10px 10px; font-size: 12px;}.jimu-widget-timeslider .drag-handler{cursor: move;}.jimu-widget-timeslider .time-extent{color: #fff; font-family: AvenirNext-Medium; color: #FFFFFF; line-height: 20px; margin-bottom: 5px;}.jimu-widget-timeslider .layer-labels{opacity: 0.8; font-family: AvenirNext-Regular; color: #FFFFFF;}.jimu-widget-timeslider .slider-content{position: absolute; max-width: 657px; margin: auto; bottom: 20px; width: 100%; height: 32px; opacity: 1; transition: opacity 0.5s ease; -moz-transition: opacity 0.5s ease; -webkit-transition: opacity 0.5s ease; -o-transition: opacity 0.5s ease;}.jimu-widget-timeslider .slider-content .esriTimeSlider{width: 224px; margin: 5px 8px 0 8px;}.jimu-widget-timeslider .speed-container{position: relative; height: 16px; width: 28px; cursor: pointer; margin: 0 10px; bottom: -2px;}.jimu-widget-timeslider .speed-menu{width: 75px; position: absolute; z-index: 104; bottom: 27px; text-align: left; font-size: 12px; background: #FFFFFF; color: #000000; box-shadow: 0 2px 4px 0;}.jimu-rtl .jimu-widget-timeslider .speed-menu{text-align: right;}.jimu-widget-timeslider .speed-menu-item{width: 100%; display: inline-block; height: 24px; line-height: 24px; padding-left: 10px;}.jimu-rtl .jimu-widget-timeslider .speed-menu-item{padding-left: 0; padding-right: 10px;}.jimu-widget-timeslider .item-label {border-bottom: 1px solid #c9e0f6;}.jimu-widget-timeslider .speed-menu-item:hover{background: #EEEEEE;}.jimu-widget-timeslider .speed-label{width: 28px; height: 16px; font-family: Avenir-Medium; font-size: 12px; color: #000000; text-align: center; opacity: 0.6; background: #FFFFFF; border-radius: 100px; position: absolute;}.jimu-widget-timeslider .speed-label:hover{opacity: 1; background: #FFFFFF;}.jimu-widget-timeslider .esriTimeSlider .tsTicks{display: none;}.jimu-widget-timeslider .esriTimeSlider .ts {padding: 0;}.jimu-widget-timeslider.mobile {width:100% !important; top:auto !important; bottom:0 !important; left:0 !important;}.jimu-widget-timeslider.mobile .esriTimeSlider{width: 100%; margin: 0; margin-bottom: 10px;}.jimu-widget-timeslider.mobile .slider-content{bottom: 9px;}.jimu-widget-timeslider.mobile .slider-node-container{width:100%;}.jimu-widget-timeslider.mobile .label-container .time-extent,.jimu-widget-timeslider.mobile .label-container .layer-labels{text-align: center;}.jimu-widget-timeslider .hide {display: none !important;}.jimu-widget-timeslider .clearFix {*overflow: hidden; *zoom: 1;}.jimu-widget-timeslider .clearFix:after {display: table; content: ""; width: 0; clear: both;}.jimu-widget-timeslider .close-btn{height: 10px; width: 10px; background: url("images/close.svg") no-repeat; background-position: 50% 50%; cursor: pointer; vertical-align: middle; position: absolute; right:14px; top:14px; z-index: 1;}.jimu-rtl .jimu-widget-timeslider .close-btn{right:auto; left:14px;}.jimu-widget-timeslider .esriTimeSlider .dijitInline.dijitButtonNode{background: transparent; border: none; box-shadow: none}.jimu-widget-timeslider .esriTimeSlider .dijitSliderImageHandleH{top:-8px}.jimu-widget-timeslider .esriTimeSlider .dojoxRangeSlider .dijitSliderImageHandleH{height: 8px; width: 8px; background: url("images/track.svg") no-repeat; background-position: 50% 50%; cursor: pointer;}.jimu-widget-timeslider .esriTimeSlider .dojoxRangeSlider .dijitSliderImageHandleH:hover {background: url("images/track_hover.svg") no-repeat;}.jimu-widget-timeslider .dijitSliderLeftBumper{border-radius: 10px 0 0 10px;}.jimu-widget-timeslider .dijitSliderRightBumper{border-radius: 0 10px 10px 0;}.jimu-widget-timeslider .dijitSlider .dojoxRangeSliderBarContainer .dijitSliderProgressBarH{background-image: none; background-color: #24B5CC;;}.jimu-widget-timeslider .btns-container{margin-left: auto; margin-bottom: 12px;}.jimu-widget-timeslider .previousBtn {height: 20px; width: 20px; background: url("images/skip-previous.svg") no-repeat; background-position: 50% 50%; cursor: pointer;}.jimu-widget-timeslider .previousBtn:hover {background: url("images/skip-previous_hover.svg") no-repeat;}.jimu-widget-timeslider .nextBtn {height: 20px; width: 20px; background: url("images/skip-next.svg") no-repeat; background-position: 50% 50%; cursor: pointer;}.jimu-widget-timeslider .nextBtn:hover {background: url("images/skip-next_hover.svg") no-repeat;}.jimu-widget-timeslider .playBtn{height: 20px; width: 20px; background: url("images/play.svg") no-repeat; background-position: 50% 50%; cursor: pointer; margin: 0px 6px;}.jimu-widget-timeslider .playBtn:hover {background: url("images/play_hover.svg") no-repeat;}.jimu-widget-timeslider .playBtn.pause{height: 20px; width: 20px; background: url("images/pause.svg") no-repeat; background-position: 50% 50%; cursor: pointer;}.jimu-widget-timeslider .playBtn.pause:hover {background: url("images/pause_hover.svg") no-repeat;}.check{background: url("images/check.svg") no-repeat; width: 18px; height: 12px; display: inline-block; margin: 5px;}.jimu-widget-timeslider.mini-mode {height:35px !important; background: rgba(0,0,0,0.4);}.jimu-widget-timeslider.mini-mode .time-content{height: 35px;}.jimu-widget-timeslider.mini-mode .label-container{padding: 0;}.jimu-widget-timeslider.mini-mode .label-container .layer-labels{display: none !important;}.jimu-widget-timeslider.mini-mode .slider-content{opacity: 0;}.jimu-widget-timeslider.mini-mode .slider-content .esriTimeSlider{margin: 0; bottom: 0;}.jimu-widget-timeslider.mini-mode .slider-content .dijitSlider .dijitSliderRemainingBarH,.jimu-widget-timeslider.mini-mode .slider-content .dijitSlider .dijitSliderRightBumper,.jimu-widget-timeslider.mini-mode .dijitSlider.dojoxRangeSlider .dijitSliderLeftBumper,.jimu-widget-timeslider.mini-mode .dijitSlider.dojoxRangeSlider .dijitSliderBottomBumper{background-color: #333333; border-color: #333333;}.jimu-widget-timeslider.mini-mode .close-btn,.jimu-widget-timeslider.mini-mode .btns-container,.jimu-widget-timeslider.mini-mode .speed-container{display: none;}.jimu-widget-timeslider.mini-mode .esriTimeSlider .dijitSliderImageHandleH{display: none;}.jimu-widget-timeslider.mini-mode .time-extent{padding: 6px; text-align: center;}.jimu-widget-timeslider.mini-mode .slider-content .esriTimeSlider{bottom: -45px !important; width: 100%;}.mini-mode.mobile .slider-content .esriTimeSlider{bottom: -33px;}.jimu-widget-timeslider.mini-mode .slider-node-container{width:100%; overflow: hidden;}.DartTheme .jimu-widget-timeslider .dijitSliderImageHandle:after{display:none;}.LaunchpadTheme .jimu-widget-timeslider{position: absolute;}.LaunchpadTheme .jimu-widget-timeslider .dijitSliderImageHandle:after{display:none;}',
"*now":function(g){g(['dojo/i18n!*preload*widgets/TimeSlider/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/fx jimu/WidgetManager dojo/dnd/move dojo/on dojo/query dojo/Deferred dojo/dom-geometry jimu/LayerInfos/LayerInfos jimu/BaseWidget esri/TimeExtent esri/dijit/TimeSlider ./SpeedMenu jimu/utils ./TimeProcesser ./LayerProcesser ./utils dojo/throttle".split(" "),function(g,f,a,m,p,h,k,e,q,n,r,t,y,x,v,u,c,w,d,l,A){return g([y],{baseClass:"jimu-widget-timeslider",clasName:"esri.widgets.TimeSlider",speedMenu:null,_showed:!1,
_timeHandles:null,layerInfosObj:null,_layerInfosDef:null,_timeSliderPropsDef:null,_miniModeTimer:null,postCreate:function(){this.inherited(arguments);this._timeHandles=[];this.layerProcesser=new d({map:this.map});this.timeProcesser=new w({map:this.map,nls:this.nls,config:this.config});this._initLayerInfosObj().then(f.hitch(this,function(){this.timeProcesser.setLayerInfosObj(this.layerInfosObj);this.layerProcesser.setLayerInfosObj(this.layerInfosObj);this.layerProcesser.processTimeDisableLayer()}))},
startup:function(){this.inherited(arguments);this.own(e(this.map,"resize",f.hitch(this,this._onMapResize)));this.own(e(this.closeBtn,"click",f.hitch(this,this._closeHanlder)));this.own(e(this.domNode,"mouseover",f.hitch(this,function(){l.isRunInMobile()||this._clearMiniModeTimer()})));this.own(e(this.domNode,"mouseout",f.hitch(this,function(){l.isRunInMobile()||this._setMiniModeTimer()})));this.own(e(this.domNode,"click",f.hitch(this,function(){l.isRunInMobile()&&(this._clearMiniModeTimer(),this._setMiniModeTimer(),
a.hasClass(this.domNode,"mini-mode")&&(a.removeClass(this.domNode,"mini-mode"),this._adaptResponsive()))})))},setPosition:function(){if(!this._isSetPosition){var b=this.map.id,d=c.getPositionStyle(this.position);a.place(this.domNode,b);a.setStyle(this.domNode,d);this._isSetPosition=!0}},resize:function(){A(f.hitch(this,this._onMapResize),200)},onOpen:function(){this._initLayerInfosObj().then(f.hitch(this,function(){this.layerProcesser.hasVisibleTemporalLayer()?this._showed||this.showTimeSlider():
this._showNoTimeLayer();l.initPosition(this.map,this.domNode,this.position);this._adaptResponsive()}))},onClose:function(){this._initLayerInfosObj().then(f.hitch(this,function(){this.layerProcesser.hasVisibleTemporalLayer()?this._showed&&this.closeTimeSlider():(a.setStyle(this.noTimeContentNode,"display","none"),this._showed=!1)}))},_closeHanlder:function(){h.getInstance().closeWidget(this)},_showNoTimeLayer:function(){a.setStyle(this.noTimeContentNode,"display","block");a.setStyle(this.timeContentNode,
"display","none");this._showed=!0},showTimeSlider:function(){a.setStyle(this.noTimeContentNode,"display","none");this.createTimeSlider().then(f.hitch(this,function(){"undefined"===typeof this.timeSlider?this._showNoTimeLayer():(this.timeProcesser.setTimeSlider(this.timeSlider),this._updateTimeSliderUI(),this.playBtn&&a.hasClass(this.playBtn,"pause")&&a.removeClass(this.playBtn,"pause"),a.setStyle(this.timeContentNode,"display","block"),a.addClass(this.domNode,"show-time-slider"),this._initSpeedMenu(),
p.animateProperty({node:this.timeContentNode,properties:{opacity:{start:0,end:1}},onEnd:f.hitch(this,function(){this._showed=!0;!1===a.hasClass(this.playBtn,"pause")&&e.emit(this.playBtn,"click",{cancelable:!1,bubbles:!0});this._adaptResponsive()}),duration:500}).play())}))},closeTimeSlider:function(){this._showed=this._isSetPosition=this._draged=!1;a.setStyle(this.domNode,"display","none");this.removeTimeSlider();this._destroySpeedMenu();p.animateProperty({node:this.timeContentNode,properties:{opacity:{start:1,
end:0}},onEnd:f.hitch(this,this._onCloseTimeSliderEnd),duration:500}).play()},_onCloseTimeSliderEnd:function(){this._destroyed||(a.removeClass(this.domNode,"show-time-slider"),"closed"===this.state&&(a.removeClass(this.domNode,"mobile-time-slider"),a.removeClass(this.timeContentNode,"mobile")))},getTimeSliderProps:function(){this._timeSliderPropsDef||(this._timeSliderPropsDef=new n,this.own(this._timeSliderPropsDef),this.timeProcesser.getTsPros().then(f.hitch(this,function(b){null===b||!this.timeProcesser.needUpdateFullTime()&&
!0!==b._needToFindDefaultInterval?this._timeSliderPropsDef.resolve(b):this.timeProcesser._getUpdatedFullTime().then(f.hitch(this,function(a){var c=a.startTime.getTime(),d=a.endTime.getTime();b.startTime>d||b.endTime<c?(b.startTime=c,b.endTime=d):(b.startTime<c&&(b.startTime=c),b.endTime>d&&(b.endTime=d));!0===b._needToFindDefaultInterval&&(b.timeStopInterval=this.timeProcesser.findDefaultInterval(a));this._timeSliderPropsDef.resolve(b)}))})));return this._timeSliderPropsDef},createTimeSlider:function(){return this.getTimeSliderProps().then(f.hitch(this,
function(b){if(b){if(this.timeSlider)return this.timeSlider;this.sliderNode=a.create("div",{},this.sliderNodeContainer);this.timeSlider=new v({},this.sliderNode);var c=new x(new Date(b.startTime),new Date(b.endTime));this.timeSlider.setThumbCount(b.thumbCount);b.numberOfStops?this.timeSlider.createTimeStopsByCount(c,b.numberOfStops+1):this.timeSlider.createTimeStopsByTimeInterval(c,b.timeStopInterval.interval,b.timeStopInterval.units);this.timeSlider.setThumbMovingRate(b.thumbMovingRate);25<this.timeSlider.timeStops.length&&
this.timeSlider.setTickCount(0);2===this.timeSlider.thumbCount&&this.timeSlider.setThumbIndexes([0,1]);this.timeSlider.setLoop(!0);this.timeSlider.startup();this._timeHandles.push(e(this.timeSlider,"time-extent-change",f.hitch(this,this.updateTimeExtentLabel)));this.map.setTimeSlider(this.timeSlider);return this.timeSlider}}))},_updateTimeSliderUI:function(){this.updateLayerLabel();this.updateTimeExtentLabel();this._updateBtnsUI()},_updateBtnsUI:function(){var b=q(".esriTimeSlider \x3e table \x3e tbody \x3e tr \x3e td \x3e span \x3e span",
this.esriTimeSlider);b&&3===b.length&&(this._rawPlayBtn=b[0],this._rawPreviousBtn=b[1],this._rawNextBtn=b[2]);(b=q(".esriTimeSlider \x3e table \x3e tbody \x3e tr \x3e td",this.esriTimeSlider))&&4===b.length&&(a.addClass(b[0],"hide"),a.addClass(b[2],"hide"),a.addClass(b[3],"hide"));this._previousBtnHandler||(this._previousBtnHandler=this.own(e(this.previousBtn,"click",f.hitch(this,function(){e.emit(this._rawPreviousBtn,"click",{cancelable:!1,bubbles:!0})}))));this._playBtnHandler||(this._playBtnHandler=
this.own(e(this.playBtn,"click",f.hitch(this,function(b){e.emit(this._rawPlayBtn,"click",{cancelable:!1,bubbles:!0});a.hasClass(this.playBtn,"pause")?a.removeClass(this.playBtn,"pause"):(a.addClass(this.playBtn,"pause"),l.isRunInMobile()&&(a.addClass(this.domNode,"mini-mode"),this._adaptResponsive()));b.stopPropagation();b.preventDefault()}))));this._nextBtnHandler||(this._nextBtnHandler=this.own(e(this.nextBtn,"click",f.hitch(this,function(){e.emit(this._rawNextBtn,"click",{cancelable:!1,bubbles:!0})}))));
window.isRTL&&(a.place(this.previousBtn,this.playBtn,"after"),a.place(this.nextBtn,this.playBtn,"before"))},removeTimeSlider:function(){m.forEach(this._timeHandles,function(a){a&&a.remove&&a.remove()});this.timeSlider&&!this.timeSlider._destroyed&&(this.timeSlider.destroy(),this.timeSlider=null);this.map&&this.map.setTimeExtent()},updateLayerLabel:function(){if(this.config.showLabels){a.setStyle(this.layerLabelsNode,"display","block");var b=this.nls.layers,c=this.layerProcesser._getVisibleTemporalLayerNames(),
b=b+c.join(",");this.layerLabelsNode.innerHTML=b;a.setAttr(this.layerLabelsNode,"title",b)}else a.setStyle(this.layerLabelsNode,"display","none")},updateTimeExtentLabel:function(b){b=this.timeProcesser._getTimeFormatLabel(b);this.timeExtentLabelNode.innerHTML=b;a.setAttr(this.timeExtentLabelNode,"title",b)},_adaptResponsive:function(b){this._showed&&setTimeout(f.hitch(this,function(){l.isRunInMobile()?(this.disableMoveable(),a.addClass(this.timeContentNode,"mobile"),a.addClass(this.domNode,"mobile")):
(b&&"undefined"!==typeof b.refreshMoveable&&!1===b.refreshMoveable||("none"!==a.getStyle(this.noTimeContentNode,"display")?this.dragHandler=this.noTimeContentNode:this.dragHandler=this.labelContainer,this.makeMoveable(this.dragHandler)),a.removeClass(this.timeContentNode,"mobile"),a.removeClass(this.domNode,"mobile"));this._setPopupPosition(l.isRunInMobile())}),10)},_setPopupPosition:function(b){b?this.config.showLabels?a.setStyle(this.domNode,"height","128px"):a.setStyle(this.domNode,"height","108px"):
(this.config.showLabels?a.setStyle(this.domNode,"height","92px"):a.setStyle(this.domNode,"height","72px"),this._draged||l.initPosition(this.map,this.domNode,this.position),!this._moving&&this.position&&this.position.left&&this.position.top&&(a.setStyle(this.domNode,"top",this.position.top+"px"),a.setStyle(this.domNode,"left",this.position.left+"px")));this._setUI(b)},_setUI:function(b){var c=a.getContentBox(this.btnsContainer);b?(b=window.innerWidth/2-c.w/2,window.isRTL?a.setStyle(this.btnsContainer,
"margin-right",b+"px"):a.setStyle(this.btnsContainer,"margin-left",b+"px"),this.config.showLabels&&!a.hasClass(this.domNode,"mini-mode")?a.setStyle(this.sliderContent,"bottom","-12px"):this.config.showLabels&&a.hasClass(this.domNode,"mini-mode")&&a.setStyle(this.sliderContent,"bottom","20px")):(a.setStyle(this.btnsContainer,"margin-left","auto"),a.setStyle(this.btnsContainer,"margin-right","auto"),this.config.showLabels&&!a.hasClass(this.domNode,"mini-mode")?a.setStyle(this.sliderContent,"bottom",
"-20px"):this.config.showLabels&&a.hasClass(this.domNode,"mini-mode")?a.setStyle(this.sliderContent,"bottom","20px"):a.setStyle(this.sliderContent,"bottom","0px"))},_onMapResize:function(){"closed"!==this.state&&(l.isOutOfScreen(this.map,this.position)&&!l.isRunInMobile()&&l.initPosition(this.map,this.domNode,this.position),this._adaptResponsive())},destroy:function(){this.map&&this.map.setTimeExtent(null);this.inherited(arguments)},_initLayerInfosObj:function(){this._layerInfosDef||(this._layerInfosDef=
new n,this.own(this._layerInfosDef),t.getInstance(this.map,this.map.itemInfo).then(f.hitch(this,function(a){this.layerInfosObj=a;this.own(e(a,"layerInfosIsShowInMapChanged",f.hitch(this,this.layerProcesser._onLayerInfosIsShowInMapChanged)));this.own(a.on("layerInfosChanged",f.hitch(this,this.layerProcesser._onLayerInfosChanged)));this._layerInfosDef.resolve(this.layerInfosObj)})));return this._layerInfosDef},_clearMiniModeTimer:function(){a.removeClass(this.domNode,"mini-mode");this._adaptResponsive({refreshMoveable:!1});
this._miniModeTimer&&clearTimeout(this._miniModeTimer)},_setMiniModeTimer:function(){var b=l.isRunInMobile()?5E3:2E3;this._miniModeTimer=setTimeout(f.hitch(this,function(){a.addClass(this.domNode,"mini-mode");this._adaptResponsive()}),b)},makeMoveable:function(a){this.disableMoveable();var b=r.getMarginBox(this.map.root);this.moveable=new k.boxConstrainedMoveable(this.domNode,{box:b,handle:a||this.handleNode,within:!0});this.own(e(this.moveable,"MoveStart",f.hitch(this,this.onMoveStart)));this.own(e(this.moveable,
"Moving",f.hitch(this,this.onMoving)));this.own(e(this.moveable,"MoveStop",f.hitch(this,this.onMoveStop)))},disableMoveable:function(){this.moveable&&(this.dragHandler=null,this.moveable.destroy(),this.moveable=null)},onMoveStart:function(b){var c=r.getMarginBox(this.map.root),d=r.getMarginBox(this.domNode);if(window.isRTL){var e=a.getStyle(b.node,"right");a.setStyle(b.node,"left",c.w-d.w-parseInt(e,10)+"px");a.setStyle(b.node,"right","")}this._draged||(this._draged=!0)},onMoving:function(){this._moving=
!0},onMoveStop:function(b){b&&b.node&&(a.setStyle(b.node,"opacity",1),b=r.getMarginBox(b.node),this.position.left=b.l,this.position.top=b.t,setTimeout(f.hitch(this,function(){this._moving=!1}),500))},_onHandleClick:function(a){a.stopPropagation()},_initSpeedMenu:function(){this.speedMenu||(this.speedMenuNode=a.create("div",{"class":"jimu-float-trailing"},this.sliderContent),this.speedMenu=new u({nls:this.nls},this.speedMenuNode),this.speedMenuSelectedHanlder=this.own(e(this.speedMenu,"selected",f.hitch(this,
function(a){this.getTimeSliderProps().then(f.hitch(this,function(b){if(this.timeSlider&&b&&a){var c=parseFloat(a);this.timeSlider.setThumbMovingRate(b.thumbMovingRate/c)}}))}))),this.speedMenuOpenHanlder=this.own(e(this.speedMenu,"open",f.hitch(this,function(){this._clearMiniModeTimer()}))),this.speedMenuCloseHanlder=this.own(e(this.speedMenu,"close",f.hitch(this,function(){this._setMiniModeTimer()}))))},_destroySpeedMenu:function(){this.speedMenu&&this.speedMenu.destroy&&this.speedMenu.destroy();
this.speedMenuCloseHanlder=this.speedMenuOpenHanlder=this.speedMenuSelectedHanlder=this.speedMenu=null}})});